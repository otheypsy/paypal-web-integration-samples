import{m as ee}from"./index-bc6e35e4.js";import{c as ne}from"./logger.utils-ababba19.js";function M(U){throw new Error('Could not dynamically require "'+U+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Y={exports:{}},ye=Y.exports;(function(U,k){(function(F){if(!0)U.exports=F();else var z})(function(){var F,z,H;return function(){function r(d,p,n){function i(a,c){if(!p[a]){if(!d[a]){var e=typeof M=="function"&&M;if(!c&&e)return e(a,!0);if(t)return t(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=p[a]={exports:{}};d[a][0].call(u.exports,function(f){var v=d[a][1][f];return i(v||f)},u,u.exports,r,d,p,n)}return p[a].exports}for(var t=typeof M=="function"&&M,o=0;o<n.length;o++)i(n[o]);return i}return r}()({1:[function(r,d,p){"use strict";var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(p,"__esModule",{value:!0}),p.PromiseGlobal=void 0;var i=n(r("promise-polyfill")),t=typeof Promise<"u"?Promise:i.default;p.PromiseGlobal=t},{"promise-polyfill":9}],2:[function(r,d,p){"use strict";var n=r("./lib/promise"),i={};function t(o){var a,c=JSON.stringify(o);if(!o.forceScriptReload&&(a=i[c],a))return a;var e=document.createElement("script"),l=o.dataAttributes||{},u=o.container||document.head;return e.src=o.src,e.id=o.id||"",e.async=!0,o.crossorigin&&e.setAttribute("crossorigin",""+o.crossorigin),Object.keys(l).forEach(function(f){e.setAttribute("data-"+f,""+l[f])}),a=new n.PromiseGlobal(function(f,v){e.addEventListener("load",function(){f(e)}),e.addEventListener("error",function(){v(new Error(o.src+" failed to load."))}),e.addEventListener("abort",function(){v(new Error(o.src+" has aborted."))}),u.appendChild(e)}),i[c]=a,a}t.clearCache=function(){i={}},d.exports=t},{"./lib/promise":1}],3:[function(r,d,p){d.exports=r("./dist/load-script")},{"./dist/load-script":2}],4:[function(r,d,p){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var t=Math.random()*16|0,o=i==="x"?t:t&3|8;return o.toString(16)})}d.exports=n},{}],5:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0});function n(i){return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];setTimeout(function(){try{i.apply(void 0,t)}catch(a){console.log("Error in callback function"),console.log(a)}},1)}}p.deferred=n},{}],6:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0});function n(i){var t=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t||(t=!0,i.apply(void 0,o))}}p.once=n},{}],7:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0});function n(i,t){if(!t)return i;i.then(function(o){return t(null,o)}).catch(function(o){return t(o)})}p.promiseOrCallback=n},{}],8:[function(r,d,p){"use strict";var n=r("./lib/deferred"),i=r("./lib/once"),t=r("./lib/promise-or-callback");function o(a){return function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];var l,u=c[c.length-1];return typeof u=="function"&&(l=c.pop(),l=i.once(n.deferred(l))),t.promiseOrCallback(a.apply(this,c),l)}}o.wrapPrototype=function(a,c){c===void 0&&(c={});var e=c.ignoreMethods||[],l=c.transformPrivateMethods===!0,u=Object.getOwnPropertyNames(a.prototype).filter(function(f){var v,g=f!=="constructor"&&typeof a.prototype[f]=="function",y=e.indexOf(f)===-1;return l?v=!0:v=f.charAt(0)!=="_",g&&v&&y});return u.forEach(function(f){var v=a.prototype[f];a.prototype[f]=o(v)}),a},d.exports=o},{"./lib/deferred":5,"./lib/once":6,"./lib/promise-or-callback":7}],9:[function(r,d,p){"use strict";function n(s){var h=this.constructor;return this.then(function(m){return h.resolve(s()).then(function(){return m})},function(m){return h.resolve(s()).then(function(){return h.reject(m)})})}function i(s){var h=this;return new h(function(m,T){if(!(s&&typeof s.length<"u"))return T(new TypeError(typeof s+" "+s+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var I=Array.prototype.slice.call(s);if(I.length===0)return m([]);var N=I.length;function P(_,A){if(A&&(typeof A=="object"||typeof A=="function")){var E=A.then;if(typeof E=="function"){E.call(A,function(O){P(_,O)},function(O){I[_]={status:"rejected",reason:O},--N===0&&m(I)});return}}I[_]={status:"fulfilled",value:A},--N===0&&m(I)}for(var b=0;b<I.length;b++)P(b,I[b])})}var t=setTimeout;function o(s){return!!(s&&typeof s.length<"u")}function a(){}function c(s,h){return function(){s.apply(h,arguments)}}function e(s){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if(typeof s!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(s,this)}function l(s,h){for(;s._state===3;)s=s._value;if(s._state===0){s._deferreds.push(h);return}s._handled=!0,e._immediateFn(function(){var m=s._state===1?h.onFulfilled:h.onRejected;if(m===null){(s._state===1?u:f)(h.promise,s._value);return}var T;try{T=m(s._value)}catch(I){f(h.promise,I);return}u(h.promise,T)})}function u(s,h){try{if(h===s)throw new TypeError("A promise cannot be resolved with itself.");if(h&&(typeof h=="object"||typeof h=="function")){var m=h.then;if(h instanceof e){s._state=3,s._value=h,v(s);return}else if(typeof m=="function"){y(c(m,h),s);return}}s._state=1,s._value=h,v(s)}catch(T){f(s,T)}}function f(s,h){s._state=2,s._value=h,v(s)}function v(s){s._state===2&&s._deferreds.length===0&&e._immediateFn(function(){s._handled||e._unhandledRejectionFn(s._value)});for(var h=0,m=s._deferreds.length;h<m;h++)l(s,s._deferreds[h]);s._deferreds=null}function g(s,h,m){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof h=="function"?h:null,this.promise=m}function y(s,h){var m=!1;try{s(function(T){m||(m=!0,u(h,T))},function(T){m||(m=!0,f(h,T))})}catch(T){if(m)return;m=!0,f(h,T)}}e.prototype.catch=function(s){return this.then(null,s)},e.prototype.then=function(s,h){var m=new this.constructor(a);return l(this,new g(s,h,m)),m},e.prototype.finally=n,e.all=function(s){return new e(function(h,m){if(!o(s))return m(new TypeError("Promise.all accepts an array"));var T=Array.prototype.slice.call(s);if(T.length===0)return h([]);var I=T.length;function N(b,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var A=_.then;if(typeof A=="function"){A.call(_,function(E){N(b,E)},m);return}}T[b]=_,--I===0&&h(T)}catch(E){m(E)}}for(var P=0;P<T.length;P++)N(P,T[P])})},e.allSettled=i,e.resolve=function(s){return s&&typeof s=="object"&&s.constructor===e?s:new e(function(h){h(s)})},e.reject=function(s){return new e(function(h,m){m(s)})},e.race=function(s){return new e(function(h,m){if(!o(s))return m(new TypeError("Promise.race accepts an array"));for(var T=0,I=s.length;T<I;T++)e.resolve(s[T]).then(h,m)})},e._immediateFn=typeof setImmediate=="function"&&function(s){setImmediate(s)}||function(s){t(s,0)},e._unhandledRejectionFn=function(h){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",h)},d.exports=e},{}],10:[function(r,d,p){"use strict";var n=r("./constants").BRAINTREE_VERSION,i=r("./request/graphql"),t=r("./request"),o=r("../lib/is-verified-domain"),a=r("../lib/braintree-error"),c=r("../lib/convert-to-braintree-error"),e=r("./get-configuration").getConfiguration,l=r("../lib/create-authorization-data"),u=r("../lib/add-metadata"),f=r("@braintree/wrap-promise"),v=r("../lib/once"),g=r("../lib/deferred"),y=r("../lib/assign").assign,s=r("../lib/analytics"),h=r("./errors"),m=r("../lib/constants").VERSION,T=r("../lib/constants").GRAPHQL_URLS,I=r("../lib/methods"),N=r("../lib/convert-methods-to-error"),P=r("../lib/assets"),b=r("../lib/constants").FRAUDNET_FNCLS,_=r("../lib/constants").FRAUDNET_SOURCE,A=r("../lib/constants").FRAUDNET_URL,E={};function O(C){var L,R;if(C=C||{},L=JSON.stringify(C),R=C.gatewayConfiguration,!R)throw new a(h.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(x){if(x in R&&!o(R[x]))throw new a({type:h.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:h.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:x+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(L)},this._request=t,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=R.clientApiUrl+"/v1/",R.graphQL){if(!o(R.graphQL.url))throw new a({type:h.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:h.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"graphQL.url property is on an invalid domain."});this._graphQL=new i({graphQL:R.graphQL})}}O.initialize=function(C){var L,R,x=E[C.authorization];if(x)return s.sendEvent(x,"custom.client.load.cached"),x;try{R=l(C.authorization)}catch{return Promise.reject(new a(h.CLIENT_INVALID_AUTHORIZATION))}return x=e(R).then(function(D){return C.debug&&(D.isDebug=!0),D.authorization=C.authorization,L=new O(D),L}),E[C.authorization]=x,s.sendEvent(x,"custom.client.load.initialized"),x.then(function(D){return s.sendEvent(L,"custom.client.load.succeeded"),D}).catch(function(D){return delete E[C.authorization],Promise.reject(D)})},O.clearCache=function(){E={}},O.prototype._findOrCreateFraudnetJSON=function(C){var L=document.querySelector('script[fncls="'+b+'"]'),R,x,D,B;L||(L=document.body.appendChild(document.createElement("script")),L.type="application/json",L.setAttribute("fncls",b)),R=this.getConfiguration(),x={rda_tenant:"bt_card",mid:R.gatewayConfiguration.merchantId},D=R.authorizationFingerprint,D&&D.split("&").forEach(function(j){var V=j.split("=");V[0]==="customer_id"&&V.length>1&&(x.cid=V[1])}),B={f:C.substr(0,32),fp:x,bu:!1,s:_},L.text=JSON.stringify(B)},O.prototype.request=function(C,L){var R=this,x=new Promise(function(D,B){var j,V,Z,K,ie=!!(C.endpoint==="payment_methods/credit_cards"&&R.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if(C.api!=="graphQLApi"&&(C.method?C.endpoint||(j="options.endpoint"):j="options.method"),j)throw new a({type:h.CLIENT_OPTION_REQUIRED.type,code:h.CLIENT_OPTION_REQUIRED.code,message:j+" is required when making a request."});if("api"in C?V=C.api:V="clientApi",K={method:C.method,graphQL:R._graphQL,timeout:C.timeout,metadata:R._configuration.analyticsMetadata},V==="clientApi")Z=R._clientApiBaseUrl,K.data=u(R._configuration,C.data);else if(V==="graphQLApi")Z=T[R._configuration.gatewayConfiguration.environment],C.endpoint="",K.method="post",K.data=y({clientSdkMetadata:{platform:R._configuration.analyticsMetadata.platform,source:R._configuration.analyticsMetadata.source,integration:R._configuration.analyticsMetadata.integration,sessionId:R._configuration.analyticsMetadata.sessionId,version:m}},C.data),K.headers=S(R._configuration);else throw new a({type:h.CLIENT_OPTION_INVALID.type,code:h.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});K.url=Z+C.endpoint,K.sendAnalyticsEvent=function(J){s.sendEvent(R,J)},R._request(K,function(J,X,te){var Q,$;if($=w(te,J),$){B($);return}if(V==="graphQLApi"&&X.errors){B(c(X.errors,{type:h.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:h.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:h.CLIENT_GRAPHQL_REQUEST_ERROR.message}));return}Q=y({_httpStatus:te},X),ie&&Q.creditCards&&Q.creditCards.length>0&&(R._findOrCreateFraudnetJSON(Q.creditCards[0].nonce),P.loadScript({src:A,forceScriptReload:!0})),D(Q)})});if(typeof L=="function"){L=v(g(L)),x.then(function(D){L(null,D,D._httpStatus)}).catch(function(D){var B=D&&D.details&&D.details.httpStatus;L(D,null,B)});return}return x};function w(C,L){var R;if(C===-1?R=new a(h.CLIENT_REQUEST_TIMEOUT):C===401?R=new a(h.CLIENT_AUTHORIZATION_INVALID):C===403?R=new a(h.CLIENT_AUTHORIZATION_INSUFFICIENT):C===429?R=new a(h.CLIENT_RATE_LIMITED):C>=500?R=new a(h.CLIENT_GATEWAY_NETWORK):(C<200||C>=400)&&(R=c(L,{type:h.CLIENT_REQUEST_ERROR.type,code:h.CLIENT_REQUEST_ERROR.code,message:h.CLIENT_REQUEST_ERROR.message})),R)return R.details=R.details||{},R.details.httpStatus=C,R}O.prototype.toJSON=function(){return this.getConfiguration()},O.prototype.getVersion=function(){return m},O.prototype.teardown=f(function(){var C=this;return delete E[C.getConfiguration().authorization],N(C,I(O.prototype)),Promise.resolve()});function S(C){var L=C.authorizationFingerprint||C.authorization;return{Authorization:"Bearer "+L,"Braintree-Version":n}}d.exports=O},{"../lib/add-metadata":28,"../lib/analytics":29,"../lib/assets":30,"../lib/assign":31,"../lib/braintree-error":32,"../lib/constants":33,"../lib/convert-methods-to-error":34,"../lib/convert-to-braintree-error":35,"../lib/create-authorization-data":36,"../lib/deferred":37,"../lib/is-verified-domain":41,"../lib/methods":43,"../lib/once":44,"./constants":11,"./errors":12,"./get-configuration":13,"./request":24,"./request/graphql":22,"@braintree/wrap-promise":8}],11:[function(r,d,p){"use strict";d.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],12:[function(r,d,p){"use strict";var n=r("../lib/braintree-error");d.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:n.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:n.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:n.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:n.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:n.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:n.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:n.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:n.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:n.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:n.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:n.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":32}],13:[function(r,d,p){"use strict";var n=r("../lib/braintree-error"),i=r("@braintree/wrap-promise"),t=r("./request"),o=r("@braintree/uuid"),a=r("../lib/constants"),c=r("./errors"),e=r("./request/graphql"),l=r("../lib/constants").GRAPHQL_URLS,u=r("../lib/is-date-string-before-or-on"),f=r("./constants").BRAINTREE_VERSION;function v(g){return new Promise(function(y,s){var h,m,T,I,N=o(),P={merchantAppId:window.location.host,platform:a.PLATFORM,sdkVersion:a.VERSION,source:a.SOURCE,integration:a.INTEGRATION,integrationType:a.INTEGRATION,sessionId:N};m=g.attrs,T=g.configUrl,m._meta=P,m.braintreeLibraryVersion=a.BRAINTREE_LIBRARY_VERSION,m.configVersion="3",I={url:T,method:"GET",data:m},m.authorizationFingerprint&&g.graphQL?(u(g.graphQL.date,f)&&(I.graphQL=new e({graphQL:{url:g.graphQL.url,features:["configuration"]}})),I.metadata=P):m.tokenizationKey&&(I.graphQL=new e({graphQL:{url:l[g.environment],features:["configuration"]}}),I.metadata=P),t(I,function(b,_,A){var E;if(b){A===403?E=c.CLIENT_AUTHORIZATION_INSUFFICIENT:A===401?E=c.CLIENT_AUTHORIZATION_INVALID:E=c.CLIENT_GATEWAY_NETWORK,s(new n({type:E.type,code:E.code,message:E.message,details:{originalError:b}}));return}h={authorizationType:m.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:m.authorizationFingerprint,analyticsMetadata:P,gatewayConfiguration:_},y(h)})})}d.exports={getConfiguration:i(v)}},{"../lib/braintree-error":32,"../lib/constants":33,"../lib/is-date-string-before-or-on":40,"./constants":11,"./errors":12,"./request":24,"./request/graphql":22,"@braintree/uuid":4,"@braintree/wrap-promise":8}],14:[function(r,d,p){"use strict";var n=r("../lib/braintree-error"),i=r("./client"),t="3.94.0",o=r("@braintree/wrap-promise"),a=r("../lib/errors");function c(e){return e.authorization?i.initialize(e):Promise.reject(new n({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}d.exports={create:o(c),VERSION:t}},{"../lib/braintree-error":32,"../lib/errors":39,"./client":10,"@braintree/wrap-promise":8}],15:[function(r,d,p){"use strict";var n=r("../../lib/querystring"),i=r("../../lib/assign").assign,t=r("./prep-body"),o=r("./parse-body"),a=r("./xhr"),c=a.isAvailable,e=r("./graphql/request"),l=r("./default-request"),u=1,f=408;function v(h){return!h||h===f}function g(h){var m=!h.data&&h.errors&&h.errors[0]&&h.errors[0].extensions&&h.errors[0].extensions.errorClass;return m==="UNKNOWN"||m==="INTERNAL"}function y(h,m,T){var I,N,P,b,_,A,E,O=h.url,w=h.graphQL,S=h.timeout,C=a.getRequestObject(),L=T,R=!!(w&&w.isGraphQLRequest(O,h.data));h.headers=i({"Content-Type":"application/json"},h.headers),R?P=new e(h):P=new l(h),O=P.getUrl(),b=P.getBody(),_=P.getMethod(),A=P.getHeaders(),_==="GET"&&(O=n.queryify(O,b),b=null),c?C.onreadystatechange=function(){if(C.readyState===4){if(C.status===0&&R){delete h.graphQL,y(h,m,T);return}if(E=o(C.responseText),N=P.adaptResponseBody(E),I=P.determineStatus(C.status,E),I>=400||I<200){if(R&&g(E)){delete h.graphQL,y(h,m,T);return}if(m<u&&v(I)){m++,y(h,m,T);return}L(N||"error",null,I||500)}else L(null,N,I)}}:(h.headers&&(O=n.queryify(O,A)),C.onload=function(){L(null,o(C.responseText),C.status)},C.onerror=function(){L("error",null,500)},C.onprogress=function(){},C.ontimeout=function(){L("timeout",null,-1)});try{C.open(_,O,!0)}catch(x){if(!R)throw x;delete h.graphQL,y(h,m,T);return}C.timeout=S,c&&Object.keys(A).forEach(function(x){C.setRequestHeader(x,A[x])});try{C.send(t(_,b))}catch{}}function s(h,m){y(h,0,m)}d.exports={request:s}},{"../../lib/assign":31,"../../lib/querystring":45,"./default-request":16,"./graphql/request":23,"./parse-body":25,"./prep-body":26,"./xhr":27}],16:[function(r,d,p){"use strict";function n(i){this._url=i.url,this._data=i.data,this._method=i.method,this._headers=i.headers}n.prototype.getUrl=function(){return this._url},n.prototype.getBody=function(){return this._data},n.prototype.getMethod=function(){return this._method},n.prototype.getHeaders=function(){return this._headers},n.prototype.adaptResponseBody=function(i){return i},n.prototype.determineStatus=function(i){return i},d.exports=n},{}],17:[function(r,d,p){"use strict";var n=r("./error"),i=r("../../../../lib/assign").assign,t={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};function o(e,l){var u;return e.data&&!e.errors?u=a(e,l):u=n(e),u}function a(e,l){var u=e.data.clientConfiguration,f;return f={environment:u.environment.toLowerCase(),clientApiUrl:u.clientApiUrl,assetsUrl:u.assetsUrl,analytics:{url:u.analyticsUrl},merchantId:u.merchantId,venmo:"off"},u.supportedFeatures&&(f.graphQL={url:l._graphQL._config.url,features:u.supportedFeatures.map(function(v){return v.toLowerCase()})}),u.braintreeApi&&(f.braintreeApi=u.braintreeApi),u.applePayWeb&&(f.applePayWeb=u.applePayWeb,f.applePayWeb.supportedNetworks=c(u.applePayWeb.supportedCardBrands,t.applePayWeb),delete f.applePayWeb.supportedCardBrands),u.ideal&&(f.ideal=u.ideal),u.kount&&(f.kount={kountMerchantId:u.kount.merchantId}),u.creditCard?(f.challenges=u.creditCard.challenges.map(function(v){return v.toLowerCase()}),f.creditCards={supportedCardTypes:c(u.creditCard.supportedCardBrands,t.creditCard)},f.threeDSecureEnabled=u.creditCard.threeDSecureEnabled,f.threeDSecure=u.creditCard.threeDSecure):(f.challenges=[],f.creditCards={supportedCardTypes:[]},f.threeDSecureEnabled=!1),u.googlePay&&(f.androidPay={displayName:u.googlePay.displayName,enabled:!0,environment:u.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:u.googlePay.googleAuthorization,paypalClientId:u.googlePay.paypalClientId,supportedNetworks:c(u.googlePay.supportedCardBrands,t.googlePay)}),u.venmo&&(f.payWithVenmo={merchantId:u.venmo.merchantId,accessToken:u.venmo.accessToken,environment:u.venmo.environment.toLowerCase()}),u.paypal?(f.paypalEnabled=!0,f.paypal=i({},u.paypal),f.paypal.currencyIsoCode=f.paypal.currencyCode,f.paypal.environment=f.paypal.environment.toLowerCase(),delete f.paypal.currencyCode):f.paypalEnabled=!1,u.unionPay&&(f.unionPay={enabled:!0,merchantAccountId:u.unionPay.merchantAccountId}),u.visaCheckout&&(f.visaCheckout={apikey:u.visaCheckout.apiKey,encryptionKey:u.visaCheckout.encryptionKey,externalClientId:u.visaCheckout.externalClientId,supportedCardTypes:c(u.visaCheckout.supportedCardBrands,t.visaCheckout)}),u.masterpass&&(f.masterpass={merchantCheckoutId:u.masterpass.merchantCheckoutId,supportedNetworks:c(u.masterpass.supportedCardBrands,t.masterpass)}),u.usBankAccount&&(f.usBankAccount={routeId:u.usBankAccount.routeId,plaid:{publicKey:u.usBankAccount.plaidPublicKey}}),f}function c(e,l){return e.reduce(function(u,f){return l.hasOwnProperty(f)?u.concat(l[f]):u},[])}d.exports=o},{"../../../../lib/assign":31,"./error":19}],18:[function(r,d,p){"use strict";var n=r("./error"),i={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},t={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},o={PSDTWO:"psd2"};function a(e){var l;return e.data&&!e.errors?l=c(e):l=n(e),l}function c(e){var l=e.data.tokenizeCreditCard,u=l.creditCard,f=u.last4?u.last4.substr(2,4):"",v=u.binData,g,y;return v&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(s){v[s]?v[s]=t[v[s]]:v[s]="Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(s){v[s]||(v[s]="Unknown")})),g={creditCards:[{binData:v,consumed:!1,description:f?"ending in "+f:"",nonce:l.token,details:{cardholderName:u.cardholderName,expirationMonth:u.expirationMonth,expirationYear:u.expirationYear,bin:u.bin||"",cardType:i[u.brandCode]||"Unknown",lastFour:u.last4||"",lastTwo:f},type:"CreditCard",threeDSecureInfo:null}]},l.authenticationInsight&&(y=l.authenticationInsight.customerAuthenticationRegulationEnvironment,g.creditCards[0].authenticationInsight={regulationEnvironment:o[y]||y.toLowerCase()}),g}d.exports=a},{"./error":19}],19:[function(r,d,p){"use strict";function n(e){var l,u=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return u==="VALIDATION"?l=t(e):u?l=i(e):l={error:{message:"There was a problem serving your request"},fieldErrors:[]},l}function i(e){return{error:{message:e.errors[0].message},fieldErrors:[]}}function t(e){var l=o(e.errors);return l.length===0?{error:{message:e.errors[0].message}}:{error:{message:c(l)},fieldErrors:l}}function o(e){var l=[];return e.forEach(function(u){u.extensions&&u.extensions.inputPath&&a(u.extensions.inputPath.slice(1),u,l)}),l}function a(e,l,u){var f,v=l.extensions.legacyCode,g=e[0];if(e.length===1){u.push({code:v,field:g,message:l.message});return}u.forEach(function(y){y.field===g&&(f=y)}),f||(f={field:g,fieldErrors:[]},u.push(f)),a(e.slice(1),l,f.fieldErrors)}function c(e){var l={creditCard:"Credit card is invalid"},u=e[0].field;return l[u]}d.exports=n},{}],20:[function(r,d,p){"use strict";var n="query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }";function i(){return{query:n,operationName:"ClientConfiguration"}}d.exports=i},{}],21:[function(r,d,p){"use strict";var n=r("../../../../lib/assign").assign;function i(c){var e=c.hasAuthenticationInsight,l="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!";return e&&(l+=", $authenticationInsightInput: AuthenticationInsightInput!"),l+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",e&&(l+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),l+="  } }",l}function t(c,e){var l=c.creditCard,u=l&&l.billingAddress,f=l&&l.expirationDate,v=l&&(l.expirationMonth||f&&f.split("/")[0].trim()),g=l&&(l.expirationYear||f&&f.split("/")[1].trim()),y={input:{creditCard:{number:l&&l.number,expirationMonth:v,expirationYear:g,cvv:l&&l.cvv,cardholderName:l&&l.cardholderName},options:{}}};return e.hasAuthenticationInsight&&(y.authenticationInsightInput={merchantAccountId:c.merchantAccountId}),u&&(y.input.creditCard.billingAddress=u),y.input=o(c,y.input),y}function o(c,e){var l;return c.creditCard&&c.creditCard.options&&typeof c.creditCard.options.validate=="boolean"?l=c.creditCard.options.validate:c.authorizationFingerprint&&c.tokenizationKey||c.authorizationFingerprint?l=!0:c.tokenizationKey&&(l=!1),typeof l=="boolean"&&(e.options=n({validate:l},e.options)),e}function a(c){var e={hasAuthenticationInsight:!!(c.authenticationInsight&&c.merchantAccountId)};return{query:i(e),variables:t(c,e),operationName:"TokenizeCreditCard"}}d.exports=a},{"../../../../lib/assign":31}],22:[function(r,d,p){"use strict";var n={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},i=["creditCard.options.unionPayEnrollment"];function t(a){this._config=a.graphQL}t.prototype.getGraphQLEndpoint=function(){return this._config.url},t.prototype.isGraphQLRequest=function(a,c){var e,l=this.getClientApiPath(a);return!this._isGraphQLEnabled()||!l||(e=this._config.features.some(function(u){return n[u]===l}),o(c))?!1:e},t.prototype.getClientApiPath=function(a){var c,e="/client_api/v1/",l=a.split(e);return l.length>1&&(c=l[1].split("?")[0]),c},t.prototype._isGraphQLEnabled=function(){return!!this._config};function o(a){return i.some(function(c){var e=c.split(".").reduce(function(l,u){return l&&l[u]},a);return e!==void 0})}d.exports=t},{}],23:[function(r,d,p){"use strict";var n=r("../../constants").BRAINTREE_VERSION,i=r("../../../lib/assign").assign,t=r("../../../lib/snake-case-to-camel-case"),o=r("./generators/credit-card-tokenization"),a=r("./adapters/credit-card-tokenization"),c=r("./generators/configuration"),e=r("./adapters/configuration"),l={"payment_methods/credit_cards":o,configuration:c},u={"payment_methods/credit_cards":a,configuration:e};function f(y){var s=y.graphQL.getClientApiPath(y.url);this._graphQL=y.graphQL,this._data=y.data,this._method=y.method,this._headers=y.headers,this._clientSdkMetadata={source:y.metadata.source,integration:y.metadata.integration,sessionId:y.metadata.sessionId},this._sendAnalyticsEvent=y.sendAnalyticsEvent||Function.prototype,this._generator=l[s],this._adapter=u[s],this._sendAnalyticsEvent("graphql.init")}f.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},f.prototype.getBody=function(){var y=g(this._data),s=this._generator(y),h=i({clientSdkMetadata:this._clientSdkMetadata},s);return JSON.stringify(h)},f.prototype.getMethod=function(){return"POST"},f.prototype.getHeaders=function(){var y,s;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),y=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),y=this._data.tokenizationKey),s={Authorization:"Bearer "+y,"Braintree-Version":n},i({},this._headers,s)},f.prototype.adaptResponseBody=function(y){return this._adapter(y,this)},f.prototype.determineStatus=function(y,s){var h,m;return y===200?(m=s.errors&&s.errors[0]&&s.errors[0].extensions&&s.errors[0].extensions.errorClass,s.data&&!s.errors?h=200:m==="VALIDATION"?h=422:m==="AUTHORIZATION"?h=403:m==="AUTHENTICATION"?h=401:v(m,s)?h=403:h=500):y?h=y:h=500,this._sendAnalyticsEvent("graphql.status."+y),this._sendAnalyticsEvent("graphql.determinedStatus."+h),h};function v(y,s){return!y&&s.errors[0].message}function g(y){var s={};return Object.keys(y).forEach(function(h){var m=t(h);typeof y[h]=="object"?s[m]=g(y[h]):typeof y[h]=="number"?s[m]=String(y[h]):s[m]=y[h]}),s}d.exports=f},{"../../../lib/assign":31,"../../../lib/snake-case-to-camel-case":46,"../../constants":11,"./adapters/configuration":17,"./adapters/credit-card-tokenization":18,"./generators/configuration":20,"./generators/credit-card-tokenization":21}],24:[function(r,d,p){"use strict";var n=r("../../lib/once"),i=r("./ajax-driver");d.exports=function(t,o){o=n(o||Function.prototype),t.method=(t.method||"GET").toUpperCase(),t.timeout=t.timeout==null?6e4:t.timeout,t.data=t.data||{},i.request(t,o)}},{"../../lib/once":44,"./ajax-driver":15}],25:[function(r,d,p){"use strict";d.exports=function(n){try{n=JSON.parse(n)}catch{}return n}},{}],26:[function(r,d,p){"use strict";d.exports=function(n,i){if(typeof n!="string")throw new Error("Method must be a string");return n.toLowerCase()!=="get"&&i!=null&&(i=typeof i=="string"?i:JSON.stringify(i)),i}},{}],27:[function(r,d,p){"use strict";var n=typeof window<"u"&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;function i(){return n?new window.XMLHttpRequest:new window.XDomainRequest}d.exports={isAvailable:n,getRequestObject:i}},{}],28:[function(r,d,p){"use strict";var n=r("./create-authorization-data"),i=r("./json-clone"),t=r("./constants");function o(a,c){var e,l=c?i(c):{},u=n(a.authorization).attrs,f=i(a.analyticsMetadata);l.braintreeLibraryVersion=t.BRAINTREE_LIBRARY_VERSION;for(e in l._meta)l._meta.hasOwnProperty(e)&&(f[e]=l._meta[e]);return l._meta=f,u.tokenizationKey?l.tokenizationKey=u.tokenizationKey:l.authorizationFingerprint=u.authorizationFingerprint,l}d.exports=o},{"./constants":33,"./create-authorization-data":36,"./json-clone":42}],29:[function(r,d,p){"use strict";var n=r("./constants"),i=r("./add-metadata");function t(o,a,c){var e=Date.now();return Promise.resolve(o).then(function(l){var u=Date.now(),f=l.getConfiguration(),v=l._request,g=f.gatewayConfiguration.analytics.url,y={analytics:[{kind:n.ANALYTICS_PREFIX+a,isAsync:Math.floor(u/1e3)!==Math.floor(e/1e3),timestamp:e}]};v({url:g,method:"post",data:i(f,y),timeout:n.ANALYTICS_REQUEST_TIMEOUT_MS},c)}).catch(function(l){c&&c(l)})}d.exports={sendEvent:t}},{"./add-metadata":28,"./constants":33}],30:[function(r,d,p){"use strict";var n=r("@braintree/asset-loader/load-script");d.exports={loadScript:n}},{"@braintree/asset-loader/load-script":3}],31:[function(r,d,p){"use strict";var n=typeof Object.assign=="function"?Object.assign:i;function i(t){var o,a,c;for(o=1;o<arguments.length;o++){a=arguments[o];for(c in a)a.hasOwnProperty(c)&&(t[c]=a[c])}return t}d.exports={assign:n,_assign:i}},{}],32:[function(r,d,p){"use strict";var n=r("./enumerate");function i(t){if(!i.types.hasOwnProperty(t.type))throw new Error(t.type+" is not a valid type.");if(!t.code)throw new Error("Error code required.");if(!t.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=t.code,this.message=t.message,this.type=t.type,this.details=t.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=n(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(t){return t instanceof i&&t.details&&t.details.originalError?i.findRootError(t.details.originalError):t},d.exports=i},{"./enumerate":38}],33:[function(r,d,p){"use strict";var n="3.94.0",i="web",t={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},o={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},a={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:i+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:o,CLIENT_API_URLS:t,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:a,INTEGRATION_TIMEOUT_MS:6e4,VERSION:n,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/"+i+"/"+n}},{}],34:[function(r,d,p){"use strict";var n=r("./braintree-error"),i=r("./errors");d.exports=function(t,o){o.forEach(function(a){t[a]=function(){throw new n({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:a+" cannot be called after teardown."})}})}},{"./braintree-error":32,"./errors":39}],35:[function(r,d,p){"use strict";var n=r("./braintree-error");function i(t,o){return t instanceof n?t:new n({type:o.type,code:o.code,message:o.message,details:{originalError:t}})}d.exports=i},{"./braintree-error":32}],36:[function(r,d,p){"use strict";var n=r("../lib/vendor/polyfill").atob,i=r("../lib/constants").CLIENT_API_URLS;function t(c){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(c)}function o(c){var e=c.split("_"),l=e[0],u=e.slice(2).join("_");return{merchantId:u,environment:l}}function a(c){var e,l,u={attrs:{},configUrl:""};return t(c)?(l=o(c),u.environment=l.environment,u.attrs.tokenizationKey=c,u.configUrl=i[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(e=JSON.parse(n(c)),u.environment=e.environment,u.attrs.authorizationFingerprint=e.authorizationFingerprint,u.configUrl=e.configUrl,u.graphQL=e.graphQL),u}d.exports=a},{"../lib/constants":33,"../lib/vendor/polyfill":47}],37:[function(r,d,p){"use strict";d.exports=function(n){return function(){var i=arguments;setTimeout(function(){n.apply(null,i)},1)}}},{}],38:[function(r,d,p){"use strict";function n(i,t){return t=t??"",i.reduce(function(o,a){return o[a]=t+a,o},{})}d.exports=n},{}],39:[function(r,d,p){"use strict";var n=r("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:n.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:n.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:n.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:n.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":32}],40:[function(r,d,p){"use strict";function n(t){var o=t.split("-");return new Date(o[0],o[1],o[2])}function i(t,o){return n(t)<=n(o)}d.exports=i},{}],41:[function(r,d,p){"use strict";var n,i={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};function t(a){return a.split(".").slice(-2).join(".")}function o(a){var c;return a=a.toLowerCase(),/^https:/.test(a)?(n=n||document.createElement("a"),n.href=a,c=t(n.hostname),i.hasOwnProperty(c)):!1}d.exports=o},{}],42:[function(r,d,p){"use strict";d.exports=function(n){return JSON.parse(JSON.stringify(n))}},{}],43:[function(r,d,p){"use strict";d.exports=function(n){return Object.keys(n).filter(function(i){return typeof n[i]=="function"})}},{}],44:[function(r,d,p){"use strict";function n(i){var t=!1;return function(){t||(t=!0,i.apply(null,arguments))}}d.exports=n},{}],45:[function(r,d,p){"use strict";function n(e){var l;for(l in e)if(e.hasOwnProperty(l))return!0;return!1}function i(e){return e&&typeof e=="object"&&typeof e.length=="number"&&Object.prototype.toString.call(e)==="[object Array]"||!1}function t(e){return e=e||window.location.href,/\?/.test(e)}function o(e){var l,u;return e=e||window.location.href,t(e)?(l=e.split("?")[1]||"",l=l.replace(/#.*$/,"").split("&"),u=l.reduce(function(f,v){var g=v.split("="),y=decodeURIComponent(g[0]),s=decodeURIComponent(g[1]);return f[y]=s,f},{}),u):{}}function a(e,l){var u,f,v,g=[];for(v in e)e.hasOwnProperty(v)&&(f=e[v],l?i(e)?u=l+"[]":u=l+"["+v+"]":u=v,typeof f=="object"?g.push(a(f,u)):g.push(encodeURIComponent(u)+"="+encodeURIComponent(f)));return g.join("&")}function c(e,l){return e=e||"",l!=null&&typeof l=="object"&&n(l)&&(e+=e.indexOf("?")===-1?"?":"",e+=e.indexOf("=")!==-1?"&":"",e+=a(l)),e}d.exports={parse:o,stringify:a,queryify:c,hasQueryParams:t}},{}],46:[function(r,d,p){"use strict";d.exports=function(n){return n.indexOf("_")===-1?n:n.toLowerCase().replace(/(\_\w)/g,function(i){return i[1].toUpperCase()})}},{}],47:[function(r,d,p){"use strict";var n=typeof atob=="function"?atob:i;function i(t){var o,a,c,e,l,u,f,v,g=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="";if(!g.test(t))throw new Error("Non base64 encoded input passed to window.atob polyfill");v=0;do e=y.indexOf(t.charAt(v++)),l=y.indexOf(t.charAt(v++)),u=y.indexOf(t.charAt(v++)),f=y.indexOf(t.charAt(v++)),o=(e&63)<<2|l>>4&3,a=(l&15)<<4|u>>2&15,c=(u&3)<<6|f&63,s+=String.fromCharCode(o)+(a?String.fromCharCode(a):"")+(c?String.fromCharCode(c):"");while(v<t.length);return s}d.exports={atob:function(t){return n.call(window,t)},_atob:i}},{}]},{},[14])(14)})})(Y,Y.exports);var oe=Y.exports;const ae=ee(oe);var W={exports:{}},Ee=W.exports;(function(U,k){(function(F){if(!0)U.exports=F();else var z})(function(){var F,z,H;return function(){function r(d,p,n){function i(a,c){if(!p[a]){if(!d[a]){var e=typeof M=="function"&&M;if(!c&&e)return e(a,!0);if(t)return t(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=p[a]={exports:{}};d[a][0].call(u.exports,function(f){var v=d[a][1][f];return i(v||f)},u,u.exports,r,d,p,n)}return p[a].exports}for(var t=typeof M=="function"&&M,o=0;o<n.length;o++)i(n[o]);return i}return r}()({1:[function(r,d,p){"use strict";var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(p,"__esModule",{value:!0}),p.PromiseGlobal=void 0;var i=n(r("promise-polyfill")),t=typeof Promise<"u"?Promise:i.default;p.PromiseGlobal=t},{"promise-polyfill":45}],2:[function(r,d,p){"use strict";var n=r("./lib/promise"),i={};function t(o){var a,c=JSON.stringify(o);if(!o.forceScriptReload&&(a=i[c],a))return a;var e=document.createElement("script"),l=o.dataAttributes||{},u=o.container||document.head;return e.src=o.src,e.id=o.id||"",e.async=!0,o.crossorigin&&e.setAttribute("crossorigin",""+o.crossorigin),Object.keys(l).forEach(function(f){e.setAttribute("data-"+f,""+l[f])}),a=new n.PromiseGlobal(function(f,v){e.addEventListener("load",function(){f(e)}),e.addEventListener("error",function(){v(new Error(o.src+" failed to load."))}),e.addEventListener("abort",function(){v(new Error(o.src+" has aborted."))}),u.appendChild(e)}),i[c]=a,a}t.clearCache=function(){i={}},d.exports=t},{"./lib/promise":1}],3:[function(r,d,p){d.exports=r("./dist/load-script")},{"./dist/load-script":2}],4:[function(r,d,p){"use strict";d.exports=function(i){return i=i||window.navigator.userAgent,/Android/i.test(i)}},{}],5:[function(r,d,p){"use strict";var n=r("./is-edge"),i=r("./is-samsung"),t=r("./is-duckduckgo"),o=r("./is-opera"),a=r("./is-silk");d.exports=function(e){return e=e||window.navigator.userAgent,(e.indexOf("Chrome")!==-1||e.indexOf("CriOS")!==-1)&&!n(e)&&!i(e)&&!t(e)&&!o(e)&&!a(e)}},{"./is-duckduckgo":6,"./is-edge":7,"./is-opera":13,"./is-samsung":14,"./is-silk":15}],6:[function(r,d,p){"use strict";d.exports=function(i){return i=i||window.navigator.userAgent,i.indexOf("DuckDuckGo/")!==-1}},{}],7:[function(r,d,p){"use strict";d.exports=function(i){return i=i||window.navigator.userAgent,i.indexOf("Edge/")!==-1}},{}],8:[function(r,d,p){"use strict";d.exports=function(i){return i=i||window.navigator.userAgent,/FxiOS/i.test(i)}},{}],9:[function(r,d,p){"use strict";var n=r("./is-ios");function i(t){return/\bGSA\b/.test(t)}d.exports=function(o){return o=o||window.navigator.userAgent,n(o)&&i(o)}},{"./is-ios":12}],10:[function(r,d,p){"use strict";var n=r("./is-ios"),i=r("./is-ios-google-search-app");d.exports=function(o){return o=o||window.navigator.userAgent,n(o)?i(o)?!0:/.+AppleWebKit(?!.*Safari)/i.test(o):!1}},{"./is-ios":12,"./is-ios-google-search-app":9}],11:[function(r,d,p){"use strict";var n=r("./is-ios-webview");d.exports=function(t,o){return o=typeof o<"u"?o:window.statusbar.visible,n(t)&&o}},{"./is-ios-webview":10}],12:[function(r,d,p){"use strict";d.exports=function(i){return i=i||window.navigator.userAgent,/iPhone|iPod|iPad/i.test(i)}},{}],13:[function(r,d,p){"use strict";d.exports=function(i){return i=i||window.navigator.userAgent,i.indexOf("OPR/")!==-1||i.indexOf("Opera/")!==-1||i.indexOf("OPT/")!==-1}},{}],14:[function(r,d,p){"use strict";d.exports=function(i){return i=i||window.navigator.userAgent,/SamsungBrowser/i.test(i)}},{}],15:[function(r,d,p){"use strict";d.exports=function(i){return i=i||window.navigator.userAgent,i.indexOf("Silk/")!==-1}},{}],16:[function(r,d,p){"use strict";var n=48,i=r("./is-android"),t=r("./is-ios-firefox"),o=r("./is-ios-webview"),a=r("./is-chrome"),c=r("./is-samsung"),e=r("./is-duckduckgo");function l(g){g=g||window.navigator.userAgent;var y=g.match(/CriOS\/(\d+)\./);if(!y)return!1;var s=parseInt(y[1],10);return s<n}function u(g){return g=g||window.navigator.userAgent,g.indexOf("Opera Mini")>-1}function f(g){var y=/Version\/[\d.]+/i;return g=g||window.navigator.userAgent,i(g)?y.test(g)&&!u(g)&&!e(g):!1}function v(g){return!a(g)&&!c(g)&&/samsung/i.test(g)}d.exports=function(y){return y=y||window.navigator.userAgent,!(o(y)||t(y)||f(y)||u(y)||l(y)||v(y))}},{"./is-android":4,"./is-chrome":5,"./is-duckduckgo":6,"./is-ios-firefox":8,"./is-ios-webview":10,"./is-samsung":14}],17:[function(r,d,p){d.exports=r("./dist/is-ios-wkwebview")},{"./dist/is-ios-wkwebview":11}],18:[function(r,d,p){d.exports=r("./dist/is-ios")},{"./dist/is-ios":12}],19:[function(r,d,p){d.exports=r("./dist/supports-popups")},{"./dist/supports-popups":16}],20:[function(r,d,p){"use strict";var n=typeof Promise<"u"?Promise:null,i=function(){function t(o){var a=this;if(typeof o=="function"){this._promise=new t.Promise(o);return}this._promise=new t.Promise(function(c,e){a._resolveFunction=c,a._rejectFunction=e}),o=o||{},this._onResolve=o.onResolve||t.defaultOnResolve,this._onReject=o.onReject||t.defaultOnReject,t.shouldCatchExceptions(o)&&this._promise.catch(function(){}),this._resetState()}return t.defaultOnResolve=function(o){return t.Promise.resolve(o)},t.defaultOnReject=function(o){return t.Promise.reject(o)},t.setPromise=function(o){t.Promise=o},t.shouldCatchExceptions=function(o){return o.hasOwnProperty("suppressUnhandledPromiseMessage")?!!o.suppressUnhandledPromiseMessage:!!t.suppressUnhandledPromiseMessage},t.all=function(o){return t.Promise.all(o)},t.allSettled=function(o){return t.Promise.allSettled(o)},t.race=function(o){return t.Promise.race(o)},t.reject=function(o){return t.Promise.reject(o)},t.resolve=function(o){return t.Promise.resolve(o)},t.prototype.then=function(){for(var o,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return(o=this._promise).then.apply(o,a)},t.prototype.catch=function(){for(var o,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return(o=this._promise).catch.apply(o,a)},t.prototype.resolve=function(o){var a=this;return this.isFulfilled?this:(this._setResolved(),t.Promise.resolve().then(function(){return a._onResolve(o)}).then(function(c){a._resolveFunction(c)}).catch(function(c){a._resetState(),a.reject(c)}),this)},t.prototype.reject=function(o){var a=this;return this.isFulfilled?this:(this._setRejected(),t.Promise.resolve().then(function(){return a._onReject(o)}).then(function(c){a._setResolved(),a._resolveFunction(c)}).catch(function(c){return a._rejectFunction(c)}),this)},t.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},t.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},t.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},t.Promise=n,t}();d.exports=i},{}],21:[function(r,d,p){"use strict";var n=r("./lib/set-attributes"),i=r("./lib/default-attributes"),t=r("./lib/assign");d.exports=function(a){a===void 0&&(a={});var c=document.createElement("iframe"),e=t.assign({},i.defaultAttributes,a);return e.style&&typeof e.style!="string"&&(t.assign(c.style,e.style),delete e.style),n.setAttributes(c,e),c.getAttribute("id")||(c.id=c.name),c}},{"./lib/assign":22,"./lib/default-attributes":23,"./lib/set-attributes":24}],22:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.assign=void 0;function n(i){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return t.forEach(function(a){typeof a=="object"&&Object.keys(a).forEach(function(c){i[c]=a[c]})}),i}p.assign=n},{}],23:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.defaultAttributes=void 0,p.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],24:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.setAttributes=void 0;function n(i,t){for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];a==null?i.removeAttribute(o):i.setAttribute(o,a)}}p.setAttributes=n},{}],25:[function(r,d,p){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var t=Math.random()*16|0,o=i==="x"?t:t&3|8;return o.toString(16)})}d.exports=n},{}],26:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0});function n(i){return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];setTimeout(function(){try{i.apply(void 0,t)}catch(a){console.log("Error in callback function"),console.log(a)}},1)}}p.deferred=n},{}],27:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0});function n(i){var t=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t||(t=!0,i.apply(void 0,o))}}p.once=n},{}],28:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0});function n(i,t){if(!t)return i;i.then(function(o){return t(null,o)}).catch(function(o){return t(o)})}p.promiseOrCallback=n},{}],29:[function(r,d,p){"use strict";var n=r("./lib/deferred"),i=r("./lib/once"),t=r("./lib/promise-or-callback");function o(a){return function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];var l,u=c[c.length-1];return typeof u=="function"&&(l=c.pop(),l=i.once(n.deferred(l))),t.promiseOrCallback(a.apply(this,c),l)}}o.wrapPrototype=function(a,c){c===void 0&&(c={});var e=c.ignoreMethods||[],l=c.transformPrivateMethods===!0,u=Object.getOwnPropertyNames(a.prototype).filter(function(f){var v,g=f!=="constructor"&&typeof a.prototype[f]=="function",y=e.indexOf(f)===-1;return l?v=!0:v=f.charAt(0)!=="_",g&&v&&y});return u.forEach(function(f){var v=a.prototype[f];a.prototype[f]=o(v)}),a},d.exports=o},{"./lib/deferred":26,"./lib/once":27,"./lib/promise-or-callback":28}],30:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Framebus=void 0;var n=r("./lib/is-not-string"),i=r("./lib/subscription-args-invalid"),t=r("./lib/broadcast"),o=r("./lib/package-payload"),a=r("./lib/send-message"),c=r("./lib/constants"),e=typeof window<"u"&&window.Promise,l=function(){function u(f){f===void 0&&(f={}),this.origin=f.origin||"*",this.channel=f.channel||"",this.verifyDomain=f.verifyDomain,this.targetFrames=f.targetFrames||[],this.limitBroadcastToFramesArray=!!f.targetFrames,this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=!!(this.verifyDomain||this.limitBroadcastToFramesArray)}return u.setPromise=function(f){u.Promise=f},u.target=function(f){return new u(f)},u.prototype.addTargetFrame=function(f){this.limitBroadcastToFramesArray&&this.targetFrames.push(f)},u.prototype.include=function(f){return f==null||f.Window==null||f.constructor!==f.Window?!1:(c.childWindows.push(f),!0)},u.prototype.target=function(f){return u.target(f)},u.prototype.emit=function(f,v,g){if(this.isDestroyed)return!1;var y=this.origin;if(f=this.namespaceEvent(f),(0,n.isntString)(f)||(0,n.isntString)(y))return!1;typeof v=="function"&&(g=v,v=void 0);var s=(0,o.packagePayload)(f,y,v,g);return s?(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(h){(0,a.sendMessage)(h,s,y)}):(0,t.broadcast)(s,{origin:y,frame:window.top||window.self}),!0):!1},u.prototype.emitAsPromise=function(f,v){var g=this;return new u.Promise(function(y,s){var h=g.emit(f,v,function(m){y(m)});h||s(new Error('Listener not added for "'.concat(f,'"')))})},u.prototype.on=function(f,v){if(this.isDestroyed)return!1;var g=this,y=this.origin,s=v;return f=this.namespaceEvent(f),(0,i.subscriptionArgsInvalid)(f,s,y)?!1:(this.hasAdditionalChecksForOnListeners&&(s=function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];g.passesVerifyDomainCheck(this&&this.origin)&&g.hasMatchingTargetFrame(this&&this.source)&&v.apply(void 0,h)}),this.listeners.push({eventName:f,handler:s,originalHandler:v}),c.subscribers[y]=c.subscribers[y]||{},c.subscribers[y][f]=c.subscribers[y][f]||[],c.subscribers[y][f].push(s),!0)},u.prototype.off=function(f,v){var g=v;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var y=0;y<this.listeners.length;y++){var s=this.listeners[y];s.originalHandler===v&&(g=s.handler)}f=this.namespaceEvent(f);var h=this.origin;if((0,i.subscriptionArgsInvalid)(f,g,h))return!1;var m=c.subscribers[h]&&c.subscribers[h][f];if(!m)return!1;for(var y=0;y<m.length;y++)if(m[y]===g)return m.splice(y,1),!0;return!1},u.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var f=0;f<this.listeners.length;f++){var v=this.listeners[f];this.off(v.eventName,v.handler)}this.listeners.length=0}},u.prototype.passesVerifyDomainCheck=function(f){return this.verifyDomain?this.checkOrigin(f):!0},u.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(f){return f instanceof HTMLIFrameElement?f.contentWindow:f}).filter(function(f){return f}):[]},u.prototype.hasMatchingTargetFrame=function(f){if(!this.limitBroadcastToFramesArray)return!0;var v=this.targetFramesAsWindows().find(function(g){return g===f});return!!v},u.prototype.checkOrigin=function(f){var v,g=document.createElement("a");g.href=location.href,g.protocol==="https:"?v=g.host.replace(/:443$/,""):g.protocol==="http:"?v=g.host.replace(/:80$/,""):v=g.host;var y=g.protocol+"//"+v;return y===f?!0:this.verifyDomain?this.verifyDomain(f):!0},u.prototype.namespaceEvent=function(f){return this.channel?"".concat(this.channel,":").concat(f):f},u.Promise=e,u}();p.Framebus=l},{"./lib/broadcast":34,"./lib/constants":35,"./lib/is-not-string":38,"./lib/package-payload":40,"./lib/send-message":41,"./lib/subscription-args-invalid":43}],31:[function(r,d,p){"use strict";var n=r("./lib/attach"),i=r("./framebus");(0,n.attach)(),d.exports=i.Framebus},{"./framebus":30,"./lib/attach":32}],32:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.detach=p.attach=void 0;var n=r("./message"),i=!1;function t(){i||typeof window>"u"||(i=!0,window.addEventListener("message",n.onmessage,!1))}p.attach=t;function o(){i=!1,window.removeEventListener("message",n.onmessage,!1)}p.detach=o},{"./message":39}],33:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.broadcastToChildWindows=void 0;var n=r("./broadcast"),i=r("./constants");function t(o,a,c){for(var e=i.childWindows.length-1;e>=0;e--){var l=i.childWindows[e];l.closed?i.childWindows.splice(e,1):c!==l&&(0,n.broadcast)(o,{origin:a,frame:l.top})}}p.broadcastToChildWindows=t},{"./broadcast":34,"./constants":35}],34:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.broadcast=void 0;var n=r("./has-opener");function i(t,o){var a=0,c,e=o.origin,l=o.frame;try{for(l.postMessage(t,e),(0,n.hasOpener)(l)&&l.opener.top!==window.top&&i(t,{origin:e,frame:l.opener.top});c=l.frames[a];)i(t,{origin:e,frame:c}),a++}catch{}}p.broadcast=i},{"./has-opener":37}],35:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.subscribers=p.childWindows=p.prefix=void 0,p.prefix="/*framebus*/",p.childWindows=[],p.subscribers={}},{}],36:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.dispatch=void 0;var n=r("./constants");function i(t,o,a,c,e){if(n.subscribers[t]&&n.subscribers[t][o]){var l=[];a&&l.push(a),c&&l.push(c);for(var u=0;u<n.subscribers[t][o].length;u++)n.subscribers[t][o][u].apply(e,l)}}p.dispatch=i},{"./constants":35}],37:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.hasOpener=void 0;function n(i){return!(i.top!==i||i.opener==null||i.opener===i||i.opener.closed===!0)}p.hasOpener=n},{}],38:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isntString=void 0;function n(i){return typeof i!="string"}p.isntString=n},{}],39:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.onmessage=void 0;var n=r("./is-not-string"),i=r("./unpack-payload"),t=r("./dispatch"),o=r("./broadcast-to-child-windows");function a(c){if(!(0,n.isntString)(c.data)){var e=(0,i.unpackPayload)(c);if(e){var l=e.eventData,u=e.reply;(0,t.dispatch)("*",e.event,l,u,c),(0,t.dispatch)(c.origin,e.event,l,u,c),(0,o.broadcastToChildWindows)(c.data,e.origin,c.source)}}}p.onmessage=a},{"./broadcast-to-child-windows":33,"./dispatch":36,"./is-not-string":38,"./unpack-payload":44}],40:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.packagePayload=void 0;var n=r("./subscribe-replier"),i=r("./constants");function t(o,a,c,e){var l,u={event:o,origin:a};typeof e=="function"&&(u.reply=(0,n.subscribeReplier)(e,a)),u.eventData=c;try{l=i.prefix+JSON.stringify(u)}catch(f){throw new Error("Could not stringify event: ".concat(f.message))}return l}p.packagePayload=t},{"./constants":35,"./subscribe-replier":42}],41:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.sendMessage=void 0;function n(i,t,o){try{i.postMessage(t,o)}catch{}}p.sendMessage=n},{}],42:[function(r,d,p){"use strict";var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(p,"__esModule",{value:!0}),p.subscribeReplier=void 0;var i=r("../framebus"),t=n(r("@braintree/uuid"));function o(a,c){var e=(0,t.default)();function l(u,f){a(u,f),i.Framebus.target({origin:c}).off(e,l)}return i.Framebus.target({origin:c}).on(e,l),e}p.subscribeReplier=o},{"../framebus":30,"@braintree/uuid":25}],43:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.subscriptionArgsInvalid=void 0;var n=r("./is-not-string");function i(t,o,a){return(0,n.isntString)(t)||typeof o!="function"?!0:(0,n.isntString)(a)}p.subscriptionArgsInvalid=i},{"./is-not-string":38}],44:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.unpackPayload=void 0;var n=r("./constants"),i=r("./package-payload");function t(o){var a;if(o.data.slice(0,n.prefix.length)!==n.prefix)return!1;try{a=JSON.parse(o.data.slice(n.prefix.length))}catch{return!1}if(a.reply){var c=o.origin,e=o.source,l=a.reply;a.reply=function(f){if(e){var v=(0,i.packagePayload)(l,c,f);v&&e.postMessage(v,c)}}}return a}p.unpackPayload=t},{"./constants":35,"./package-payload":40}],45:[function(r,d,p){"use strict";function n(s){var h=this.constructor;return this.then(function(m){return h.resolve(s()).then(function(){return m})},function(m){return h.resolve(s()).then(function(){return h.reject(m)})})}function i(s){var h=this;return new h(function(m,T){if(!(s&&typeof s.length<"u"))return T(new TypeError(typeof s+" "+s+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var I=Array.prototype.slice.call(s);if(I.length===0)return m([]);var N=I.length;function P(_,A){if(A&&(typeof A=="object"||typeof A=="function")){var E=A.then;if(typeof E=="function"){E.call(A,function(O){P(_,O)},function(O){I[_]={status:"rejected",reason:O},--N===0&&m(I)});return}}I[_]={status:"fulfilled",value:A},--N===0&&m(I)}for(var b=0;b<I.length;b++)P(b,I[b])})}var t=setTimeout;function o(s){return!!(s&&typeof s.length<"u")}function a(){}function c(s,h){return function(){s.apply(h,arguments)}}function e(s){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if(typeof s!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(s,this)}function l(s,h){for(;s._state===3;)s=s._value;if(s._state===0){s._deferreds.push(h);return}s._handled=!0,e._immediateFn(function(){var m=s._state===1?h.onFulfilled:h.onRejected;if(m===null){(s._state===1?u:f)(h.promise,s._value);return}var T;try{T=m(s._value)}catch(I){f(h.promise,I);return}u(h.promise,T)})}function u(s,h){try{if(h===s)throw new TypeError("A promise cannot be resolved with itself.");if(h&&(typeof h=="object"||typeof h=="function")){var m=h.then;if(h instanceof e){s._state=3,s._value=h,v(s);return}else if(typeof m=="function"){y(c(m,h),s);return}}s._state=1,s._value=h,v(s)}catch(T){f(s,T)}}function f(s,h){s._state=2,s._value=h,v(s)}function v(s){s._state===2&&s._deferreds.length===0&&e._immediateFn(function(){s._handled||e._unhandledRejectionFn(s._value)});for(var h=0,m=s._deferreds.length;h<m;h++)l(s,s._deferreds[h]);s._deferreds=null}function g(s,h,m){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof h=="function"?h:null,this.promise=m}function y(s,h){var m=!1;try{s(function(T){m||(m=!0,u(h,T))},function(T){m||(m=!0,f(h,T))})}catch(T){if(m)return;m=!0,f(h,T)}}e.prototype.catch=function(s){return this.then(null,s)},e.prototype.then=function(s,h){var m=new this.constructor(a);return l(this,new g(s,h,m)),m},e.prototype.finally=n,e.all=function(s){return new e(function(h,m){if(!o(s))return m(new TypeError("Promise.all accepts an array"));var T=Array.prototype.slice.call(s);if(T.length===0)return h([]);var I=T.length;function N(b,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var A=_.then;if(typeof A=="function"){A.call(_,function(E){N(b,E)},m);return}}T[b]=_,--I===0&&h(T)}catch(E){m(E)}}for(var P=0;P<T.length;P++)N(P,T[P])})},e.allSettled=i,e.resolve=function(s){return s&&typeof s=="object"&&s.constructor===e?s:new e(function(h){h(s)})},e.reject=function(s){return new e(function(h,m){m(s)})},e.race=function(s){return new e(function(h,m){if(!o(s))return m(new TypeError("Promise.race accepts an array"));for(var T=0,I=s.length;T<I;T++)e.resolve(s[T]).then(h,m)})},e._immediateFn=typeof setImmediate=="function"&&function(s){setImmediate(s)}||function(s){t(s,0)},e._unhandledRejectionFn=function(h){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",h)},d.exports=e},{}],46:[function(r,d,p){"use strict";var n=r("./create-authorization-data"),i=r("./json-clone"),t=r("./constants");function o(a,c){var e,l=c?i(c):{},u=n(a.authorization).attrs,f=i(a.analyticsMetadata);l.braintreeLibraryVersion=t.BRAINTREE_LIBRARY_VERSION;for(e in l._meta)l._meta.hasOwnProperty(e)&&(f[e]=l._meta[e]);return l._meta=f,u.tokenizationKey?l.tokenizationKey=u.tokenizationKey:l.authorizationFingerprint=u.authorizationFingerprint,l}d.exports=o},{"./constants":52,"./create-authorization-data":56,"./json-clone":71}],47:[function(r,d,p){"use strict";var n=r("./constants"),i=r("./add-metadata");function t(o,a,c){var e=Date.now();return Promise.resolve(o).then(function(l){var u=Date.now(),f=l.getConfiguration(),v=l._request,g=f.gatewayConfiguration.analytics.url,y={analytics:[{kind:n.ANALYTICS_PREFIX+a,isAsync:Math.floor(u/1e3)!==Math.floor(e/1e3),timestamp:e}]};v({url:g,method:"post",data:i(f,y),timeout:n.ANALYTICS_REQUEST_TIMEOUT_MS},c)}).catch(function(l){c&&c(l)})}d.exports={sendEvent:t}},{"./add-metadata":46,"./constants":52}],48:[function(r,d,p){"use strict";var n=r("@braintree/asset-loader/load-script");d.exports={loadScript:n}},{"@braintree/asset-loader/load-script":3}],49:[function(r,d,p){"use strict";var n=typeof Object.assign=="function"?Object.assign:i;function i(t){var o,a,c;for(o=1;o<arguments.length;o++){a=arguments[o];for(c in a)a.hasOwnProperty(c)&&(t[c]=a[c])}return t}d.exports={assign:n,_assign:i}},{}],50:[function(r,d,p){"use strict";var n=r("./braintree-error"),i=r("./errors"),t="3.94.0";function o(a){var c,e,l;return a?(l=a.name,c=a.client,e=a.authorization,!c&&!e?Promise.reject(new n({type:i.INSTANTIATION_OPTION_REQUIRED.type,code:i.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!e&&c.getVersion()!==t?Promise.reject(new n({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+c.getVersion()+") and "+l+" (version "+t+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new n({type:i.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:i.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:o}},{"./braintree-error":51,"./errors":59}],51:[function(r,d,p){"use strict";var n=r("./enumerate");function i(t){if(!i.types.hasOwnProperty(t.type))throw new Error(t.type+" is not a valid type.");if(!t.code)throw new Error("Error code required.");if(!t.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=t.code,this.message=t.message,this.type=t.type,this.details=t.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=n(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(t){return t instanceof i&&t.details&&t.details.originalError?i.findRootError(t.details.originalError):t},d.exports=i},{"./enumerate":58}],52:[function(r,d,p){"use strict";var n="3.94.0",i="web",t={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},o={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},a={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:i+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:o,CLIENT_API_URLS:t,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:a,INTEGRATION_TIMEOUT_MS:6e4,VERSION:n,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/"+i+"/"+n}},{}],53:[function(r,d,p){"use strict";var n=r("./braintree-error"),i=r("./errors");d.exports=function(t,o){o.forEach(function(a){t[a]=function(){throw new n({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:a+" cannot be called after teardown."})}})}},{"./braintree-error":51,"./errors":59}],54:[function(r,d,p){"use strict";var n=r("./braintree-error");function i(t,o){return t instanceof n?t:new n({type:o.type,code:o.code,message:o.message,details:{originalError:t}})}d.exports=i},{"./braintree-error":51}],55:[function(r,d,p){"use strict";var n=r("./constants").ASSETS_URLS;function i(t){return n.production}d.exports={create:i}},{"./constants":52}],56:[function(r,d,p){"use strict";var n=r("../lib/vendor/polyfill").atob,i=r("../lib/constants").CLIENT_API_URLS;function t(c){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(c)}function o(c){var e=c.split("_"),l=e[0],u=e.slice(2).join("_");return{merchantId:u,environment:l}}function a(c){var e,l,u={attrs:{},configUrl:""};return t(c)?(l=o(c),u.environment=l.environment,u.attrs.tokenizationKey=c,u.configUrl=i[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(e=JSON.parse(n(c)),u.environment=e.environment,u.attrs.authorizationFingerprint=e.authorizationFingerprint,u.configUrl=e.configUrl,u.graphQL=e.graphQL),u}d.exports=a},{"../lib/constants":52,"../lib/vendor/polyfill":75}],57:[function(r,d,p){"use strict";var n=r("./braintree-error"),i=r("./assets"),t=r("./errors"),o="3.94.0";function a(c){var e=Promise.resolve();return c.client?Promise.resolve(c.client):(window.braintree&&window.braintree.client||(e=i.loadScript({src:c.assetsUrl+"/web/"+o+"/js/client.min.js"}).catch(function(l){return Promise.reject(new n({type:t.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:t.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:t.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),e.then(function(){return window.braintree.client.VERSION!==o?Promise.reject(new n({type:t.INCOMPATIBLE_VERSIONS.type,code:t.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+c.name+" (version "+o+") components must be from the same SDK version."})):window.braintree.client.create({authorization:c.authorization,debug:c.debug})}))}d.exports={create:a}},{"./assets":48,"./braintree-error":51,"./errors":59}],58:[function(r,d,p){"use strict";function n(i,t){return t=t??"",i.reduce(function(o,a){return o[a]=t+a,o},{})}d.exports=n},{}],59:[function(r,d,p){"use strict";var n=r("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:n.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:n.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:n.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:n.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":51}],60:[function(r,d,p){"use strict";var n=r("./strategies/popup"),i=r("./strategies/popup-bridge"),t=r("./strategies/modal"),o=r("framebus"),a=r("../shared/events"),c=r("../shared/errors"),e=r("../shared/constants"),l=r("@braintree/uuid"),u=r("@braintree/iframer"),f=r("../../braintree-error"),v=r("../shared/browser-detection"),g=r("./../../assign").assign,y=r("../../constants").BUS_CONFIGURATION_REQUEST_EVENT,s=["name","dispatchFrameUrl","openFrameUrl"];function h(){}function m(I){if(!I)throw new Error("Valid configuration is required");if(s.forEach(function(N){if(!I.hasOwnProperty(N))throw new Error("A valid frame "+N+" must be provided")}),!/^[\w_]+$/.test(I.name))throw new Error("A valid frame name must be provided")}function T(I){m(I),this._serviceId=l().replace(/-/g,""),this._options={name:I.name+"_"+this._serviceId,dispatchFrameUrl:I.dispatchFrameUrl,openFrameUrl:I.openFrameUrl,height:I.height,width:I.width,top:I.top,left:I.left},this.state=I.state||{},this._bus=new o({channel:this._serviceId}),this._setBusEvents()}T.prototype.initialize=function(I){var N=function(){I(),this._bus.off(a.DISPATCH_FRAME_READY,N)}.bind(this);this._bus.on(a.DISPATCH_FRAME_READY,N),this._writeDispatchFrame()},T.prototype._writeDispatchFrame=function(){var I=e.DISPATCH_FRAME_NAME+"_"+this._serviceId,N=this._options.dispatchFrameUrl;this._dispatchFrame=u({"aria-hidden":!0,name:I,title:I,src:N,class:e.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},T.prototype._setBusEvents=function(){this._bus.on(a.DISPATCH_FRAME_REPORT,function(I,N){this._onCompleteCallback&&this._onCompleteCallback.call(null,I.err,I.payload),this._frame.close(),this._onCompleteCallback=null,N&&N()}.bind(this)),this._bus.on(y,function(I){I(this.state)}.bind(this))},T.prototype.open=function(I,N){if(I=I||{},this._frame=this._getFrameForEnvironment(I),this._frame.initialize(N),!(this._frame instanceof i)){if(g(this.state,I.state),this._onCompleteCallback=N,this._frame.open(),this.isFrameClosed()){this._cleanupFrame(),N&&N(new f(c.FRAME_SERVICE_FRAME_OPEN_FAILED));return}this._pollForPopupClose()}},T.prototype.redirect=function(I){this._frame&&!this.isFrameClosed()&&this._frame.redirect(I)},T.prototype.close=function(){this.isFrameClosed()||this._frame.close()},T.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},T.prototype.createHandler=function(I){return I=I||{},{close:function(){I.beforeClose&&I.beforeClose(),this.close()}.bind(this),focus:function(){I.beforeFocus&&I.beforeFocus(),this.focus()}.bind(this)}},T.prototype.createNoopHandler=function(){return{close:h,focus:h}},T.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},T.prototype.isFrameClosed=function(){return this._frame==null||this._frame.isClosed()},T.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},T.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new f(c.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),e.POPUP_POLL_INTERVAL),this._popupInterval},T.prototype._getFrameForEnvironment=function(I){var N=v.supportsPopups(),P=!!window.popupBridge,b=g({},this._options,I);return P?new i(b):N?new n(b):new t(b)},d.exports=T},{"../../braintree-error":51,"../../constants":52,"../shared/browser-detection":67,"../shared/constants":68,"../shared/errors":69,"../shared/events":70,"./../../assign":49,"./strategies/modal":62,"./strategies/popup":65,"./strategies/popup-bridge":63,"@braintree/iframer":21,"@braintree/uuid":25,framebus:31}],61:[function(r,d,p){"use strict";var n=r("./frame-service");d.exports={create:function(t,o){var a=new n(t);a.initialize(function(){o(a)})}}},{"./frame-service":60}],62:[function(r,d,p){"use strict";var n=r("@braintree/iframer"),i=r("../../../assign").assign,t=r("../../shared/browser-detection"),o={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function a(){}function c(e){this._closed=null,this._frame=null,this._options=e||{},this._container=this._options.container||document.body}c.prototype.initialize=a,c.prototype.open=function(){var e={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:i({},o),title:"Lightbox Frame"};t.isIos()?(t.isIosWKWebview()&&(this._lockScrolling(),e.style={}),this._el=document.createElement("div"),i(this._el.style,o,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=n(e),this._el.appendChild(this._frame)):this._el=this._frame=n(e),this._closed=!1,this._container.appendChild(this._el)},c.prototype.focus=a,c.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,t.isIosWKWebview()&&this._unlockScrolling()},c.prototype.isClosed=function(){return!!this._closed},c.prototype.redirect=function(e){this._frame.src=e},c.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,window.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},c.prototype._lockScrolling=function(){var e=document.documentElement;this._savedBodyProperties={left:(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),top:(window.pageYOffset||e.scrollTop)-(e.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",window.scrollTo(0,0)},d.exports=c},{"../../../assign":49,"../../shared/browser-detection":67,"@braintree/iframer":21}],63:[function(r,d,p){"use strict";var n=r("../../../braintree-error"),i=r("../../shared/errors");function t(){}function o(a){this._closed=null,this._options=a}o.prototype.initialize=function(a){var c=this;window.popupBridge.onComplete=function(e,l){var u=!l&&!e;if(c._closed=!0,e||u){a(new n(i.FRAME_SERVICE_FRAME_CLOSED));return}a(null,l)}},o.prototype.open=function(a){var c;a=a||{},c=a.openFrameUrl||this._options.openFrameUrl,this._closed=!1,window.popupBridge.open(c)},o.prototype.focus=t,o.prototype.close=t,o.prototype.isClosed=function(){return!!this._closed},o.prototype.redirect=function(a){this.open({openFrameUrl:a})},d.exports=o},{"../../../braintree-error":51,"../../shared/errors":69}],64:[function(r,d,p){"use strict";var n=r("../../../shared/constants"),i=r("./position");function t(o,a,c){return typeof a<"u"?a:i[o](c)}d.exports=function(a){var c=a.height||n.DEFAULT_POPUP_HEIGHT,e=a.width||n.DEFAULT_POPUP_WIDTH,l=t("top",a.top,c),u=t("left",a.left,e);return[n.POPUP_BASE_OPTIONS,"height="+c,"width="+e,"top="+l,"left="+u].join(",")}},{"../../../shared/constants":68,"./position":66}],65:[function(r,d,p){"use strict";var n=r("./compose-options");function i(){}function t(o){this._frame=null,this._options=o||{}}t.prototype.initialize=i,t.prototype.open=function(){this._frame=window.open(this._options.openFrameUrl,this._options.name,n(this._options))},t.prototype.focus=function(){this._frame.focus()},t.prototype.close=function(){this._frame.closed||this._frame.close()},t.prototype.isClosed=function(){return!this._frame||!!this._frame.closed},t.prototype.redirect=function(o){this._frame.location.href=o},d.exports=t},{"./compose-options":64}],66:[function(r,d,p){"use strict";function n(o){var a=window.outerHeight||document.documentElement.clientHeight,c=window.screenY==null?window.screenTop:window.screenY;return t(a,o,c)}function i(o){var a=window.outerWidth||document.documentElement.clientWidth,c=window.screenX==null?window.screenLeft:window.screenX;return t(a,o,c)}function t(o,a,c){return(o-a)/2+c}d.exports={top:n,left:i,center:t}},{}],67:[function(r,d,p){"use strict";d.exports={isIos:r("@braintree/browser-detection/is-ios"),isIosWKWebview:r("@braintree/browser-detection/is-ios-wkwebview"),supportsPopups:r("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ios":18,"@braintree/browser-detection/is-ios-wkwebview":17,"@braintree/browser-detection/supports-popups":19}],68:[function(r,d,p){"use strict";d.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],69:[function(r,d,p){"use strict";var n=r("../../braintree-error");d.exports={FRAME_SERVICE_FRAME_CLOSED:{type:n.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:n.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."}}},{"../../braintree-error":51}],70:[function(r,d,p){"use strict";var n=r("../../enumerate");d.exports=n(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":58}],71:[function(r,d,p){"use strict";d.exports=function(n){return JSON.parse(JSON.stringify(n))}},{}],72:[function(r,d,p){"use strict";d.exports=function(n){return Object.keys(n).filter(function(i){return typeof n[i]=="function"})}},{}],73:[function(r,d,p){"use strict";function n(e){var l;for(l in e)if(e.hasOwnProperty(l))return!0;return!1}function i(e){return e&&typeof e=="object"&&typeof e.length=="number"&&Object.prototype.toString.call(e)==="[object Array]"||!1}function t(e){return e=e||window.location.href,/\?/.test(e)}function o(e){var l,u;return e=e||window.location.href,t(e)?(l=e.split("?")[1]||"",l=l.replace(/#.*$/,"").split("&"),u=l.reduce(function(f,v){var g=v.split("="),y=decodeURIComponent(g[0]),s=decodeURIComponent(g[1]);return f[y]=s,f},{}),u):{}}function a(e,l){var u,f,v,g=[];for(v in e)e.hasOwnProperty(v)&&(f=e[v],l?i(e)?u=l+"[]":u=l+"["+v+"]":u=v,typeof f=="object"?g.push(a(f,u)):g.push(encodeURIComponent(u)+"="+encodeURIComponent(f)));return g.join("&")}function c(e,l){return e=e||"",l!=null&&typeof l=="object"&&n(l)&&(e+=e.indexOf("?")===-1?"?":"",e+=e.indexOf("=")!==-1?"&":"",e+=a(l)),e}d.exports={parse:o,stringify:a,queryify:c,hasQueryParams:t}},{}],74:[function(r,d,p){"use strict";function n(i){return i?"":".min"}d.exports=n},{}],75:[function(r,d,p){"use strict";var n=typeof atob=="function"?atob:i;function i(t){var o,a,c,e,l,u,f,v,g=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="";if(!g.test(t))throw new Error("Non base64 encoded input passed to window.atob polyfill");v=0;do e=y.indexOf(t.charAt(v++)),l=y.indexOf(t.charAt(v++)),u=y.indexOf(t.charAt(v++)),f=y.indexOf(t.charAt(v++)),o=(e&63)<<2|l>>4&3,a=(l&15)<<4|u>>2&15,c=(u&3)<<6|f&63,s+=String.fromCharCode(o)+(a?String.fromCharCode(a):"")+(c?String.fromCharCode(c):"");while(v<t.length);return s}d.exports={atob:function(t){return n.call(window,t)},_atob:i}},{}],76:[function(r,d,p){"use strict";var n=r("../lib/braintree-error");d.exports={PAYPAL_NOT_ENABLED:{type:n.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:n.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developer.paypal.com/braintree/docs/guides/paypal/testing-go-live#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:n.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:n.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED:{type:n.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED"},PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED:{type:n.types.NETWORK,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED",message:"Something went wrong when setting up the checkout workflow."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED:{type:n.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED:{type:n.types.CUSTOMER,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS:{type:n.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS",message:"Vault initiated checkout already in progress."},PAYPAL_INVALID_PAYMENT_OPTION:{type:n.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."},PAYPAL_MISSING_REQUIRED_OPTION:{type:n.types.MERCHANT,code:"PAYPAL_MISSING_REQUIRED_OPTION",message:"Missing required option."}}},{"../lib/braintree-error":51}],77:[function(r,d,p){"use strict";var n=r("../lib/basic-component-verification"),i=r("@braintree/wrap-promise"),t=r("./paypal-checkout"),o="3.94.0";function a(e){var l="PayPal Checkout";return n.verify({name:l,client:e.client,authorization:e.authorization}).then(function(){var u=new t(e);return u._initialize(e)})}function c(){return!0}d.exports={create:i(a),isSupported:c,VERSION:o}},{"../lib/basic-component-verification":50,"./paypal-checkout":78,"@braintree/wrap-promise":29}],78:[function(r,d,p){"use strict";var n=r("../lib/analytics"),i=r("../lib/assign").assign,t=r("../lib/create-deferred-client"),o=r("../lib/create-assets-url"),a=r("@braintree/extended-promise"),c=r("@braintree/wrap-promise"),e=r("../lib/braintree-error"),l=r("../lib/convert-to-braintree-error"),u=r("./errors"),f=r("../paypal/shared/constants"),v=r("../lib/frame-service/external"),g=r("../lib/create-authorization-data"),y=r("../lib/methods"),s=r("../lib/use-min"),h=r("../lib/convert-methods-to-error"),m=r("../lib/querystring"),T="3.94.0",I=r("../lib/constants").INTEGRATION_TIMEOUT_MS,N=["amount","currency","vaultInitiatedCheckoutPaymentMethodToken"],P="https://www.{ENV}paypal.com/smart/buttons/preload";a.suppressUnhandledPromiseMessage=!0;function b(_){this._merchantAccountId=_.merchantAccountId,this._autoSetDataUserIdToken=!!_.autoSetDataUserIdToken}b.prototype._initialize=function(_){var A;return _.client?(A=_.client.getConfiguration(),this._authorizationInformation={fingerprint:A.authorizationFingerprint,environment:A.gatewayConfiguration.environment}):(A=g(_.authorization),this._authorizationInformation={fingerprint:A.attrs.authorizationFingerprint,environment:A.environment}),this._clientPromise=t.create({authorization:_.authorization,client:_.client,debug:_.debug,assetsUrl:o.create(_.authorization),name:"PayPal Checkout"}).then(function(E){return this._configuration=E.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?this._configuration.gatewayConfiguration.paypal.environmentNoNetwork===!0&&(this._setupError=new e(u.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new e(u.PAYPAL_NOT_ENABLED)),this._setupError?Promise.reject(this._setupError):(n.sendEvent(E,"paypal-checkout.initialized"),this._frameServicePromise=this._setupFrameService(E),E)}.bind(this)),_.client?this._clientPromise.then(function(){return this}.bind(this)):Promise.resolve(this)},b.prototype._setupFrameService=function(_){var A=new a,E=_.getConfiguration(),O=setTimeout(function(){n.sendEvent(_,"paypal-checkout.frame-service.timed-out"),A.reject(new e(u.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED))},I);return this._assetsUrl=E.gatewayConfiguration.paypal.assetsUrl+"/web/"+T,this._isDebug=E.isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+s(this._isDebug)+".html",v.create({name:"braintreepaypallanding",dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame"+s(this._isDebug)+".html",openFrameUrl:this._loadingFrameUrl},function(w){this._frameService=w,clearTimeout(O),A.resolve()}.bind(this)),A},b.prototype.createPayment=function(_){return!_||!f.FLOW_ENDPOINTS.hasOwnProperty(_.flow)?Promise.reject(new e(u.PAYPAL_FLOW_OPTION_REQUIRED)):(n.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),this._createPaymentResource(_).then(function(A){var E;return _.flow==="checkout"?E=A.paymentResource.redirectUrl.match(/EC-\w+/)[0]:E=A.agreementSetup.tokenId,E}))},b.prototype._createPaymentResource=function(_,A){var E=this,O="paypal_hermes/"+f.FLOW_ENDPOINTS[_.flow];return delete this.intentFromCreatePayment,A=A||{},_.offerCredit===!0&&n.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then(function(w){return w.request({endpoint:O,method:"post",data:E._formatPaymentResourceData(_,A)}).then(function(S){return E.intentFromCreatePayment=_.intent,S})}).catch(function(w){var S;return E._setupError?Promise.reject(E._setupError):(S=w.details&&w.details.httpStatus,S===422?Promise.reject(new e({type:u.PAYPAL_INVALID_PAYMENT_OPTION.type,code:u.PAYPAL_INVALID_PAYMENT_OPTION.code,message:u.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:w}})):Promise.reject(l(w,{type:u.PAYPAL_FLOW_FAILED.type,code:u.PAYPAL_FLOW_FAILED.code,message:u.PAYPAL_FLOW_FAILED.message})))})},b.prototype.updatePayment=function(_){var A=this,E="paypal_hermes/patch_payment_resource";return!_||this._hasMissingOption(_,f.REQUIRED_OPTIONS)?(n.sendEvent(A._clientPromise,"paypal-checkout.updatePayment.missing-options"),Promise.reject(new e(u.PAYPAL_MISSING_REQUIRED_OPTION))):this._verifyConsistentCurrency(_)?(n.sendEvent(this._clientPromise,"paypal-checkout.updatePayment"),this._clientPromise.then(function(O){return O.request({endpoint:E,method:"post",data:A._formatUpdatePaymentData(_)})}).catch(function(O){var w=O.details&&O.details.httpStatus;return w===422?(n.sendEvent(A._clientPromise,"paypal-checkout.updatePayment.invalid"),Promise.reject(new e({type:u.PAYPAL_INVALID_PAYMENT_OPTION.type,code:u.PAYPAL_INVALID_PAYMENT_OPTION.code,message:u.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:O}}))):(n.sendEvent(A._clientPromise,"paypal-checkout.updatePayment."+u.PAYPAL_FLOW_FAILED.code),Promise.reject(l(O,{type:u.PAYPAL_FLOW_FAILED.type,code:u.PAYPAL_FLOW_FAILED.code,message:u.PAYPAL_FLOW_FAILED.message})))})):(n.sendEvent(A._clientPromise,"paypal-checkout.updatePayment.inconsistent-currencies"),Promise.reject(new e({type:u.PAYPAL_INVALID_PAYMENT_OPTION.type,code:u.PAYPAL_INVALID_PAYMENT_OPTION.code,message:u.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:new Error("One or more shipping option currencies differ from checkout currency.")}})))},b.prototype.startVaultInitiatedCheckout=function(_){var A,E=this;return this._vaultInitiatedCheckoutInProgress?(n.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress"),Promise.reject(new e(u.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS))):(N.forEach(function(O){_.hasOwnProperty(O)||(A=O)}),A?Promise.reject(new e({type:u.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,code:u.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,message:"Required param "+A+" is missing."})):(this._vaultInitiatedCheckoutInProgress=!0,this._addModalBackdrop(_),_=i({},_,{flow:"checkout"}),n.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.started"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){var O=new a,w=E._createPaymentResource(_,{returnUrl:E._constructVaultCheckutUrl("redirect-frame"),cancelUrl:E._constructVaultCheckutUrl("cancel-frame")}).then(function(S){var C=S.paymentResource.redirectUrl;return E._frameService.redirect(C),O});return E._frameService.open({},E._createFrameServiceCallback(O)),w}).catch(function(O){return E._vaultInitiatedCheckoutInProgress=!1,E._removeModalBackdrop(),O.code==="FRAME_SERVICE_FRAME_CLOSED"?(n.sendEvent(E._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer"),Promise.reject(new e(u.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED))):(E._frameService&&E._frameService.close(),O.code&&O.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(n.sendEvent(E._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened"),Promise.reject(new e({code:u.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.code,type:u.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.type,message:u.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.message,details:{originalError:O}}))):Promise.reject(O))}).then(function(O){return E._frameService.close(),E._vaultInitiatedCheckoutInProgress=!1,E._removeModalBackdrop(),n.sendEvent(E._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.succeeded"),Promise.resolve(O)})))},b.prototype._addModalBackdrop=function(_){_.optOutOfModalBackdrop||(this._modalBackdrop||(this._modalBackdrop=document.createElement("div"),this._modalBackdrop.setAttribute("data-braintree-paypal-vault-initiated-checkout-modal",!0),this._modalBackdrop.style.position="fixed",this._modalBackdrop.style.top=0,this._modalBackdrop.style.bottom=0,this._modalBackdrop.style.left=0,this._modalBackdrop.style.right=0,this._modalBackdrop.style.zIndex=9999,this._modalBackdrop.style.background="black",this._modalBackdrop.style.opacity="0.7",this._modalBackdrop.addEventListener("click",function(){this.focusVaultInitiatedCheckoutWindow()}.bind(this))),document.body.appendChild(this._modalBackdrop))},b.prototype._removeModalBackdrop=function(){this._modalBackdrop&&this._modalBackdrop.parentNode&&this._modalBackdrop.parentNode.removeChild(this._modalBackdrop)},b.prototype.closeVaultInitiatedCheckoutWindow=function(){return this._vaultInitiatedCheckoutInProgress&&n.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.close()}.bind(this))},b.prototype.focusVaultInitiatedCheckoutWindow=function(){return this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.focus()}.bind(this))},b.prototype._createFrameServiceCallback=function(_){var A=this;return function(E,O){E?_.reject(E):O&&(A._frameService.redirect(A._loadingFrameUrl),A.tokenizePayment({paymentToken:O.token,payerID:O.PayerID,paymentID:O.paymentId}).then(function(w){_.resolve(w)}).catch(function(w){_.reject(w)}))}},b.prototype._waitForVaultInitiatedCheckoutDependencies=function(){var _=this;return this._clientPromise.then(function(){return _._frameServicePromise})},b.prototype._constructVaultCheckutUrl=function(_){var A=this._frameService._serviceId;return this._assetsUrl+"/html/"+_+s(this._isDebug)+".html?channel="+A},b.prototype.tokenizePayment=function(_){var A=this,E=!0,O,w={flow:_.billingToken&&!_.paymentID?"vault":"checkout",intent:_.intent||this.intentFromCreatePayment},S={ecToken:_.paymentToken,billingToken:_.billingToken,payerId:_.payerID,paymentId:_.paymentID,shippingOptionsId:_.shippingOptionsId};return _.hasOwnProperty("vault")&&(E=_.vault),w.vault=E,n.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then(function(C){return C.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:A._formatTokenizeData(w,S)})}).then(function(C){return O=A._formatTokenizePayload(C),n.sendEvent(A._clientPromise,"paypal-checkout.tokenization.success"),O.creditFinancingOffered&&n.sendEvent(A._clientPromise,"paypal-checkout.credit.accepted"),O}).catch(function(C){return A._setupError?Promise.reject(A._setupError):(n.sendEvent(A._clientPromise,"paypal-checkout.tokenization.failed"),Promise.reject(l(C,{type:u.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:u.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:u.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))})},b.prototype.getClientId=function(){return this._clientPromise.then(function(_){return _.getConfiguration().gatewayConfiguration.paypal.clientId})},b.prototype.loadPayPalSDK=function(_){var A,E,O=new a,w=_&&_.dataAttributes||{},S=w["user-id-token"]||w["data-user-id-token"];return S||(S=this._authorizationInformation.fingerprint&&this._authorizationInformation.fingerprint.split("?")[0]),this._paypalScript=document.createElement("script"),_=i({},{components:"buttons"},_),delete _.dataAttributes,_.vault?_.intent=_.intent||"tokenize":(_.intent=_.intent||"authorize",_.currency=_.currency||"USD"),E="https://www.paypal.com/sdk/js?",this._paypalScript.onload=function(){O.resolve()},Object.keys(w).forEach(function(C){this._paypalScript.setAttribute("data-"+C.replace(/^data\-/,""),w[C])}.bind(this)),_["client-id"]?A=Promise.resolve(_["client-id"]):A=this.getClientId(),A.then(function(C){_["client-id"]=C,this._autoSetDataUserIdToken&&S&&(this._paypalScript.setAttribute("data-user-id-token",S),this._attachPreloadPixel({id:C,userIdToken:S,amount:w.amount,currency:_.currency,merchantId:_["merchant-id"]})),this._paypalScript.src=m.queryify(E,_),document.head.insertBefore(this._paypalScript,document.head.firstElementChild)}.bind(this)),O.then(function(){return this}.bind(this))},b.prototype._attachPreloadPixel=function(_){var A,E=_.id,O=_.userIdToken,w=this._authorizationInformation.environment,S=w==="production"?"":"sandbox.",C=P.replace("{ENV}",S),L={"client-id":E,"user-id-token":O};_.amount&&(L.amount=_.amount),_.currency&&(L.currency=_.currency),_.merchantId&&(L["merchant-id"]=_.merchantId),A=new XMLHttpRequest,A.open("GET",m.queryify(C,L)),A.send()},b.prototype._formatPaymentResourceData=function(_,A){var E,O=this._configuration.gatewayConfiguration,w=_.intent,S={returnUrl:A.returnUrl||"https://www.paypal.com/checkoutnow/error",cancelUrl:A.cancelUrl||"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:_.offerCredit===!0,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:_.displayName||O.paypal.displayName,localeCode:_.locale,noShipping:(!_.enableShippingAddress).toString(),addressOverride:_.shippingAddressEditable===!1,landingPageType:_.landingPageType},shippingOptions:_.shippingOptions};if(_.flow==="checkout"){S.amount=_.amount,S.currencyIsoCode=_.currency,S.requestBillingAgreement=_.requestBillingAgreement,w&&(w==="capture"&&(w="sale"),S.intent=w),_.hasOwnProperty("lineItems")&&(S.lineItems=_.lineItems),_.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(S.vaultInitiatedCheckoutPaymentMethodToken=_.vaultInitiatedCheckoutPaymentMethodToken),_.hasOwnProperty("shippingOptions")&&(S.shippingOptions=_.shippingOptions);for(E in _.shippingAddressOverride)_.shippingAddressOverride.hasOwnProperty(E)&&(S[E]=_.shippingAddressOverride[E]);_.hasOwnProperty("billingAgreementDetails")&&(S.billingAgreementDetails=_.billingAgreementDetails)}else S.shippingAddress=_.shippingAddressOverride,_.billingAgreementDescription&&(S.description=_.billingAgreementDescription);return this._riskCorrelationId=_.riskCorrelationId,_.riskCorrelationId&&(S.correlationId=this._riskCorrelationId),S},b.prototype._verifyConsistentCurrency=function(_){return _.currency&&_.hasOwnProperty("shippingOptions")&&Array.isArray(_.shippingOptions)?_.shippingOptions.every(function(A){return A.amount&&A.amount.currency&&_.currency.toLowerCase()===A.amount.currency.toLowerCase()}):!0},b.prototype._hasMissingOption=function(_,A){var E,O;if(A=A||[],!_.hasOwnProperty("amount")&&!_.hasOwnProperty("lineItems"))return!0;for(E=0;E<A.length;E++)if(O=A[E],!_.hasOwnProperty(O))return!0;return!1},b.prototype._formatUpdatePaymentData=function(_){var A=this,E={merchantAccountId:this._merchantAccountId,paymentId:_.paymentId,currencyIsoCode:_.currency};return _.hasOwnProperty("amount")&&(E.amount=_.amount),_.hasOwnProperty("lineItems")&&(E.lineItems=_.lineItems),_.hasOwnProperty("shippingOptions")&&(E.shippingOptions=_.shippingOptions),_.hasOwnProperty("shippingAddress")&&(n.sendEvent(A._clientPromise,"paypal-checkout.updatePayment.shippingAddress.provided.by-the-merchant"),E.line1=_.shippingAddress.line1,_.shippingAddress.hasOwnProperty("line2")&&(E.line2=_.shippingAddress.line2),E.city=_.shippingAddress.city,E.state=_.shippingAddress.state,E.postalCode=_.shippingAddress.postalCode,E.countryCode=_.shippingAddress.countryCode,_.shippingAddress.hasOwnProperty("phone")&&(E.phone=_.shippingAddress.phone),_.shippingAddress.hasOwnProperty("recipientName")&&(E.recipientName=_.shippingAddress.recipientName)),E},b.prototype._formatTokenizeData=function(_,A){var E=this._configuration,O=E.gatewayConfiguration,w=E.authorizationType==="TOKENIZATION_KEY",S=_.flow==="vault",C=this._riskCorrelationId||A.billingToken||A.ecToken,L={paypalAccount:{correlationId:C,options:{validate:S&&!w&&_.vault}}};return S?L.paypalAccount.billingAgreementToken=A.billingToken:(L.paypalAccount.paymentToken=A.paymentId,L.paypalAccount.payerId=A.payerId,L.paypalAccount.unilateral=O.paypal.unvettedMerchant,_.intent&&(L.paypalAccount.intent=_.intent)),this._merchantAccountId&&(L.merchantAccountId=this._merchantAccountId),L},b.prototype._formatTokenizePayload=function(_){var A,E={};return _.paypalAccounts&&(E=_.paypalAccounts[0]),A={nonce:E.nonce,details:{},type:E.type},E.details&&E.details.payerInfo&&(A.details=E.details.payerInfo),E.details&&E.details.creditFinancingOffered&&(A.creditFinancingOffered=E.details.creditFinancingOffered),E.details&&E.details.shippingOptionId&&(A.shippingOptionId=E.details.shippingOptionId),E.details&&E.details.cobrandedCardLabel&&(A.cobrandedCardLabel=E.details.cobrandedCardLabel),A},b.prototype.teardown=function(){var _=this;return h(this,y(b.prototype)),this._paypalScript&&this._paypalScript.parentNode&&this._paypalScript.parentNode.removeChild(this._paypalScript),this._frameServicePromise.catch(function(){}).then(function(){return _._frameService?_._frameService.teardown():Promise.resolve()})},d.exports=c.wrapPrototype(b)},{"../lib/analytics":47,"../lib/assign":49,"../lib/braintree-error":51,"../lib/constants":52,"../lib/convert-methods-to-error":53,"../lib/convert-to-braintree-error":54,"../lib/create-assets-url":55,"../lib/create-authorization-data":56,"../lib/create-deferred-client":57,"../lib/frame-service/external":61,"../lib/methods":72,"../lib/querystring":73,"../lib/use-min":74,"../paypal/shared/constants":79,"./errors":76,"@braintree/extended-promise":20,"@braintree/wrap-promise":29}],79:[function(r,d,p){"use strict";d.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"},REQUIRED_OPTIONS:["paymentId","currency"]}},{}]},{},[77])(77)})})(W,W.exports);var se=W.exports;const ce=ee(se);var q={exports:{}},Ae=q.exports;(function(U,k){(function(F){if(!0)U.exports=F();else var z})(function(){var F,z,H;return function(){function r(d,p,n){function i(a,c){if(!p[a]){if(!d[a]){var e=typeof M=="function"&&M;if(!c&&e)return e(a,!0);if(t)return t(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=p[a]={exports:{}};d[a][0].call(u.exports,function(f){var v=d[a][1][f];return i(v||f)},u,u.exports,r,d,p,n)}return p[a].exports}for(var t=typeof M=="function"&&M,o=0;o<n.length;o++)i(n[o]);return i}return r}()({1:[function(r,d,p){"use strict";var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(p,"__esModule",{value:!0}),p.PromiseGlobal=void 0;var i=n(r("promise-polyfill")),t=typeof Promise<"u"?Promise:i.default;p.PromiseGlobal=t},{"promise-polyfill":8}],2:[function(r,d,p){"use strict";var n=r("./lib/promise"),i={};function t(o){var a,c=JSON.stringify(o);if(!o.forceScriptReload&&(a=i[c],a))return a;var e=document.createElement("script"),l=o.dataAttributes||{},u=o.container||document.head;return e.src=o.src,e.id=o.id||"",e.async=!0,o.crossorigin&&e.setAttribute("crossorigin",""+o.crossorigin),Object.keys(l).forEach(function(f){e.setAttribute("data-"+f,""+l[f])}),a=new n.PromiseGlobal(function(f,v){e.addEventListener("load",function(){f(e)}),e.addEventListener("error",function(){v(new Error(o.src+" failed to load."))}),e.addEventListener("abort",function(){v(new Error(o.src+" has aborted."))}),u.appendChild(e)}),i[c]=a,a}t.clearCache=function(){i={}},d.exports=t},{"./lib/promise":1}],3:[function(r,d,p){d.exports=r("./dist/load-script")},{"./dist/load-script":2}],4:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0});function n(i){return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];setTimeout(function(){try{i.apply(void 0,t)}catch(a){console.log("Error in callback function"),console.log(a)}},1)}}p.deferred=n},{}],5:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0});function n(i){var t=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t||(t=!0,i.apply(void 0,o))}}p.once=n},{}],6:[function(r,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0});function n(i,t){if(!t)return i;i.then(function(o){return t(null,o)}).catch(function(o){return t(o)})}p.promiseOrCallback=n},{}],7:[function(r,d,p){"use strict";var n=r("./lib/deferred"),i=r("./lib/once"),t=r("./lib/promise-or-callback");function o(a){return function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];var l,u=c[c.length-1];return typeof u=="function"&&(l=c.pop(),l=i.once(n.deferred(l))),t.promiseOrCallback(a.apply(this,c),l)}}o.wrapPrototype=function(a,c){c===void 0&&(c={});var e=c.ignoreMethods||[],l=c.transformPrivateMethods===!0,u=Object.getOwnPropertyNames(a.prototype).filter(function(f){var v,g=f!=="constructor"&&typeof a.prototype[f]=="function",y=e.indexOf(f)===-1;return l?v=!0:v=f.charAt(0)!=="_",g&&v&&y});return u.forEach(function(f){var v=a.prototype[f];a.prototype[f]=o(v)}),a},d.exports=o},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(r,d,p){"use strict";function n(s){var h=this.constructor;return this.then(function(m){return h.resolve(s()).then(function(){return m})},function(m){return h.resolve(s()).then(function(){return h.reject(m)})})}function i(s){var h=this;return new h(function(m,T){if(!(s&&typeof s.length<"u"))return T(new TypeError(typeof s+" "+s+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var I=Array.prototype.slice.call(s);if(I.length===0)return m([]);var N=I.length;function P(_,A){if(A&&(typeof A=="object"||typeof A=="function")){var E=A.then;if(typeof E=="function"){E.call(A,function(O){P(_,O)},function(O){I[_]={status:"rejected",reason:O},--N===0&&m(I)});return}}I[_]={status:"fulfilled",value:A},--N===0&&m(I)}for(var b=0;b<I.length;b++)P(b,I[b])})}var t=setTimeout;function o(s){return!!(s&&typeof s.length<"u")}function a(){}function c(s,h){return function(){s.apply(h,arguments)}}function e(s){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if(typeof s!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(s,this)}function l(s,h){for(;s._state===3;)s=s._value;if(s._state===0){s._deferreds.push(h);return}s._handled=!0,e._immediateFn(function(){var m=s._state===1?h.onFulfilled:h.onRejected;if(m===null){(s._state===1?u:f)(h.promise,s._value);return}var T;try{T=m(s._value)}catch(I){f(h.promise,I);return}u(h.promise,T)})}function u(s,h){try{if(h===s)throw new TypeError("A promise cannot be resolved with itself.");if(h&&(typeof h=="object"||typeof h=="function")){var m=h.then;if(h instanceof e){s._state=3,s._value=h,v(s);return}else if(typeof m=="function"){y(c(m,h),s);return}}s._state=1,s._value=h,v(s)}catch(T){f(s,T)}}function f(s,h){s._state=2,s._value=h,v(s)}function v(s){s._state===2&&s._deferreds.length===0&&e._immediateFn(function(){s._handled||e._unhandledRejectionFn(s._value)});for(var h=0,m=s._deferreds.length;h<m;h++)l(s,s._deferreds[h]);s._deferreds=null}function g(s,h,m){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof h=="function"?h:null,this.promise=m}function y(s,h){var m=!1;try{s(function(T){m||(m=!0,u(h,T))},function(T){m||(m=!0,f(h,T))})}catch(T){if(m)return;m=!0,f(h,T)}}e.prototype.catch=function(s){return this.then(null,s)},e.prototype.then=function(s,h){var m=new this.constructor(a);return l(this,new g(s,h,m)),m},e.prototype.finally=n,e.all=function(s){return new e(function(h,m){if(!o(s))return m(new TypeError("Promise.all accepts an array"));var T=Array.prototype.slice.call(s);if(T.length===0)return h([]);var I=T.length;function N(b,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var A=_.then;if(typeof A=="function"){A.call(_,function(E){N(b,E)},m);return}}T[b]=_,--I===0&&h(T)}catch(E){m(E)}}for(var P=0;P<T.length;P++)N(P,T[P])})},e.allSettled=i,e.resolve=function(s){return s&&typeof s=="object"&&s.constructor===e?s:new e(function(h){h(s)})},e.reject=function(s){return new e(function(h,m){m(s)})},e.race=function(s){return new e(function(h,m){if(!o(s))return m(new TypeError("Promise.race accepts an array"));for(var T=0,I=s.length;T<I;T++)e.resolve(s[T]).then(h,m)})},e._immediateFn=typeof setImmediate=="function"&&function(s){setImmediate(s)}||function(s){t(s,0)},e._unhandledRejectionFn=function(h){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",h)},d.exports=e},{}],9:[function(r,d,p){"use strict";var n=r("./create-authorization-data"),i=r("./json-clone"),t=r("./constants");function o(a,c){var e,l=c?i(c):{},u=n(a.authorization).attrs,f=i(a.analyticsMetadata);l.braintreeLibraryVersion=t.BRAINTREE_LIBRARY_VERSION;for(e in l._meta)l._meta.hasOwnProperty(e)&&(f[e]=l._meta[e]);return l._meta=f,u.tokenizationKey?l.tokenizationKey=u.tokenizationKey:l.authorizationFingerprint=u.authorizationFingerprint,l}d.exports=o},{"./constants":14,"./create-authorization-data":17,"./json-clone":21}],10:[function(r,d,p){"use strict";var n=r("./constants"),i=r("./add-metadata");function t(o,a,c){var e=Date.now();return Promise.resolve(o).then(function(l){var u=Date.now(),f=l.getConfiguration(),v=l._request,g=f.gatewayConfiguration.analytics.url,y={analytics:[{kind:n.ANALYTICS_PREFIX+a,isAsync:Math.floor(u/1e3)!==Math.floor(e/1e3),timestamp:e}]};v({url:g,method:"post",data:i(f,y),timeout:n.ANALYTICS_REQUEST_TIMEOUT_MS},c)}).catch(function(l){c&&c(l)})}d.exports={sendEvent:t}},{"./add-metadata":9,"./constants":14}],11:[function(r,d,p){"use strict";var n=r("@braintree/asset-loader/load-script");d.exports={loadScript:n}},{"@braintree/asset-loader/load-script":3}],12:[function(r,d,p){"use strict";var n=r("./braintree-error"),i=r("./errors"),t="3.94.0";function o(a){var c,e,l;return a?(l=a.name,c=a.client,e=a.authorization,!c&&!e?Promise.reject(new n({type:i.INSTANTIATION_OPTION_REQUIRED.type,code:i.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!e&&c.getVersion()!==t?Promise.reject(new n({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+c.getVersion()+") and "+l+" (version "+t+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new n({type:i.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:i.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:o}},{"./braintree-error":13,"./errors":20}],13:[function(r,d,p){"use strict";var n=r("./enumerate");function i(t){if(!i.types.hasOwnProperty(t.type))throw new Error(t.type+" is not a valid type.");if(!t.code)throw new Error("Error code required.");if(!t.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=t.code,this.message=t.message,this.type=t.type,this.details=t.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=n(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(t){return t instanceof i&&t.details&&t.details.originalError?i.findRootError(t.details.originalError):t},d.exports=i},{"./enumerate":19}],14:[function(r,d,p){"use strict";var n="3.94.0",i="web",t={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},o={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},a={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:i+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:o,CLIENT_API_URLS:t,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:a,INTEGRATION_TIMEOUT_MS:6e4,VERSION:n,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/"+i+"/"+n}},{}],15:[function(r,d,p){"use strict";var n=r("./braintree-error"),i=r("./errors");d.exports=function(t,o){o.forEach(function(a){t[a]=function(){throw new n({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:a+" cannot be called after teardown."})}})}},{"./braintree-error":13,"./errors":20}],16:[function(r,d,p){"use strict";var n=r("./constants").ASSETS_URLS;function i(t){return n.production}d.exports={create:i}},{"./constants":14}],17:[function(r,d,p){"use strict";var n=r("../lib/vendor/polyfill").atob,i=r("../lib/constants").CLIENT_API_URLS;function t(c){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(c)}function o(c){var e=c.split("_"),l=e[0],u=e.slice(2).join("_");return{merchantId:u,environment:l}}function a(c){var e,l,u={attrs:{},configUrl:""};return t(c)?(l=o(c),u.environment=l.environment,u.attrs.tokenizationKey=c,u.configUrl=i[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(e=JSON.parse(n(c)),u.environment=e.environment,u.attrs.authorizationFingerprint=e.authorizationFingerprint,u.configUrl=e.configUrl,u.graphQL=e.graphQL),u}d.exports=a},{"../lib/constants":14,"../lib/vendor/polyfill":24}],18:[function(r,d,p){"use strict";var n=r("./braintree-error"),i=r("./assets"),t=r("./errors"),o="3.94.0";function a(c){var e=Promise.resolve();return c.client?Promise.resolve(c.client):(window.braintree&&window.braintree.client||(e=i.loadScript({src:c.assetsUrl+"/web/"+o+"/js/client.min.js"}).catch(function(l){return Promise.reject(new n({type:t.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:t.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:t.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),e.then(function(){return window.braintree.client.VERSION!==o?Promise.reject(new n({type:t.INCOMPATIBLE_VERSIONS.type,code:t.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+c.name+" (version "+o+") components must be from the same SDK version."})):window.braintree.client.create({authorization:c.authorization,debug:c.debug})}))}d.exports={create:a}},{"./assets":11,"./braintree-error":13,"./errors":20}],19:[function(r,d,p){"use strict";function n(i,t){return t=t??"",i.reduce(function(o,a){return o[a]=t+a,o},{})}d.exports=n},{}],20:[function(r,d,p){"use strict";var n=r("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:n.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:n.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:n.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:n.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":13}],21:[function(r,d,p){"use strict";d.exports=function(n){return JSON.parse(JSON.stringify(n))}},{}],22:[function(r,d,p){"use strict";d.exports=function(n){return Object.keys(n).filter(function(i){return typeof n[i]=="function"})}},{}],23:[function(r,d,p){"use strict";function n(i){var t=!1;return function(){t||(t=!0,i.apply(null,arguments))}}d.exports=n},{}],24:[function(r,d,p){"use strict";var n=typeof atob=="function"?atob:i;function i(t){var o,a,c,e,l,u,f,v,g=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="";if(!g.test(t))throw new Error("Non base64 encoded input passed to window.atob polyfill");v=0;do e=y.indexOf(t.charAt(v++)),l=y.indexOf(t.charAt(v++)),u=y.indexOf(t.charAt(v++)),f=y.indexOf(t.charAt(v++)),o=(e&63)<<2|l>>4&3,a=(l&15)<<4|u>>2&15,c=(u&3)<<6|f&63,s+=String.fromCharCode(o)+(a?String.fromCharCode(a):"")+(c?String.fromCharCode(c):"");while(v<t.length);return s}d.exports={atob:function(t){return n.call(window,t)},_atob:i}},{}],25:[function(r,d,p){"use strict";d.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],26:[function(r,d,p){"use strict";var n=r("../lib/braintree-error");d.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:n.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:n.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:n.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:n.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":13}],27:[function(r,d,p){"use strict";var n=r("../lib/basic-component-verification"),i=r("../lib/braintree-error"),t=r("../lib/create-deferred-client"),o=r("../lib/create-assets-url"),a=r("./errors"),c=r("./us-bank-account"),e="3.94.0",l=r("@braintree/wrap-promise");function u(f){var v="US Bank Account";return n.verify({name:v,client:f.client,authorization:f.authorization}).then(function(){return t.create({authorization:f.authorization,client:f.client,debug:f.debug,assetsUrl:o.create(f.authorization),name:v})}).then(function(g){var y;return f.client=g,y=f.client.getConfiguration().gatewayConfiguration.usBankAccount,y?new c(f):Promise.reject(new i(a.US_BANK_ACCOUNT_NOT_ENABLED))})}d.exports={create:l(u),VERSION:e}},{"../lib/basic-component-verification":12,"../lib/braintree-error":13,"../lib/create-assets-url":16,"../lib/create-deferred-client":18,"./errors":26,"./us-bank-account":28,"@braintree/wrap-promise":7}],28:[function(r,d,p){"use strict";var n=r("../lib/braintree-error"),i=r("./constants"),t=r("./errors"),o=r("../lib/errors"),a=r("../lib/analytics"),c=r("../lib/once"),e=r("../lib/convert-methods-to-error"),l=r("../lib/methods"),u=r("@braintree/wrap-promise"),f=I("UsBankAccount"),v=I("UsBankLogin");function g(N){this._client=N.client,this._isTokenizingBankLogin=!1,a.sendEvent(this._client,"usbankaccount.initialized")}g.prototype.tokenize=function(N){return N=N||{},N.mandateText?N.bankDetails&&N.bankLogin?Promise.reject(new n({type:t.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:t.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):N.bankDetails?this._tokenizeBankDetails(N):N.bankLogin?this._tokenizeBankLogin(N):Promise.reject(new n({type:t.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:t.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):Promise.reject(new n({type:t.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:t.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},g.prototype._tokenizeBankDetails=function(N){var P=this._client,b=N.bankDetails,_={achMandate:N.mandateText,routingNumber:b.routingNumber,accountNumber:b.accountNumber,accountType:b.accountType.toUpperCase(),billingAddress:m(b.billingAddress||{})};return T(_,b),P.request({api:"graphQLApi",data:{query:f,variables:{input:{usBankAccount:_}}}}).then(function(A){return a.sendEvent(P,"usbankaccount.bankdetails.tokenization.succeeded"),Promise.resolve(s(A,"tokenizeUsBankAccount"))}).catch(function(A){var E=y(A);return a.sendEvent(P,"usbankaccount.bankdetails.tokenization.failed"),Promise.reject(E)})},g.prototype._tokenizeBankLogin=function(N){var P=this,b=this._client,_=b.getConfiguration().gatewayConfiguration,A=_.environment==="production",E=_.usBankAccount.plaid;return N.bankLogin.displayName?E?this._isTokenizingBankLogin?Promise.reject(new n(t.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new Promise(function(O,w){P._loadPlaid(function(S,C){if(S){w(S);return}C.create({clientName:N.bankLogin.displayName,apiVersion:"v2",env:A?"production":"sandbox",key:E.publicKey,product:"auth",selectAccount:!0,onExit:function(){P._isTokenizingBankLogin=!1,a.sendEvent(b,"usbankaccount.banklogin.tokenization.closed.by-user"),w(new n(t.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(L,R){var x=N.bankLogin,D={publicToken:L,accountId:A?R.account_id:"plaid_account_id",accountType:R.account.subtype.toUpperCase(),achMandate:N.mandateText,billingAddress:m(x.billingAddress||{})};T(D,x),b.request({api:"graphQLApi",data:{query:v,variables:{input:{usBankLogin:D}}}}).then(function(B){P._isTokenizingBankLogin=!1,a.sendEvent(b,"usbankaccount.banklogin.tokenization.succeeded"),O(s(B,"tokenizeUsBankLogin"))}).catch(function(B){var j;P._isTokenizingBankLogin=!1,j=y(B),a.sendEvent(b,"usbankaccount.banklogin.tokenization.failed"),w(j)})}}).open(),a.sendEvent(b,"usbankaccount.banklogin.tokenization.started")})})):Promise.reject(new n(t.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):Promise.reject(new n({type:t.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:t.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))};function y(N){var P,b=N.details&&N.details.httpStatus;return b===401?P=new n(o.BRAINTREE_API_ACCESS_RESTRICTED):b<500?P=new n(t.US_BANK_ACCOUNT_FAILED_TOKENIZATION):P=new n(t.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR),P.details={originalError:N},P}function s(N,P){var b=N.data[P].paymentMethod,_=b.details.last4,A="US bank account ending in - "+_;return{nonce:b.id,details:{},description:A,type:"us_bank_account"}}g.prototype._loadPlaid=function(N){var P,b;if(N=c(N),window.Plaid){N(null,window.Plaid);return}P=document.querySelector('script[src="'+i.PLAID_LINK_JS+'"]'),P?h(P,N):(b=document.createElement("script"),b.src=i.PLAID_LINK_JS,b.async=!0,h(b,N),document.body.appendChild(b),this._plaidScript=b)};function h(N,P){function b(){var E=this.readyState;(!E||E==="loaded"||E==="complete")&&(A(),P(null,window.Plaid))}function _(){N.parentNode.removeChild(N),P(new n(t.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}function A(){N.removeEventListener("error",_),N.removeEventListener("load",b),N.removeEventListener("readystatechange",b)}N.addEventListener("error",_),N.addEventListener("load",b),N.addEventListener("readystatechange",b)}function m(N){return{streetAddress:N.streetAddress,extendedAddress:N.extendedAddress,city:N.locality,state:N.region,zipCode:N.postalCode}}function T(N,P){P.ownershipType==="personal"?N.individualOwner={firstName:P.firstName,lastName:P.lastName}:P.ownershipType==="business"&&(N.businessOwner={businessName:P.businessName})}function I(N){return"mutation Tokenize"+N+"($input: Tokenize"+N+"Input!) {  tokenize"+N+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}g.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),e(this,l(g.prototype)),Promise.resolve()},d.exports=u.wrapPrototype(g)},{"../lib/analytics":10,"../lib/braintree-error":13,"../lib/convert-methods-to-error":15,"../lib/errors":20,"../lib/methods":22,"../lib/once":23,"./constants":25,"./errors":26,"@braintree/wrap-promise":7}]},{},[27])(27)})})(q,q.exports);var ue=q.exports;const de=ee(ue),{log:le,error:fe}=ne("http.utils.jsx"),G={_request:async(U,k,F,z)=>{const H={method:k,headers:{"Content-Type":"application/json",...z},body:JSON.stringify(F),redirect:"follow"},r=await fetch(U,H);if(!r.ok)throw fe({url:U,method:k,response:r}),new Error("HTTP Fetch Failed",{cause:r});return le(U,k,r),r.json()},get:(U,k=void 0,F={})=>G._request(U,"GET",k,F),post:(U,k=void 0,F={})=>G._request(U,"POST",k,F),patch:(U,k=void 0,F={})=>G._request(U,"PATCH",k,F),delete:(U,k=void 0,F={})=>G._request(U,"DELETE",k,F)},{log:pe,error:he}=ne("bt.service.jsx"),re={Client:ae,PayPalCheckout:ce,USBankAccount:de},ge=async(U,k)=>{if(!Object.hasOwn(re,U)){he("Braintree client SDK class for "+U+" not setup");return}return re[U].create(k)},Ie=async(U,k,F=[],z=[])=>{const H="/api/braintree/sdk/interface",r=localStorage.getItem("authHeader")?{authorization:"Basic "+localStorage.getItem("authHeader")}:{},d={resource:U,operation:k,args:F,params:z};return await G.post(H,d,r)},Te=async(U,k)=>{pe(U,k)};export{ce as B,ge as c,Te as g,Ie as s};
//# sourceMappingURL=bt.service-e51c3a6c.js.map
