{"version":3,"file":"withOperations.component-fd3e39c1.js","sources":["../../src/components/DataEdit..component.jsx","../../src/components/OperationEdit.component.jsx","../../src/layouts/withOperations.component.jsx"],"sourcesContent":["import { InputText, InputBody, OutputJson } from '../lib/components/export.jsx'\n\nconst DataEdit = (props) => {\n    const onChange = (value) => props.onChange(props.dataId, value)\n\n    switch (true) {\n        case typeof props.data === 'object': {\n            return (\n                <OutputJson\n                    theme=\"rjv-default\"\n                    name={props.dataId}\n                    src={props.data}\n                    isEditable={true}\n                    onChange={onChange}\n                />\n            )\n        }\n\n        case typeof props.data === 'string' && props.data.split(/\\r\\n|\\r|\\n/).length > 1: {\n            const rows = props.data.split(/\\r\\n|\\r|\\n/).length\n            console.log(rows)\n            return <InputBody label={props.dataId} onChange={onChange} rows={30} value={props.data} />\n        }\n\n        case typeof props.data === 'string': {\n            return <InputText label={props.dataId} onChange={onChange} value={props.data} />\n        }\n\n        default:\n            return null\n    }\n}\n\nexport default DataEdit\n","import DataEdit from './DataEdit..component.jsx'\nimport Card from '../lib/components/other/Card/Card.component.jsx'\n\nconst OperationEdit = (props) => {\n    const onChange = (dataId, value) => {\n        props.onChange(props.operationId, {\n            ...props.operation.data,\n            [dataId]: value,\n        })\n    }\n\n    return (\n        <Card>\n            <div className=\"bg-light p-2 text-muted fw-bold\">\n                {props.operation.type + ' --> ' + props.operation.label}\n            </div>\n            <br />\n            {Object.keys(props.operation.data).map((dataId) => (\n                <DataEdit key={dataId} dataId={dataId} data={props.operation.data[dataId]} onChange={onChange} />\n            ))}\n            <br />\n        </Card>\n    )\n}\n\nexport default OperationEdit\n","import { useReducer } from 'react'\nimport OperationEdit from '../components/OperationEdit.component.jsx'\nimport { useAppContext } from '../states/AppContext/appContext.hooks.jsx'\n\n// import createLoggers from '../utils/logger.utils.jsx'\n// const { log, error } = createLoggers('withOperations.component.jsx')\n\nconst _operationsReducer = {\n    reducer: (state, action) => {\n        return {\n            ...state,\n            [action.id]: {\n                ...state[action.id],\n                data: action.value,\n            },\n        }\n    },\n    init: (operations) => operations,\n}\n\nconst withOperations = (BaseComponent, initOperations, requiredContext = []) => {\n    const WithSDKOperations = (props) => {\n        const appContext = useAppContext()\n        const [operations, dispatchOperations] = useReducer(\n            _operationsReducer.reducer,\n            initOperations,\n            _operationsReducer.init,\n        )\n\n        const updateOperations = (id, value) => {\n            dispatchOperations({\n                id: id,\n                value: value,\n            })\n        }\n\n        const contextRender = () => {\n            if (requiredContext.length < 1) return null\n            return (\n                <div className=\"col-12 px-2 py-4\">\n                    {requiredContext.map((label, key) => {\n                        const color = appContext[label] ? 'bg-success text-bg-success' : 'bg-warning text-bg-warning'\n                        const finalClass = 'm-1 px-3 py-2 rounded-3 app-text-regular ' + color\n                        return (\n                            <span key={label + key} className={finalClass}>\n                                {label}\n                            </span>\n                        )\n                    })}\n                </div>\n            )\n        }\n\n        return (\n            <div className=\"row\">\n                <br />\n                <br />\n                {contextRender()}\n                <div className=\"col-8\">\n                    {Object.keys(operations).map((operationId) => (\n                        <OperationEdit\n                            key={operationId}\n                            operationId={operationId}\n                            operation={operations[operationId]}\n                            onChange={updateOperations}\n                        />\n                    ))}\n                </div>\n                <div className=\"col-4\">\n                    <BaseComponent {...props} operations={operations} />\n                </div>\n            </div>\n        )\n    }\n    WithSDKOperations.displayName = 'WithSDKOperations'\n    return WithSDKOperations\n}\n\nexport default withOperations\n"],"names":["DataEdit","props","onChange","value","jsx","OutputJson","rows","InputBody","InputText","OperationEdit","dataId","Card","_operationsReducer","state","action","operations","withOperations","BaseComponent","initOperations","requiredContext","WithSDKOperations","appContext","useAppContext","dispatchOperations","useReducer","updateOperations","id","jsxs","label","key","finalClass","operationId","withOperations$1"],"mappings":"0KAEA,MAAMA,EAAYC,GAAU,CACxB,MAAMC,EAAYC,GAAUF,EAAM,SAASA,EAAM,OAAQE,CAAK,EAE9D,OAAQ,GAAM,CACV,KAAK,OAAOF,EAAM,MAAS,SAEnB,OAAAG,EAACC,EAAA,CACG,MAAM,cACN,KAAMJ,EAAM,OACZ,IAAKA,EAAM,KACX,WAAY,GACZ,SAAAC,CAAA,CAAA,EAKZ,KAAK,OAAOD,EAAM,MAAS,UAAYA,EAAM,KAAK,MAAM,YAAY,EAAE,OAAS,GAAG,CAC9E,MAAMK,EAAOL,EAAM,KAAK,MAAM,YAAY,EAAE,OAC5C,eAAQ,IAAIK,CAAI,EACTF,EAACG,EAAU,CAAA,MAAON,EAAM,OAAQ,SAAAC,EAAoB,KAAM,GAAI,MAAOD,EAAM,IAAM,CAAA,CAC5F,CAEA,KAAK,OAAOA,EAAM,MAAS,SAChB,OAAAG,EAACI,GAAU,MAAOP,EAAM,OAAQ,SAAAC,EAAoB,MAAOD,EAAM,IAAM,CAAA,EAGlF,QACW,OAAA,IACf,CACJ,EC5BMQ,EAAiBR,GAAU,CACvB,MAAAC,EAAW,CAACQ,EAAQP,IAAU,CAC1BF,EAAA,SAASA,EAAM,YAAa,CAC9B,GAAGA,EAAM,UAAU,KACnB,CAACS,CAAM,EAAGP,CAAA,CACb,CAAA,EAGL,SACKQ,EACG,CAAA,SAAA,CAACP,EAAA,MAAA,CAAI,UAAU,kCACV,SAAAH,EAAM,UAAU,KAAO,QAAUA,EAAM,UAAU,KACtD,CAAA,IACC,KAAG,EAAA,EACH,OAAO,KAAKA,EAAM,UAAU,IAAI,EAAE,IAAKS,GACpCN,EAACJ,GAAsB,OAAAU,EAAgB,KAAMT,EAAM,UAAU,KAAKS,CAAM,EAAG,SAAAR,GAA5DQ,CAAgF,CAClG,IACA,KAAG,EAAA,CACR,CAAA,CAAA,CAER,EChBME,EAAqB,CACvB,QAAS,CAACC,EAAOC,KACN,CACH,GAAGD,EACH,CAACC,EAAO,EAAE,EAAG,CACT,GAAGD,EAAMC,EAAO,EAAE,EAClB,KAAMA,EAAO,KACjB,CAAA,GAGR,KAAOC,GAAeA,CAC1B,EAEMC,EAAiB,CAACC,EAAeC,EAAgBC,EAAkB,CAAA,IAAO,CACtE,MAAAC,EAAqBnB,GAAU,CACjC,MAAMoB,EAAaC,IACb,CAACP,EAAYQ,CAAkB,EAAIC,EAAA,WACrCZ,EAAmB,QACnBM,EACAN,EAAmB,IAAA,EAGjBa,EAAmB,CAACC,EAAIvB,IAAU,CACjBoB,EAAA,CACf,GAAAG,EACA,MAAAvB,CAAA,CACH,CAAA,EAqBD,OAAAwB,EAAC,MAAI,CAAA,UAAU,MACX,SAAA,CAAAvB,EAAC,KAAG,EAAA,IACH,KAAG,EAAA,GApBU,IACde,EAAgB,OAAS,EAAU,KAEnCf,EAAC,OAAI,UAAU,mBACV,WAAgB,IAAI,CAACwB,EAAOC,IAAQ,CAEjC,MAAMC,EAAa,6CADLT,EAAWO,CAAK,EAAI,6BAA+B,8BAEjE,SACK,OAAuB,CAAA,UAAWE,EAC9B,SAAAF,CAAA,EADMA,EAAQC,CAEnB,CAEP,CAAA,CACL,CAAA,GAQe,EACfzB,EAAC,MAAI,CAAA,UAAU,QACV,SAAA,OAAO,KAAKW,CAAU,EAAE,IAAKgB,GAC1B3B,EAACK,EAAA,CAEG,YAAAsB,EACA,UAAWhB,EAAWgB,CAAW,EACjC,SAAUN,CAAA,EAHLM,CAKZ,CAAA,EACL,EACA3B,EAAC,OAAI,UAAU,QACX,WAACa,EAAe,CAAA,GAAGhB,EAAO,WAAAc,CAAA,CAAwB,CACtD,CAAA,CACJ,CAAA,CAAA,CAAA,EAGR,OAAAK,EAAkB,YAAc,oBACzBA,CACX,EAEAY,EAAehB"}