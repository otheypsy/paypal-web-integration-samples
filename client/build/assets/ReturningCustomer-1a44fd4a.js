import{u as E,b as f,d as S,c as R,f as w,a as A,F as v,j as e}from"./index-5183357d.js";import{r as d,P as B}from"./vendor-d2c1d7ba.js";import{B as D,s as T}from"./bt.service-231e8587.js";import{w as N}from"./withOperations.hoc-a1e834ab.js";import{l as s,d as c}from"./LoggerService-c6aefb93.js";import"./logger.utils-ababba19.js";import"./http.utils-2a9b74b8.js";import"./InputText.component-62651ba0.js";const O={paypalCheckoutCreate:{label:"braintree-web.paypalCheckout.create(options, callback)",type:"client",data:{options:{client:"CLIENT_INSTANCE_HERE",autoSetDataUserIdToken:!0}}},loadPayPalSDK:{label:"paypalCheckoutInstance.loadPayPalSDK(options, callback)",type:"client",data:{options:{currency:"USD",intent:"capture","disable-funding":"card",dataAttributes:{amount:"100.00",commit:!0}}}},renderPayPalButtons:{label:"window.paypal.Buttons(config).render",type:"client",data:{config:{style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal",tagline:!1}}}},createPayment:{label:"paypalCheckoutInstance.createPayment(options, callback)",type:"client",data:{options:{flow:"checkout",intent:"capture",amount:"100.00",currency:"USD",enableShippingAddress:!0,shippingAddressEditable:!0}}},tokenizePayment:{label:"paypalCheckoutInstance.tokenizePayment(tokenizeOptions, callback)",type:"client",data:{tokenizeOptions:{}}},transactionSale:{label:"gateway.transaction.sale(parameters, callback)",type:"server",data:{parameters:{amount:"100.00",merchantAccountId:"odesai_USD",paymentMethodNonce:"NONCE_HERE",deviceData:"DEVICE_DATA_HERE",options:{submitForSettlement:!0}}}}},_={Component:()=>null},P=a=>{const i=d.useRef(),[l,m]=d.useState(void 0),n=E(),o=f(),u=S(),C=R(),b=w(),k=async()=>{n();try{const t=await D.create({...a.operations.paypalCheckoutCreate.data.options,client:b.clientInstance});s("ReturningCustomer: createPayPalInstance",t),m(t)}catch(t){C(),c("ReturningCustomer: createPayPalInstance",t)}o()},h=async()=>{n(),await l.loadPayPalSDK(a.operations.loadPayPalSDK.data.options),o()},g=async()=>{n(),await window.paypal.Buttons({...a.operations.renderPayPalButtons.data.config,createOrder:p,onApprove:y,onClick:()=>console.log("PayPalCheckout: onClick"),onInit:()=>console.log("PayPalCheckout: onInit"),onCancel:t=>console.error("PayPalCheckout: onCancel",t),onError:t=>console.error("PayPalCheckout: onError",t)}).render(i.current),o()},p=async()=>{let t;n();try{t=await l.createPayment(a.operations.createPayment.data.options),s("ReturningCustomer: createOrder",t)}catch(r){c("ReturningCustomer: onApprove",r)}return o(),t},y=async t=>{n();try{const r=await l.tokenizePayment(t);s("ReturningCustomer: onApprove",r),u("Payload",r)}catch(r){c("ReturningCustomer: onApprove",r)}o()},I={...a.operations.renderPayPalButtons.data.config,createOrder:p,onApprove:y,onClick:()=>console.log("PayPalCheckout: onClick"),onInit:()=>console.log("PayPalCheckout: onInit"),onCancel:t=>console.error("PayPalCheckout: onCancel",t),onError:t=>console.error("PayPalCheckout: onError",t)};return A(v,{children:[e("button",{className:"btn btn-outline-success",onClick:k,children:"Create PayPal Instance"}),e("br",{}),e("br",{}),e("button",{className:"btn btn-outline-success",onClick:h,children:"Load PayPal JS SDK"}),e("br",{}),e("br",{}),e("button",{className:"btn btn-outline-success",onClick:g,children:"Render PayPal Buttons"}),e("br",{}),e("br",{}),e("div",{ref:i}),e("br",{}),e("br",{}),e("button",{className:"btn btn-outline-success",onClick:async()=>{n();try{const t=await T("transaction","sale",[],a.operations.transactionSale.data.parameters);s("ReturningCustomer: createTransaction",t),u("Transaction",t)}catch(t){c("ReturningCustomer: onApprove",t)}o()},children:"Create Transaction"}),e("br",{}),e("br",{}),e(_.Component,{...I})]})};P.propTypes={operations:B.object};const M=N(P,O);export{M as default};
//# sourceMappingURL=ReturningCustomer-1a44fd4a.js.map
