{"version":3,"file":"withOperations.hoc-a1e834ab.js","sources":["../../src/lib/components/form/InputBody/InputBody.component.jsx","../../src/lib/components/router/Mount.component.jsx","../../src/lib/components/router/CustomRouter.component.jsx","../../src/components/DataEdit..component.jsx","../../src/components/OperationEdit.component.jsx","../../src/layouts/withOperations.hoc.jsx"],"sourcesContent":["import PropTypes from 'prop-types'\nimport { useMemo } from 'react'\nimport classNames from '../Input.module.scss'\n\n/**\n * Component for <code>textarea</code> type input.\n *\n */\nconst InputBody = (props) => {\n    const onChange = (event) => {\n        props.onChange.length === 2 ? props.onChange(props.id, event.target.value) : props.onChange(event.target.value)\n    }\n\n    const style = useMemo(() => {\n        return props.rows\n            ? {\n                  height: 4 + parseInt(props.rows) * 1.2 + 'rem',\n              }\n            : {\n                  height: props.height,\n              }\n    }, [props.height, props.rows])\n\n    return (\n        <div className=\"form-floating my-2\">\n            <textarea\n                id={props.id}\n                className={'form-control ' + classNames.input}\n                style={style}\n                placeholder=\"-- input here --\"\n                value={props.value}\n                onChange={onChange}\n            />\n            <label className={classNames.label}>{props.label}</label>\n        </div>\n    )\n}\n\nInputBody.propTypes = {\n    /** Identifier used as return value with onChange */\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    /** Label for the textarea */\n    label: PropTypes.string.isRequired,\n    /** Value of the textarea */\n    value: PropTypes.string.isRequired,\n    /** Callback function to handle value change */\n    onChange: PropTypes.func.isRequired,\n    /** CSS height of the textarea */\n    height: PropTypes.string,\n    /** Rows for textarea */\n    rows: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n}\n\nInputBody.defaultProps = {\n    id: null,\n    height: '200px',\n    rows: null,\n}\n\nexport default InputBody\n","import { Suspense } from 'react'\nimport PropTypes from 'prop-types'\nimport { Route, Routes } from 'react-router-dom'\nimport GenericPage from '../other/GenericPage/GenericPage.component'\n\nconst Mount = (props) => {\n    return (\n        <Suspense fallback={<GenericPage details=\"Loading...\" />}>\n            <Routes>\n                <Route element={<props.layout routes={props.routes} />}>\n                    {props.routes.map((route) => {\n                        return <Route key={route.path} path={route.path + '/*'} element={<route.element />} />\n                    })}\n                    <Route path=\"*\" element={<props.notFound />} />\n                </Route>\n            </Routes>\n        </Suspense>\n    )\n}\n\nMount.propTypes = {\n    /** Parent layout */\n    layout: PropTypes.elementType,\n    /** Routes to render */\n    routes: PropTypes.array,\n    /** Fallback component */\n    notFound: PropTypes.elementType,\n}\n\nexport default Mount\n","import { BrowserRouter as Router } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport GenericPage from '../other/GenericPage/GenericPage.component'\nimport Mount from './Mount.component'\n\nconst CustomRouter = (props) => {\n    return props.isBase ? (\n        <Router basename={props.basePath}>\n            <Mount {...props} />\n        </Router>\n    ) : (\n        <Mount {...props} />\n    )\n}\n\nCustomRouter.propTypes = {\n    /** Base path of mount */\n    basePath: PropTypes.string,\n    /** Check if base mainRouter of application */\n    isBase: PropTypes.bool,\n    /** Routes for the mainRouter */\n    routes: PropTypes.arrayOf(\n        PropTypes.shape({\n            path: PropTypes.string,\n            component: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n        }),\n    ),\n    /** Layout of the mainRouter */\n    layout: PropTypes.func,\n    /** Template when route cannot be found */\n    notFound: PropTypes.func,\n}\n\nCustomRouter.defaultProps = {\n    basePath: '/',\n    isBase: false,\n    routes: [],\n    layout: () => <GenericPage message=\"Oops\" details=\"Layout not provided to `CustomerRouter`\" />,\n    notFound: () => <GenericPage message=\"404\" details=\"Not Found\" />,\n}\n\nexport default CustomRouter\n","import { InputText, InputBody, OutputJson } from '../lib/components/export.jsx'\n\nconst DataEdit = (props) => {\n    const onChange = (value) => props.onChange(props.dataId, value)\n\n    switch (true) {\n        case typeof props.data === 'object': {\n            return (\n                <OutputJson\n                    theme=\"rjv-default\"\n                    name={props.dataId}\n                    src={props.data}\n                    isEditable={true}\n                    onChange={onChange}\n                />\n            )\n        }\n\n        case typeof props.data === 'string' && props.data.split(/\\r\\n|\\r|\\n/).length > 1: {\n            const rows = props.data.split(/\\r\\n|\\r|\\n/).length\n            return <InputBody label={props.dataId} onChange={onChange} rows={rows} value={props.data} />\n        }\n\n        case typeof props.data === 'string': {\n            return <InputText label={props.dataId} onChange={onChange} value={props.data} />\n        }\n\n        default:\n            return null\n    }\n}\n\nexport default DataEdit\n","import DataEdit from './DataEdit..component.jsx'\nimport Card from '../lib/components/other/Card/Card.component.jsx'\n\nconst OperationEdit = (props) => {\n    const onChange = (dataId, value) => {\n        props.onChange(props.operationId, {\n            ...props.operation.data,\n            [dataId]: value,\n        })\n    }\n\n    return (\n        <Card>\n            <div className=\"bg-light p-2 text-muted fw-bold\">\n                {props.operation.type + ' --> ' + props.operation.label}\n            </div>\n            <br />\n            {Object.keys(props.operation.data).map((dataId) => (\n                <DataEdit key={dataId} dataId={dataId} data={props.operation.data[dataId]} onChange={onChange} />\n            ))}\n            <br />\n        </Card>\n    )\n}\n\nexport default OperationEdit\n","import { useReducer } from 'react'\nimport OperationEdit from '../components/OperationEdit.component.jsx'\nimport { useAppContext } from '../states/AppContext/appContext.hooks.jsx'\n\n// import createLoggers from '../utils/logger.utils.jsx'\n// const { log, error } = createLoggers('withOperations.hoc.jsx')\n\nconst _operationsReducer = {\n    reducer: (state, action) => {\n        return {\n            ...state,\n            [action.id]: {\n                ...state[action.id],\n                data: action.data,\n            },\n        }\n    },\n    init: (operations) => {\n        return operations\n    },\n}\n\nconst withOperations = (BaseComponent, initOperations, requiredContext = []) => {\n    const WithSDKOperations = (props) => {\n        const appContext = useAppContext()\n        const [operations, dispatchOperations] = useReducer(\n            _operationsReducer.reducer,\n            initOperations,\n            _operationsReducer.init,\n        )\n\n        const updateOperation = (id, data) => {\n            console.log(id, data)\n            dispatchOperations({\n                id: id,\n                data: data,\n            })\n        }\n\n        const contextRender = () => {\n            if (requiredContext.length < 1) return null\n            return (\n                <div className=\"col-12 px-2 py-4\">\n                    {requiredContext.map((label, key) => {\n                        const color = appContext[label] ? 'bg-success text-bg-success' : 'bg-warning text-bg-warning'\n                        const finalClass = 'm-1 px-3 py-2 rounded-3 app-text-regular ' + color\n                        return (\n                            <span key={label + key} className={finalClass}>\n                                {label}\n                            </span>\n                        )\n                    })}\n                </div>\n            )\n        }\n\n        return (\n            <div className=\"row\">\n                <br />\n                <br />\n                {contextRender()}\n                <div className=\"col-8\">\n                    {Object.keys(operations).map((operationId) => (\n                        <OperationEdit\n                            key={operationId}\n                            operationId={operationId}\n                            operation={operations[operationId]}\n                            onChange={updateOperation}\n                        />\n                    ))}\n                </div>\n                <div className=\"col-4\">\n                    <BaseComponent {...props} operations={operations} updateOperation={updateOperation} />\n                </div>\n            </div>\n        )\n    }\n    WithSDKOperations.displayName = 'WithSDKOperations'\n    return WithSDKOperations\n}\n\nexport default withOperations\n"],"names":["InputBody","props","onChange","event","style","useMemo","jsxs","jsx","classNames","PropTypes","Mount","Suspense","GenericPage","Routes","Route","route","CustomRouter","Router","DataEdit","value","OutputJson","rows","InputText","OperationEdit","dataId","Card","_operationsReducer","state","action","operations","withOperations","BaseComponent","initOperations","requiredContext","WithSDKOperations","appContext","useAppContext","dispatchOperations","useReducer","updateOperation","id","data","label","key","finalClass","operationId","withOperations$1"],"mappings":"6MAQA,MAAMA,EAAaC,GAAU,CACnB,MAAAC,EAAYC,GAAU,CACxBF,EAAM,SAAS,SAAW,EAAIA,EAAM,SAASA,EAAM,GAAIE,EAAM,OAAO,KAAK,EAAIF,EAAM,SAASE,EAAM,OAAO,KAAK,CAAA,EAG5GC,EAAQC,EAAAA,QAAQ,IACXJ,EAAM,KACP,CACI,OAAQ,EAAI,SAASA,EAAM,IAAI,EAAI,IAAM,KAAA,EAE7C,CACI,OAAQA,EAAM,MAAA,EAEzB,CAACA,EAAM,OAAQA,EAAM,IAAI,CAAC,EAGzB,OAAAK,EAAC,MAAI,CAAA,UAAU,qBACX,SAAA,CAAAC,EAAC,WAAA,CACG,GAAIN,EAAM,GACV,UAAW,gBAAkBO,EAAW,MACxC,MAAAJ,EACA,YAAY,mBACZ,MAAOH,EAAM,MACb,SAAAC,CAAA,CACJ,IACC,QAAM,CAAA,UAAWM,EAAW,MAAQ,WAAM,MAAM,CACrD,CAAA,CAAA,CAER,EAEAR,EAAU,UAAY,CAElB,GAAIS,EAAU,UAAU,CAACA,EAAU,OAAQA,EAAU,MAAM,CAAC,EAE5D,MAAOA,EAAU,OAAO,WAExB,MAAOA,EAAU,OAAO,WAExB,SAAUA,EAAU,KAAK,WAEzB,OAAQA,EAAU,OAElB,KAAMA,EAAU,UAAU,CAACA,EAAU,OAAQA,EAAU,MAAM,CAAC,CAClE,EAEAT,EAAU,aAAe,CACrB,GAAI,KACJ,OAAQ,QACR,KAAM,IACV,ECpDA,MAAMU,EAAST,GAEPM,EAACI,EAAAA,UAAS,SAAUJ,EAACK,GAAY,QAAQ,YAAa,CAAA,EAClD,SAACL,EAAAM,EAAA,CACG,WAACC,EAAM,CAAA,UAAUb,EAAM,OAAN,CAAa,OAAQA,EAAM,MAAQ,CAAA,EAC/C,SAAA,CAAMA,EAAA,OAAO,IAAKc,GACPR,EAAAO,EAAA,CAAuB,KAAMC,EAAM,KAAO,KAAM,QAASR,EAACQ,EAAM,QAAN,CAAA,CAAc,CAAA,EAA7DA,EAAM,IAA2D,CACvF,EACDR,EAACO,GAAM,KAAK,IAAI,QAAUP,EAAAN,EAAM,SAAN,CAAe,CAAA,EAAI,CAAA,EACjD,EACJ,CACJ,CAAA,EAIRS,EAAM,UAAY,CAEd,OAAQD,EAAU,YAElB,OAAQA,EAAU,MAElB,SAAUA,EAAU,WACxB,ECtBA,MAAMO,EAAgBf,GACXA,EAAM,OACTM,EAACU,EAAO,CAAA,SAAUhB,EAAM,SACpB,SAAAM,EAACG,EAAO,CAAA,GAAGT,CAAO,CAAA,EACtB,EAECM,EAAAG,EAAA,CAAO,GAAGT,CAAO,CAAA,EAI1Be,EAAa,UAAY,CAErB,SAAUP,EAAU,OAEpB,OAAQA,EAAU,KAElB,OAAQA,EAAU,QACdA,EAAU,MAAM,CACZ,KAAMA,EAAU,OAChB,UAAWA,EAAU,UAAU,CAACA,EAAU,KAAMA,EAAU,MAAM,CAAC,CAAA,CACpE,CACL,EAEA,OAAQA,EAAU,KAElB,SAAUA,EAAU,IACxB,EAEAO,EAAa,aAAe,CACxB,SAAU,IACV,OAAQ,GACR,OAAQ,CAAC,EACT,OAAQ,IAAMT,EAACK,GAAY,QAAQ,OAAO,QAAQ,0CAA0C,EAC5F,SAAU,IAAML,EAACK,GAAY,QAAQ,MAAM,QAAQ,YAAY,CACnE,ECrCA,MAAMM,EAAYjB,GAAU,CACxB,MAAMC,EAAYiB,GAAUlB,EAAM,SAASA,EAAM,OAAQkB,CAAK,EAE9D,OAAQ,GAAM,CACV,KAAK,OAAOlB,EAAM,MAAS,SAEnB,OAAAM,EAACa,EAAA,CACG,MAAM,cACN,KAAMnB,EAAM,OACZ,IAAKA,EAAM,KACX,WAAY,GACZ,SAAAC,CAAA,CAAA,EAKZ,KAAK,OAAOD,EAAM,MAAS,UAAYA,EAAM,KAAK,MAAM,YAAY,EAAE,OAAS,GAAG,CAC9E,MAAMoB,EAAOpB,EAAM,KAAK,MAAM,YAAY,EAAE,OACrC,OAAAM,EAACP,GAAU,MAAOC,EAAM,OAAQ,SAAAC,EAAoB,KAAAmB,EAAY,MAAOpB,EAAM,IAAM,CAAA,CAC9F,CAEA,KAAK,OAAOA,EAAM,MAAS,SAChB,OAAAM,EAACe,GAAU,MAAOrB,EAAM,OAAQ,SAAAC,EAAoB,MAAOD,EAAM,IAAM,CAAA,EAGlF,QACW,OAAA,IACf,CACJ,EC3BMsB,EAAiBtB,GAAU,CACvB,MAAAC,EAAW,CAACsB,EAAQL,IAAU,CAC1BlB,EAAA,SAASA,EAAM,YAAa,CAC9B,GAAGA,EAAM,UAAU,KACnB,CAACuB,CAAM,EAAGL,CAAA,CACb,CAAA,EAGL,SACKM,EACG,CAAA,SAAA,CAAClB,EAAA,MAAA,CAAI,UAAU,kCACV,SAAAN,EAAM,UAAU,KAAO,QAAUA,EAAM,UAAU,KACtD,CAAA,IACC,KAAG,EAAA,EACH,OAAO,KAAKA,EAAM,UAAU,IAAI,EAAE,IAAKuB,GACpCjB,EAACW,GAAsB,OAAAM,EAAgB,KAAMvB,EAAM,UAAU,KAAKuB,CAAM,EAAG,SAAAtB,GAA5DsB,CAAgF,CAClG,IACA,KAAG,EAAA,CACR,CAAA,CAAA,CAER,EChBME,EAAqB,CACvB,QAAS,CAACC,EAAOC,KACN,CACH,GAAGD,EACH,CAACC,EAAO,EAAE,EAAG,CACT,GAAGD,EAAMC,EAAO,EAAE,EAClB,KAAMA,EAAO,IACjB,CAAA,GAGR,KAAOC,GACIA,CAEf,EAEMC,EAAiB,CAACC,EAAeC,EAAgBC,EAAkB,CAAA,IAAO,CACtE,MAAAC,EAAqBjC,GAAU,CACjC,MAAMkC,EAAaC,IACb,CAACP,EAAYQ,CAAkB,EAAIC,EAAA,WACrCZ,EAAmB,QACnBM,EACAN,EAAmB,IAAA,EAGjBa,EAAkB,CAACC,EAAIC,IAAS,CAC1B,QAAA,IAAID,EAAIC,CAAI,EACDJ,EAAA,CACf,GAAAG,EACA,KAAAC,CAAA,CACH,CAAA,EAqBD,OAAAnC,EAAC,MAAI,CAAA,UAAU,MACX,SAAA,CAAAC,EAAC,KAAG,EAAA,IACH,KAAG,EAAA,GApBU,IACd0B,EAAgB,OAAS,EAAU,KAEnC1B,EAAC,OAAI,UAAU,mBACV,WAAgB,IAAI,CAACmC,EAAOC,IAAQ,CAEjC,MAAMC,EAAa,6CADLT,EAAWO,CAAK,EAAI,6BAA+B,8BAEjE,SACK,OAAuB,CAAA,UAAWE,EAC9B,SAAAF,CAAA,EADMA,EAAQC,CAEnB,CAEP,CAAA,CACL,CAAA,GAQe,EACfpC,EAAC,MAAI,CAAA,UAAU,QACV,SAAA,OAAO,KAAKsB,CAAU,EAAE,IAAKgB,GAC1BtC,EAACgB,EAAA,CAEG,YAAAsB,EACA,UAAWhB,EAAWgB,CAAW,EACjC,SAAUN,CAAA,EAHLM,CAKZ,CAAA,EACL,EACAtC,EAAC,MAAI,CAAA,UAAU,QACX,SAAAA,EAACwB,GAAe,GAAG9B,EAAO,WAAA4B,EAAwB,gBAAAU,CAAA,CAAkC,CACxF,CAAA,CACJ,CAAA,CAAA,CAAA,EAGR,OAAAL,EAAkB,YAAc,oBACzBA,CACX,EAEAY,EAAehB"}