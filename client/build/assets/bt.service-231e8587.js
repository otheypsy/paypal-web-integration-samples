import{n as W}from"./vendor-d2c1d7ba.js";import{c as oe}from"./logger.utils-ababba19.js";import{j as ae}from"./http.utils-2a9b74b8.js";function x(k){throw new Error('Could not dynamically require "'+k+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q={exports:{}},Ie=Q.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function a(d,f,e){function s(t,c){if(!f[t]){if(!d[t]){var o=typeof x=="function"&&x;if(!c&&o)return o(t,!0);if(i)return i(t,!0);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}var p=f[t]={exports:{}};d[t][0].call(p.exports,function(v){var I=d[t][1][v];return s(I||v)},p,p.exports,a,d,f,e)}return f[t].exports}for(var i=typeof x=="function"&&x,r=0;r<e.length;r++)s(e[r]);return s}return a}()({1:[function(a,d,f){"use strict";var e=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.PromiseGlobal=void 0;var s=e(a("promise-polyfill")),i=typeof Promise<"u"?Promise:s.default;f.PromiseGlobal=i},{"promise-polyfill":9}],2:[function(a,d,f){"use strict";var e=a("./lib/promise"),s={};function i(r){var t,c=JSON.stringify(r);if(!r.forceScriptReload&&(t=s[c],t))return t;var o=document.createElement("script"),l=r.dataAttributes||{},p=r.container||document.head;return o.src=r.src,o.id=r.id||"",o.async=!0,r.crossorigin&&o.setAttribute("crossorigin",""+r.crossorigin),Object.keys(l).forEach(function(v){o.setAttribute("data-"+v,""+l[v])}),t=new e.PromiseGlobal(function(v,I){o.addEventListener("load",function(){v(o)}),o.addEventListener("error",function(){I(new Error(r.src+" failed to load."))}),o.addEventListener("abort",function(){I(new Error(r.src+" has aborted."))}),p.appendChild(o)}),s[c]=t,t}i.clearCache=function(){s={}},d.exports=i},{"./lib/promise":1}],3:[function(a,d,f){d.exports=a("./dist/load-script")},{"./dist/load-script":2}],4:[function(a,d,f){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var i=Math.random()*16|0,r=s==="x"?i:i&3|8;return r.toString(16)})}d.exports=e},{}],5:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];setTimeout(function(){try{s.apply(void 0,i)}catch(t){console.log("Error in callback function"),console.log(t)}},1)}}f.deferred=e},{}],6:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){var i=!1;return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];i||(i=!0,s.apply(void 0,r))}}f.once=e},{}],7:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s,i){if(!i)return s;s.then(function(r){return i(null,r)}).catch(function(r){return i(r)})}f.promiseOrCallback=e},{}],8:[function(a,d,f){"use strict";var e=a("./lib/deferred"),s=a("./lib/once"),i=a("./lib/promise-or-callback");function r(t){return function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];var l,p=c[c.length-1];return typeof p=="function"&&(l=c.pop(),l=s.once(e.deferred(l))),i.promiseOrCallback(t.apply(this,c),l)}}r.wrapPrototype=function(t,c){c===void 0&&(c={});var o=c.ignoreMethods||[],l=c.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(t.prototype).filter(function(v){var I,R=v!=="constructor"&&typeof t.prototype[v]=="function",N=o.indexOf(v)===-1;return l?I=!0:I=v.charAt(0)!=="_",R&&I&&N});return p.forEach(function(v){var I=t.prototype[v];t.prototype[v]=r(I)}),t},d.exports=r},{"./lib/deferred":5,"./lib/once":6,"./lib/promise-or-callback":7}],9:[function(a,d,f){"use strict";function e(n){var u=this.constructor;return this.then(function(h){return u.resolve(n()).then(function(){return h})},function(h){return u.resolve(n()).then(function(){return u.reject(h)})})}function s(n){var u=this;return new u(function(h,y){if(!(n&&typeof n.length<"u"))return y(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(n);if(E.length===0)return h([]);var A=E.length;function _(m,T){if(T&&(typeof T=="object"||typeof T=="function")){var b=T.then;if(typeof b=="function"){b.call(T,function(O){_(m,O)},function(O){E[m]={status:"rejected",reason:O},--A===0&&h(E)});return}}E[m]={status:"fulfilled",value:T},--A===0&&h(E)}for(var g=0;g<E.length;g++)_(g,E[g])})}var i=setTimeout;function r(n){return!!(n&&typeof n.length<"u")}function t(){}function c(n,u){return function(){n.apply(u,arguments)}}function o(n){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],N(n,this)}function l(n,u){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(u);return}n._handled=!0,o._immediateFn(function(){var h=n._state===1?u.onFulfilled:u.onRejected;if(h===null){(n._state===1?p:v)(u.promise,n._value);return}var y;try{y=h(n._value)}catch(E){v(u.promise,E);return}p(u.promise,y)})}function p(n,u){try{if(u===n)throw new TypeError("A promise cannot be resolved with itself.");if(u&&(typeof u=="object"||typeof u=="function")){var h=u.then;if(u instanceof o){n._state=3,n._value=u,I(n);return}else if(typeof h=="function"){N(c(h,u),n);return}}n._state=1,n._value=u,I(n)}catch(y){v(n,y)}}function v(n,u){n._state=2,n._value=u,I(n)}function I(n){n._state===2&&n._deferreds.length===0&&o._immediateFn(function(){n._handled||o._unhandledRejectionFn(n._value)});for(var u=0,h=n._deferreds.length;u<h;u++)l(n,n._deferreds[u]);n._deferreds=null}function R(n,u,h){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof u=="function"?u:null,this.promise=h}function N(n,u){var h=!1;try{n(function(y){h||(h=!0,p(u,y))},function(y){h||(h=!0,v(u,y))})}catch(y){if(h)return;h=!0,v(u,y)}}o.prototype.catch=function(n){return this.then(null,n)},o.prototype.then=function(n,u){var h=new this.constructor(t);return l(this,new R(n,u,h)),h},o.prototype.finally=e,o.all=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(n);if(y.length===0)return u([]);var E=y.length;function A(g,m){try{if(m&&(typeof m=="object"||typeof m=="function")){var T=m.then;if(typeof T=="function"){T.call(m,function(b){A(g,b)},h);return}}y[g]=m,--E===0&&u(y)}catch(b){h(b)}}for(var _=0;_<y.length;_++)A(_,y[_])})},o.allSettled=s,o.resolve=function(n){return n&&typeof n=="object"&&n.constructor===o?n:new o(function(u){u(n)})},o.reject=function(n){return new o(function(u,h){h(n)})},o.race=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.race accepts an array"));for(var y=0,E=n.length;y<E;y++)o.resolve(n[y]).then(u,h)})},o._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){i(n,0)},o._unhandledRejectionFn=function(u){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",u)},d.exports=o},{}],10:[function(a,d,f){"use strict";var e=a("./constants").BRAINTREE_VERSION,s=a("./request/graphql"),i=a("./request"),r=a("../lib/is-verified-domain"),t=a("../lib/braintree-error"),c=a("../lib/convert-to-braintree-error"),o=a("./get-configuration").getConfiguration,l=a("../lib/create-authorization-data"),p=a("../lib/add-metadata"),v=a("@braintree/wrap-promise"),I=a("../lib/once"),R=a("../lib/deferred"),N=a("../lib/assign").assign,n=a("../lib/analytics"),u=a("./errors"),h=a("../lib/constants").VERSION,y=a("../lib/constants").GRAPHQL_URLS,E=a("../lib/methods"),A=a("../lib/convert-methods-to-error"),_=a("../lib/assets"),g=a("../lib/constants").FRAUDNET_FNCLS,m=a("../lib/constants").FRAUDNET_SOURCE,T=a("../lib/constants").FRAUDNET_URL,b={};function O(C){var L,w;if(C=C||{},L=JSON.stringify(C),w=C.gatewayConfiguration,!w)throw new t(u.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(D){if(D in w&&!r(w[D]))throw new t({type:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:D+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(L)},this._request=i,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=w.clientApiUrl+"/v1/",w.graphQL){if(!r(w.graphQL.url))throw new t({type:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"graphQL.url property is on an invalid domain."});this._graphQL=new s({graphQL:w.graphQL})}}O.initialize=function(C){var L,w,D=b[C.authorization];if(D)return n.sendEvent(D,"custom.client.load.cached"),D;try{w=l(C.authorization)}catch{return Promise.reject(new t(u.CLIENT_INVALID_AUTHORIZATION))}return D=o(w).then(function(U){return C.debug&&(U.isDebug=!0),U.authorization=C.authorization,L=new O(U),L}),b[C.authorization]=D,n.sendEvent(D,"custom.client.load.initialized"),D.then(function(U){return n.sendEvent(L,"custom.client.load.succeeded"),U}).catch(function(U){return delete b[C.authorization],Promise.reject(U)})},O.clearCache=function(){b={}},O.prototype._findOrCreateFraudnetJSON=function(C){var L=document.querySelector('script[fncls="'+g+'"]'),w,D,U,B;L||(L=document.body.appendChild(document.createElement("script")),L.type="application/json",L.setAttribute("fncls",g)),w=this.getConfiguration(),D={rda_tenant:"bt_card",mid:w.gatewayConfiguration.merchantId},U=w.authorizationFingerprint,U&&U.split("&").forEach(function(V){var H=V.split("=");H[0]==="customer_id"&&H.length>1&&(D.cid=H[1])}),B={f:C.substr(0,32),fp:D,bu:!1,s:m},L.text=JSON.stringify(B)},O.prototype.request=function(C,L){var w=this,D=new Promise(function(U,B){var V,H,X,z,ie=!!(C.endpoint==="payment_methods/credit_cards"&&w.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if(C.api!=="graphQLApi"&&(C.method?C.endpoint||(V="options.endpoint"):V="options.method"),V)throw new t({type:u.CLIENT_OPTION_REQUIRED.type,code:u.CLIENT_OPTION_REQUIRED.code,message:V+" is required when making a request."});if("api"in C?H=C.api:H="clientApi",z={method:C.method,graphQL:w._graphQL,timeout:C.timeout,metadata:w._configuration.analyticsMetadata},H==="clientApi")X=w._clientApiBaseUrl,z.data=p(w._configuration,C.data);else if(H==="graphQLApi")X=y[w._configuration.gatewayConfiguration.environment],C.endpoint="",z.method="post",z.data=N({clientSdkMetadata:{platform:w._configuration.analyticsMetadata.platform,source:w._configuration.analyticsMetadata.source,integration:w._configuration.analyticsMetadata.integration,sessionId:w._configuration.analyticsMetadata.sessionId,version:h}},C.data),z.headers=P(w._configuration);else throw new t({type:u.CLIENT_OPTION_INVALID.type,code:u.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});z.url=X+C.endpoint,z.sendAnalyticsEvent=function($){n.sendEvent(w,$)},w._request(z,function($,ee,re){var G,te;if(te=S(re,$),te){B(te);return}if(H==="graphQLApi"&&ee.errors){B(c(ee.errors,{type:u.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:u.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:u.CLIENT_GRAPHQL_REQUEST_ERROR.message}));return}G=N({_httpStatus:re},ee),ie&&G.creditCards&&G.creditCards.length>0&&(w._findOrCreateFraudnetJSON(G.creditCards[0].nonce),_.loadScript({src:T,forceScriptReload:!0})),U(G)})});if(typeof L=="function"){L=I(R(L)),D.then(function(U){L(null,U,U._httpStatus)}).catch(function(U){var B=U&&U.details&&U.details.httpStatus;L(U,null,B)});return}return D};function S(C,L){var w;if(C===-1?w=new t(u.CLIENT_REQUEST_TIMEOUT):C===401?w=new t(u.CLIENT_AUTHORIZATION_INVALID):C===403?w=new t(u.CLIENT_AUTHORIZATION_INSUFFICIENT):C===429?w=new t(u.CLIENT_RATE_LIMITED):C>=500?w=new t(u.CLIENT_GATEWAY_NETWORK):(C<200||C>=400)&&(w=c(L,{type:u.CLIENT_REQUEST_ERROR.type,code:u.CLIENT_REQUEST_ERROR.code,message:u.CLIENT_REQUEST_ERROR.message})),w)return w.details=w.details||{},w.details.httpStatus=C,w}O.prototype.toJSON=function(){return this.getConfiguration()},O.prototype.getVersion=function(){return h},O.prototype.teardown=v(function(){var C=this;return delete b[C.getConfiguration().authorization],A(C,E(O.prototype)),Promise.resolve()});function P(C){var L=C.authorizationFingerprint||C.authorization;return{Authorization:"Bearer "+L,"Braintree-Version":e}}d.exports=O},{"../lib/add-metadata":28,"../lib/analytics":29,"../lib/assets":30,"../lib/assign":31,"../lib/braintree-error":32,"../lib/constants":33,"../lib/convert-methods-to-error":34,"../lib/convert-to-braintree-error":35,"../lib/create-authorization-data":36,"../lib/deferred":37,"../lib/is-verified-domain":41,"../lib/methods":43,"../lib/once":44,"./constants":11,"./errors":12,"./get-configuration":13,"./request":24,"./request/graphql":22,"@braintree/wrap-promise":8}],11:[function(a,d,f){"use strict";d.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],12:[function(a,d,f){"use strict";var e=a("../lib/braintree-error");d.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:e.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:e.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:e.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:e.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:e.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:e.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:e.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:e.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:e.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:e.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:e.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:e.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":32}],13:[function(a,d,f){"use strict";var e=a("../lib/braintree-error"),s=a("@braintree/wrap-promise"),i=a("./request"),r=a("@braintree/uuid"),t=a("../lib/constants"),c=a("./errors"),o=a("./request/graphql"),l=a("../lib/constants").GRAPHQL_URLS,p=a("../lib/is-date-string-before-or-on"),v=a("./constants").BRAINTREE_VERSION;function I(R){return new Promise(function(N,n){var u,h,y,E,A=r(),_={merchantAppId:window.location.host,platform:t.PLATFORM,sdkVersion:t.VERSION,source:t.SOURCE,integration:t.INTEGRATION,integrationType:t.INTEGRATION,sessionId:A};h=R.attrs,y=R.configUrl,h._meta=_,h.braintreeLibraryVersion=t.BRAINTREE_LIBRARY_VERSION,h.configVersion="3",E={url:y,method:"GET",data:h},h.authorizationFingerprint&&R.graphQL?(p(R.graphQL.date,v)&&(E.graphQL=new o({graphQL:{url:R.graphQL.url,features:["configuration"]}})),E.metadata=_):h.tokenizationKey&&(E.graphQL=new o({graphQL:{url:l[R.environment],features:["configuration"]}}),E.metadata=_),i(E,function(g,m,T){var b;if(g){T===403?b=c.CLIENT_AUTHORIZATION_INSUFFICIENT:T===401?b=c.CLIENT_AUTHORIZATION_INVALID:b=c.CLIENT_GATEWAY_NETWORK,n(new e({type:b.type,code:b.code,message:b.message,details:{originalError:g}}));return}u={authorizationType:h.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:h.authorizationFingerprint,analyticsMetadata:_,gatewayConfiguration:m},N(u)})})}d.exports={getConfiguration:s(I)}},{"../lib/braintree-error":32,"../lib/constants":33,"../lib/is-date-string-before-or-on":40,"./constants":11,"./errors":12,"./request":24,"./request/graphql":22,"@braintree/uuid":4,"@braintree/wrap-promise":8}],14:[function(a,d,f){"use strict";var e=a("../lib/braintree-error"),s=a("./client"),i="3.96.1",r=a("@braintree/wrap-promise"),t=a("../lib/errors");function c(o){return o.authorization?s.initialize(o):Promise.reject(new e({type:t.INSTANTIATION_OPTION_REQUIRED.type,code:t.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}d.exports={create:r(c),VERSION:i}},{"../lib/braintree-error":32,"../lib/errors":39,"./client":10,"@braintree/wrap-promise":8}],15:[function(a,d,f){"use strict";var e=a("../../lib/querystring"),s=a("../../lib/assign").assign,i=a("./prep-body"),r=a("./parse-body"),t=a("./xhr"),c=t.isAvailable,o=a("./graphql/request"),l=a("./default-request"),p=1,v=408;function I(u){return!u||u===v}function R(u){var h=!u.data&&u.errors&&u.errors[0]&&u.errors[0].extensions&&u.errors[0].extensions.errorClass;return h==="UNKNOWN"||h==="INTERNAL"}function N(u,h,y){var E,A,_,g,m,T,b,O=u.url,S=u.graphQL,P=u.timeout,C=t.getRequestObject(),L=y,w=!!(S&&S.isGraphQLRequest(O,u.data));u.headers=s({"Content-Type":"application/json"},u.headers),w?_=new o(u):_=new l(u),O=_.getUrl(),g=_.getBody(),m=_.getMethod(),T=_.getHeaders(),m==="GET"&&(O=e.queryify(O,g),g=null),c?C.onreadystatechange=function(){if(C.readyState===4){if(C.status===0&&w){delete u.graphQL,N(u,h,y);return}if(b=r(C.responseText),A=_.adaptResponseBody(b),E=_.determineStatus(C.status,b),E>=400||E<200){if(w&&R(b)){delete u.graphQL,N(u,h,y);return}if(h<p&&I(E)){h++,N(u,h,y);return}L(A||"error",null,E||500)}else L(null,A,E)}}:(u.headers&&(O=e.queryify(O,T)),C.onload=function(){L(null,r(C.responseText),C.status)},C.onerror=function(){L("error",null,500)},C.onprogress=function(){},C.ontimeout=function(){L("timeout",null,-1)});try{C.open(m,O,!0)}catch(D){if(!w)throw D;delete u.graphQL,N(u,h,y);return}C.timeout=P,c&&Object.keys(T).forEach(function(D){C.setRequestHeader(D,T[D])});try{C.send(i(m,g))}catch{}}function n(u,h){N(u,0,h)}d.exports={request:n}},{"../../lib/assign":31,"../../lib/querystring":45,"./default-request":16,"./graphql/request":23,"./parse-body":25,"./prep-body":26,"./xhr":27}],16:[function(a,d,f){"use strict";function e(s){this._url=s.url,this._data=s.data,this._method=s.method,this._headers=s.headers}e.prototype.getUrl=function(){return this._url},e.prototype.getBody=function(){return this._data},e.prototype.getMethod=function(){return this._method},e.prototype.getHeaders=function(){return this._headers},e.prototype.adaptResponseBody=function(s){return s},e.prototype.determineStatus=function(s){return s},d.exports=e},{}],17:[function(a,d,f){"use strict";var e=a("./error"),s=a("../../../../lib/assign").assign,i={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};function r(o,l){var p;return o.data&&!o.errors?p=t(o,l):p=e(o),p}function t(o,l){var p=o.data.clientConfiguration,v;return v={environment:p.environment.toLowerCase(),clientApiUrl:p.clientApiUrl,assetsUrl:p.assetsUrl,analytics:{url:p.analyticsUrl},merchantId:p.merchantId,venmo:"off"},p.supportedFeatures&&(v.graphQL={url:l._graphQL._config.url,features:p.supportedFeatures.map(function(I){return I.toLowerCase()})}),p.braintreeApi&&(v.braintreeApi=p.braintreeApi),p.applePayWeb&&(v.applePayWeb=p.applePayWeb,v.applePayWeb.supportedNetworks=c(p.applePayWeb.supportedCardBrands,i.applePayWeb),delete v.applePayWeb.supportedCardBrands),p.ideal&&(v.ideal=p.ideal),p.kount&&(v.kount={kountMerchantId:p.kount.merchantId}),p.creditCard?(v.challenges=p.creditCard.challenges.map(function(I){return I.toLowerCase()}),v.creditCards={supportedCardTypes:c(p.creditCard.supportedCardBrands,i.creditCard)},v.threeDSecureEnabled=p.creditCard.threeDSecureEnabled,v.threeDSecure=p.creditCard.threeDSecure):(v.challenges=[],v.creditCards={supportedCardTypes:[]},v.threeDSecureEnabled=!1),p.googlePay&&(v.androidPay={displayName:p.googlePay.displayName,enabled:!0,environment:p.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:p.googlePay.googleAuthorization,paypalClientId:p.googlePay.paypalClientId,supportedNetworks:c(p.googlePay.supportedCardBrands,i.googlePay)}),p.venmo&&(v.payWithVenmo={merchantId:p.venmo.merchantId,accessToken:p.venmo.accessToken,environment:p.venmo.environment.toLowerCase(),enrichedCustomerDataEnabled:p.venmo.enrichedCustomerDataEnabled}),p.paypal?(v.paypalEnabled=!0,v.paypal=s({},p.paypal),v.paypal.currencyIsoCode=v.paypal.currencyCode,v.paypal.environment=v.paypal.environment.toLowerCase(),delete v.paypal.currencyCode):v.paypalEnabled=!1,p.unionPay&&(v.unionPay={enabled:!0,merchantAccountId:p.unionPay.merchantAccountId}),p.visaCheckout&&(v.visaCheckout={apikey:p.visaCheckout.apiKey,encryptionKey:p.visaCheckout.encryptionKey,externalClientId:p.visaCheckout.externalClientId,supportedCardTypes:c(p.visaCheckout.supportedCardBrands,i.visaCheckout)}),p.masterpass&&(v.masterpass={merchantCheckoutId:p.masterpass.merchantCheckoutId,supportedNetworks:c(p.masterpass.supportedCardBrands,i.masterpass)}),p.usBankAccount&&(v.usBankAccount={routeId:p.usBankAccount.routeId,plaid:{publicKey:p.usBankAccount.plaidPublicKey}}),v}function c(o,l){return o.reduce(function(p,v){return l.hasOwnProperty(v)?p.concat(l[v]):p},[])}d.exports=r},{"../../../../lib/assign":31,"./error":19}],18:[function(a,d,f){"use strict";var e=a("./error"),s={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},i={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},r={PSDTWO:"psd2"};function t(o){var l;return o.data&&!o.errors?l=c(o):l=e(o),l}function c(o){var l=o.data.tokenizeCreditCard,p=l.creditCard,v=p.last4?p.last4.substr(2,4):"",I=p.binData,R,N;return I&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(n){I[n]?I[n]=i[I[n]]:I[n]="Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(n){I[n]||(I[n]="Unknown")})),R={creditCards:[{binData:I,consumed:!1,description:v?"ending in "+v:"",nonce:l.token,details:{cardholderName:p.cardholderName,expirationMonth:p.expirationMonth,expirationYear:p.expirationYear,bin:p.bin||"",cardType:s[p.brandCode]||"Unknown",lastFour:p.last4||"",lastTwo:v},type:"CreditCard",threeDSecureInfo:null}]},l.authenticationInsight&&(N=l.authenticationInsight.customerAuthenticationRegulationEnvironment,R.creditCards[0].authenticationInsight={regulationEnvironment:r[N]||N.toLowerCase()}),R}d.exports=t},{"./error":19}],19:[function(a,d,f){"use strict";function e(o){var l,p=o.errors&&o.errors[0]&&o.errors[0].extensions&&o.errors[0].extensions.errorClass;return p==="VALIDATION"?l=i(o):p?l=s(o):l={error:{message:"There was a problem serving your request"},fieldErrors:[]},l}function s(o){return{error:{message:o.errors[0].message},fieldErrors:[]}}function i(o){var l=r(o.errors);return l.length===0?{error:{message:o.errors[0].message}}:{error:{message:c(l)},fieldErrors:l}}function r(o){var l=[];return o.forEach(function(p){p.extensions&&p.extensions.inputPath&&t(p.extensions.inputPath.slice(1),p,l)}),l}function t(o,l,p){var v,I=l.extensions.legacyCode,R=o[0];if(o.length===1){p.push({code:I,field:R,message:l.message});return}p.forEach(function(N){N.field===R&&(v=N)}),v||(v={field:R,fieldErrors:[]},p.push(v)),t(o.slice(1),l,v.fieldErrors)}function c(o){var l={creditCard:"Credit card is invalid"},p=o[0].field;return l[p]}d.exports=e},{}],20:[function(a,d,f){"use strict";var e="query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment       enrichedCustomerDataEnabled    }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }";function s(){return{query:e,operationName:"ClientConfiguration"}}d.exports=s},{}],21:[function(a,d,f){"use strict";var e=a("../../../../lib/assign").assign;function s(c){var o=c.hasAuthenticationInsight,l="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!";return o&&(l+=", $authenticationInsightInput: AuthenticationInsightInput!"),l+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",o&&(l+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),l+="  } }",l}function i(c,o){var l=c.creditCard,p=l&&l.billingAddress,v=l&&l.expirationDate,I=l&&(l.expirationMonth||v&&v.split("/")[0].trim()),R=l&&(l.expirationYear||v&&v.split("/")[1].trim()),N={input:{creditCard:{number:l&&l.number,expirationMonth:I,expirationYear:R,cvv:l&&l.cvv,cardholderName:l&&l.cardholderName},options:{}}};return o.hasAuthenticationInsight&&(N.authenticationInsightInput={merchantAccountId:c.merchantAccountId}),p&&(N.input.creditCard.billingAddress=p),N.input=r(c,N.input),N}function r(c,o){var l;return c.creditCard&&c.creditCard.options&&typeof c.creditCard.options.validate=="boolean"?l=c.creditCard.options.validate:c.authorizationFingerprint&&c.tokenizationKey||c.authorizationFingerprint?l=!0:c.tokenizationKey&&(l=!1),typeof l=="boolean"&&(o.options=e({validate:l},o.options)),o}function t(c){var o={hasAuthenticationInsight:!!(c.authenticationInsight&&c.merchantAccountId)};return{query:s(o),variables:i(c,o),operationName:"TokenizeCreditCard"}}d.exports=t},{"../../../../lib/assign":31}],22:[function(a,d,f){"use strict";var e={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},s=["creditCard.options.unionPayEnrollment"];function i(t){this._config=t.graphQL}i.prototype.getGraphQLEndpoint=function(){return this._config.url},i.prototype.isGraphQLRequest=function(t,c){var o,l=this.getClientApiPath(t);return!this._isGraphQLEnabled()||!l||(o=this._config.features.some(function(p){return e[p]===l}),r(c))?!1:o},i.prototype.getClientApiPath=function(t){var c,o="/client_api/v1/",l=t.split(o);return l.length>1&&(c=l[1].split("?")[0]),c},i.prototype._isGraphQLEnabled=function(){return!!this._config};function r(t){return s.some(function(c){var o=c.split(".").reduce(function(l,p){return l&&l[p]},t);return o!==void 0})}d.exports=i},{}],23:[function(a,d,f){"use strict";var e=a("../../constants").BRAINTREE_VERSION,s=a("../../../lib/assign").assign,i=a("../../../lib/snake-case-to-camel-case"),r=a("./generators/credit-card-tokenization"),t=a("./adapters/credit-card-tokenization"),c=a("./generators/configuration"),o=a("./adapters/configuration"),l={"payment_methods/credit_cards":r,configuration:c},p={"payment_methods/credit_cards":t,configuration:o};function v(N){var n=N.graphQL.getClientApiPath(N.url);this._graphQL=N.graphQL,this._data=N.data,this._method=N.method,this._headers=N.headers,this._clientSdkMetadata={source:N.metadata.source,integration:N.metadata.integration,sessionId:N.metadata.sessionId},this._sendAnalyticsEvent=N.sendAnalyticsEvent||Function.prototype,this._generator=l[n],this._adapter=p[n],this._sendAnalyticsEvent("graphql.init")}v.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},v.prototype.getBody=function(){var N=R(this._data),n=this._generator(N),u=s({clientSdkMetadata:this._clientSdkMetadata},n);return JSON.stringify(u)},v.prototype.getMethod=function(){return"POST"},v.prototype.getHeaders=function(){var N,n;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),N=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),N=this._data.tokenizationKey),n={Authorization:"Bearer "+N,"Braintree-Version":e},s({},this._headers,n)},v.prototype.adaptResponseBody=function(N){return this._adapter(N,this)},v.prototype.determineStatus=function(N,n){var u,h;return N===200?(h=n.errors&&n.errors[0]&&n.errors[0].extensions&&n.errors[0].extensions.errorClass,n.data&&!n.errors?u=200:h==="VALIDATION"?u=422:h==="AUTHORIZATION"?u=403:h==="AUTHENTICATION"?u=401:I(h,n)?u=403:u=500):N?u=N:u=500,this._sendAnalyticsEvent("graphql.status."+N),this._sendAnalyticsEvent("graphql.determinedStatus."+u),u};function I(N,n){return!N&&n.errors[0].message}function R(N){var n={};return Object.keys(N).forEach(function(u){var h=i(u);typeof N[u]=="object"?n[h]=R(N[u]):typeof N[u]=="number"?n[h]=String(N[u]):n[h]=N[u]}),n}d.exports=v},{"../../../lib/assign":31,"../../../lib/snake-case-to-camel-case":46,"../../constants":11,"./adapters/configuration":17,"./adapters/credit-card-tokenization":18,"./generators/configuration":20,"./generators/credit-card-tokenization":21}],24:[function(a,d,f){"use strict";var e=a("../../lib/once"),s=a("./ajax-driver");d.exports=function(i,r){r=e(r||Function.prototype),i.method=(i.method||"GET").toUpperCase(),i.timeout=i.timeout==null?6e4:i.timeout,i.data=i.data||{},s.request(i,r)}},{"../../lib/once":44,"./ajax-driver":15}],25:[function(a,d,f){"use strict";d.exports=function(e){try{e=JSON.parse(e)}catch{}return e}},{}],26:[function(a,d,f){"use strict";d.exports=function(e,s){if(typeof e!="string")throw new Error("Method must be a string");return e.toLowerCase()!=="get"&&s!=null&&(s=typeof s=="string"?s:JSON.stringify(s)),s}},{}],27:[function(a,d,f){"use strict";var e=typeof window<"u"&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;function s(){return e?new window.XMLHttpRequest:new window.XDomainRequest}d.exports={isAvailable:e,getRequestObject:s}},{}],28:[function(a,d,f){"use strict";var e=a("./create-authorization-data"),s=a("./json-clone"),i=a("./constants");function r(t,c){var o,l=c?s(c):{},p=e(t.authorization).attrs,v=s(t.analyticsMetadata);l.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION;for(o in l._meta)l._meta.hasOwnProperty(o)&&(v[o]=l._meta[o]);return l._meta=v,p.tokenizationKey?l.tokenizationKey=p.tokenizationKey:l.authorizationFingerprint=p.authorizationFingerprint,l}d.exports=r},{"./constants":33,"./create-authorization-data":36,"./json-clone":42}],29:[function(a,d,f){"use strict";var e=a("./constants"),s=a("./add-metadata");function i(r,t,c){var o=Date.now();return Promise.resolve(r).then(function(l){var p=Date.now(),v=l.getConfiguration(),I=l._request,R=v.gatewayConfiguration.analytics.url,N={analytics:[{kind:e.ANALYTICS_PREFIX+t,isAsync:Math.floor(p/1e3)!==Math.floor(o/1e3),timestamp:o}]};I({url:R,method:"post",data:s(v,N),timeout:e.ANALYTICS_REQUEST_TIMEOUT_MS},c)}).catch(function(l){c&&c(l)})}d.exports={sendEvent:i}},{"./add-metadata":28,"./constants":33}],30:[function(a,d,f){"use strict";var e=a("@braintree/asset-loader/load-script");d.exports={loadScript:e}},{"@braintree/asset-loader/load-script":3}],31:[function(a,d,f){"use strict";var e=typeof Object.assign=="function"?Object.assign:s;function s(i){var r,t,c;for(r=1;r<arguments.length;r++){t=arguments[r];for(c in t)t.hasOwnProperty(c)&&(i[c]=t[c])}return i}d.exports={assign:e,_assign:s}},{}],32:[function(a,d,f){"use strict";var e=a("./enumerate");function s(i){if(!s.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.types=e(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),s.findRootError=function(i){return i instanceof s&&i.details&&i.details.originalError?s.findRootError(i.details.originalError):i},d.exports=s},{"./enumerate":38}],33:[function(a,d,f){"use strict";var e="3.96.1",s="web",i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},r={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},t={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:s+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:r,CLIENT_API_URLS:i,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:t,INTEGRATION_TIMEOUT_MS:6e4,VERSION:e,INTEGRATION:"custom",SOURCE:"client",PLATFORM:s,BRAINTREE_LIBRARY_VERSION:"braintree/"+s+"/"+e}},{}],34:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./errors");d.exports=function(i,r){r.forEach(function(t){i[t]=function(){throw new e({type:s.METHOD_CALLED_AFTER_TEARDOWN.type,code:s.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"./braintree-error":32,"./errors":39}],35:[function(a,d,f){"use strict";var e=a("./braintree-error");function s(i,r){return i instanceof e?i:new e({type:r.type,code:r.code,message:r.message,details:{originalError:i}})}d.exports=s},{"./braintree-error":32}],36:[function(a,d,f){"use strict";var e=a("../lib/vendor/polyfill").atob,s=a("../lib/constants").CLIENT_API_URLS;function i(c){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(c)}function r(c){var o=c.split("_"),l=o[0],p=o.slice(2).join("_");return{merchantId:p,environment:l}}function t(c){var o,l,p={attrs:{},configUrl:""};return i(c)?(l=r(c),p.environment=l.environment,p.attrs.tokenizationKey=c,p.configUrl=s[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(o=JSON.parse(e(c)),p.environment=o.environment,p.attrs.authorizationFingerprint=o.authorizationFingerprint,p.configUrl=o.configUrl,p.graphQL=o.graphQL),p}d.exports=t},{"../lib/constants":33,"../lib/vendor/polyfill":47}],37:[function(a,d,f){"use strict";d.exports=function(e){return function(){var s=arguments;setTimeout(function(){e.apply(null,s)},1)}}},{}],38:[function(a,d,f){"use strict";function e(s,i){return i=i??"",s.reduce(function(r,t){return r[t]=i+t,r},{})}d.exports=e},{}],39:[function(a,d,f){"use strict";var e=a("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:e.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:e.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:e.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:e.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:e.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":32}],40:[function(a,d,f){"use strict";function e(i){var r=i.split("-");return new Date(r[0],r[1],r[2])}function s(i,r){return e(i)<=e(r)}d.exports=s},{}],41:[function(a,d,f){"use strict";var e,s={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};function i(t){return t.split(".").slice(-2).join(".")}function r(t){var c;return t=t.toLowerCase(),/^https:/.test(t)?(e=e||document.createElement("a"),e.href=t,c=i(e.hostname),s.hasOwnProperty(c)):!1}d.exports=r},{}],42:[function(a,d,f){"use strict";d.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],43:[function(a,d,f){"use strict";d.exports=function(e){return Object.keys(e).filter(function(s){return typeof e[s]=="function"})}},{}],44:[function(a,d,f){"use strict";function e(s){var i=!1;return function(){i||(i=!0,s.apply(null,arguments))}}d.exports=e},{}],45:[function(a,d,f){"use strict";function e(o){var l;for(l in o)if(o.hasOwnProperty(l))return!0;return!1}function s(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.toString.call(o)==="[object Array]"||!1}function i(o){return o=o||window.location.href,/\?/.test(o)}function r(o){var l,p;return o=o||window.location.href,i(o)?(l=o.split("?")[1]||"",l=l.replace(/#.*$/,"").split("&"),p=l.reduce(function(v,I){var R=I.split("="),N=decodeURIComponent(R[0]),n=decodeURIComponent(R[1]);return v[N]=n,v},{}),p):{}}function t(o,l){var p,v,I,R=[];for(I in o)o.hasOwnProperty(I)&&(v=o[I],l?s(o)?p=l+"[]":p=l+"["+I+"]":p=I,typeof v=="object"?R.push(t(v,p)):R.push(encodeURIComponent(p)+"="+encodeURIComponent(v)));return R.join("&")}function c(o,l){return o=o||"",l!=null&&typeof l=="object"&&e(l)&&(o+=o.indexOf("?")===-1?"?":"",o+=o.indexOf("=")!==-1?"&":"",o+=t(l)),o}d.exports={parse:r,stringify:t,queryify:c,hasQueryParams:i}},{}],46:[function(a,d,f){"use strict";d.exports=function(e){return e.indexOf("_")===-1?e:e.toLowerCase().replace(/(\_\w)/g,function(s){return s[1].toUpperCase()})}},{}],47:[function(a,d,f){"use strict";var e=typeof atob=="function"?atob:s;function s(i){var r,t,c,o,l,p,v,I,R=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="";if(!R.test(i))throw new Error("Non base64 encoded input passed to window.atob polyfill");I=0;do o=N.indexOf(i.charAt(I++)),l=N.indexOf(i.charAt(I++)),p=N.indexOf(i.charAt(I++)),v=N.indexOf(i.charAt(I++)),r=(o&63)<<2|l>>4&3,t=(l&15)<<4|p>>2&15,c=(p&3)<<6|v&63,n+=String.fromCharCode(r)+(t?String.fromCharCode(t):"")+(c?String.fromCharCode(c):"");while(I<i.length);return n}d.exports={atob:function(i){return e.call(window,i)},_atob:s}},{}]},{},[14])(14)})})(Q,Q.exports);var se=Q.exports;const ce=W(se);var Y={exports:{}},be=Y.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function a(d,f,e){function s(t,c){if(!f[t]){if(!d[t]){var o=typeof x=="function"&&x;if(!c&&o)return o(t,!0);if(i)return i(t,!0);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}var p=f[t]={exports:{}};d[t][0].call(p.exports,function(v){var I=d[t][1][v];return s(I||v)},p,p.exports,a,d,f,e)}return f[t].exports}for(var i=typeof x=="function"&&x,r=0;r<e.length;r++)s(e[r]);return s}return a}()({1:[function(a,d,f){"use strict";var e=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.PromiseGlobal=void 0;var s=e(a("promise-polyfill")),i=typeof Promise<"u"?Promise:s.default;f.PromiseGlobal=i},{"promise-polyfill":47}],2:[function(a,d,f){"use strict";var e=a("./lib/promise"),s={};function i(r){var t,c=JSON.stringify(r);if(!r.forceScriptReload&&(t=s[c],t))return t;var o=document.createElement("script"),l=r.dataAttributes||{},p=r.container||document.head;return o.src=r.src,o.id=r.id||"",o.async=!0,r.crossorigin&&o.setAttribute("crossorigin",""+r.crossorigin),Object.keys(l).forEach(function(v){o.setAttribute("data-"+v,""+l[v])}),t=new e.PromiseGlobal(function(v,I){o.addEventListener("load",function(){v(o)}),o.addEventListener("error",function(){I(new Error(r.src+" failed to load."))}),o.addEventListener("abort",function(){I(new Error(r.src+" has aborted."))}),p.appendChild(o)}),s[c]=t,t}i.clearCache=function(){s={}},d.exports=i},{"./lib/promise":1}],3:[function(a,d,f){d.exports=a("./dist/load-script")},{"./dist/load-script":2}],4:[function(a,d,f){"use strict";d.exports=function(s){return s=s||window.navigator.userAgent,/Android/i.test(s)}},{}],5:[function(a,d,f){"use strict";var e=a("./is-edge"),s=a("./is-samsung"),i=a("./is-duckduckgo"),r=a("./is-opera"),t=a("./is-silk");d.exports=function(o){return o=o||window.navigator.userAgent,(o.indexOf("Chrome")!==-1||o.indexOf("CriOS")!==-1)&&!e(o)&&!s(o)&&!i(o)&&!r(o)&&!t(o)}},{"./is-duckduckgo":6,"./is-edge":7,"./is-opera":13,"./is-samsung":14,"./is-silk":15}],6:[function(a,d,f){"use strict";d.exports=function(s){return s=s||window.navigator.userAgent,s.indexOf("DuckDuckGo/")!==-1}},{}],7:[function(a,d,f){"use strict";d.exports=function(s){return s=s||window.navigator.userAgent,s.indexOf("Edge/")!==-1}},{}],8:[function(a,d,f){"use strict";d.exports=function(s){return s=s||window.navigator.userAgent,/FxiOS/i.test(s)}},{}],9:[function(a,d,f){"use strict";var e=a("./is-ios");function s(i){return/\bGSA\b/.test(i)}d.exports=function(r){return r=r||window.navigator.userAgent,e(r)&&s(r)}},{"./is-ios":12}],10:[function(a,d,f){"use strict";var e=a("./is-ios"),s=a("./is-ios-google-search-app");d.exports=function(r){return r=r||window.navigator.userAgent,e(r)?s(r)?!0:/.+AppleWebKit(?!.*Safari)/i.test(r):!1}},{"./is-ios":12,"./is-ios-google-search-app":9}],11:[function(a,d,f){"use strict";var e=a("./is-ios-webview");d.exports=function(i,r){return r=typeof r<"u"?r:window.statusbar.visible,e(i)&&r}},{"./is-ios-webview":10}],12:[function(a,d,f){"use strict";d.exports=function(s){return s=s||window.navigator.userAgent,/iPhone|iPod|iPad/i.test(s)}},{}],13:[function(a,d,f){"use strict";d.exports=function(s){return s=s||window.navigator.userAgent,s.indexOf("OPR/")!==-1||s.indexOf("Opera/")!==-1||s.indexOf("OPT/")!==-1}},{}],14:[function(a,d,f){"use strict";d.exports=function(s){return s=s||window.navigator.userAgent,/SamsungBrowser/i.test(s)}},{}],15:[function(a,d,f){"use strict";d.exports=function(s){return s=s||window.navigator.userAgent,s.indexOf("Silk/")!==-1}},{}],16:[function(a,d,f){"use strict";var e=48,s=a("./is-android"),i=a("./is-ios-firefox"),r=a("./is-ios-webview"),t=a("./is-chrome"),c=a("./is-samsung"),o=a("./is-duckduckgo");function l(R){R=R||window.navigator.userAgent;var N=R.match(/CriOS\/(\d+)\./);if(!N)return!1;var n=parseInt(N[1],10);return n<e}function p(R){return R=R||window.navigator.userAgent,R.indexOf("Opera Mini")>-1}function v(R){var N=/Version\/[\d.]+/i;return R=R||window.navigator.userAgent,s(R)?N.test(R)&&!p(R)&&!o(R):!1}function I(R){return!t(R)&&!c(R)&&/samsung/i.test(R)}d.exports=function(N){return N=N||window.navigator.userAgent,!(r(N)||i(N)||v(N)||p(N)||l(N)||I(N))}},{"./is-android":4,"./is-chrome":5,"./is-duckduckgo":6,"./is-ios-firefox":8,"./is-ios-webview":10,"./is-samsung":14}],17:[function(a,d,f){d.exports=a("./dist/is-ios-wkwebview")},{"./dist/is-ios-wkwebview":11}],18:[function(a,d,f){d.exports=a("./dist/is-ios")},{"./dist/is-ios":12}],19:[function(a,d,f){d.exports=a("./dist/supports-popups")},{"./dist/supports-popups":16}],20:[function(a,d,f){"use strict";var e=typeof Promise<"u"?Promise:null,s=function(){function i(r){var t=this;if(typeof r=="function"){this._promise=new i.Promise(r);return}this._promise=new i.Promise(function(c,o){t._resolveFunction=c,t._rejectFunction=o}),r=r||{},this._onResolve=r.onResolve||i.defaultOnResolve,this._onReject=r.onReject||i.defaultOnReject,i.shouldCatchExceptions(r)&&this._promise.catch(function(){}),this._resetState()}return i.defaultOnResolve=function(r){return i.Promise.resolve(r)},i.defaultOnReject=function(r){return i.Promise.reject(r)},i.setPromise=function(r){i.Promise=r},i.shouldCatchExceptions=function(r){return r.hasOwnProperty("suppressUnhandledPromiseMessage")?!!r.suppressUnhandledPromiseMessage:!!i.suppressUnhandledPromiseMessage},i.all=function(r){return i.Promise.all(r)},i.allSettled=function(r){return i.Promise.allSettled(r)},i.race=function(r){return i.Promise.race(r)},i.reject=function(r){return i.Promise.reject(r)},i.resolve=function(r){return i.Promise.resolve(r)},i.prototype.then=function(){for(var r,t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];return(r=this._promise).then.apply(r,t)},i.prototype.catch=function(){for(var r,t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];return(r=this._promise).catch.apply(r,t)},i.prototype.resolve=function(r){var t=this;return this.isFulfilled?this:(this._setResolved(),i.Promise.resolve().then(function(){return t._onResolve(r)}).then(function(c){t._resolveFunction(c)}).catch(function(c){t._resetState(),t.reject(c)}),this)},i.prototype.reject=function(r){var t=this;return this.isFulfilled?this:(this._setRejected(),i.Promise.resolve().then(function(){return t._onReject(r)}).then(function(c){t._setResolved(),t._resolveFunction(c)}).catch(function(c){return t._rejectFunction(c)}),this)},i.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},i.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},i.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},i.Promise=e,i}();d.exports=s},{}],21:[function(a,d,f){"use strict";var e=a("./lib/set-attributes"),s=a("./lib/default-attributes"),i=a("./lib/assign");d.exports=function(t){t===void 0&&(t={});var c=document.createElement("iframe"),o=i.assign({},s.defaultAttributes,t);return o.style&&typeof o.style!="string"&&(i.assign(c.style,o.style),delete o.style),e.setAttributes(c,o),c.getAttribute("id")||(c.id=c.name),c}},{"./lib/assign":22,"./lib/default-attributes":23,"./lib/set-attributes":24}],22:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.assign=void 0;function e(s){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return i.forEach(function(t){typeof t=="object"&&Object.keys(t).forEach(function(c){s[c]=t[c]})}),s}f.assign=e},{}],23:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.defaultAttributes=void 0,f.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],24:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.setAttributes=void 0;function e(s,i){for(var r in i)if(i.hasOwnProperty(r)){var t=i[r];t==null?s.removeAttribute(r):s.setAttribute(r,t)}}f.setAttributes=e},{}],25:[function(a,d,f){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var i=Math.random()*16|0,r=s==="x"?i:i&3|8;return r.toString(16)})}d.exports=e},{}],26:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];setTimeout(function(){try{s.apply(void 0,i)}catch(t){console.log("Error in callback function"),console.log(t)}},1)}}f.deferred=e},{}],27:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){var i=!1;return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];i||(i=!0,s.apply(void 0,r))}}f.once=e},{}],28:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s,i){if(!i)return s;s.then(function(r){return i(null,r)}).catch(function(r){return i(r)})}f.promiseOrCallback=e},{}],29:[function(a,d,f){"use strict";var e=a("./lib/deferred"),s=a("./lib/once"),i=a("./lib/promise-or-callback");function r(t){return function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];var l,p=c[c.length-1];return typeof p=="function"&&(l=c.pop(),l=s.once(e.deferred(l))),i.promiseOrCallback(t.apply(this,c),l)}}r.wrapPrototype=function(t,c){c===void 0&&(c={});var o=c.ignoreMethods||[],l=c.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(t.prototype).filter(function(v){var I,R=v!=="constructor"&&typeof t.prototype[v]=="function",N=o.indexOf(v)===-1;return l?I=!0:I=v.charAt(0)!=="_",R&&I&&N});return p.forEach(function(v){var I=t.prototype[v];t.prototype[v]=r(I)}),t},d.exports=r},{"./lib/deferred":26,"./lib/once":27,"./lib/promise-or-callback":28}],30:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Framebus=void 0;var e=a("./lib"),s=typeof window<"u"&&window.Promise,i=function(){function r(t){t===void 0&&(t={}),this.origin=t.origin||"*",this.channel=t.channel||"",this.verifyDomain=t.verifyDomain,this.targetFrames=t.targetFrames||[],this.limitBroadcastToFramesArray=!!t.targetFrames,this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=!!(this.verifyDomain||this.limitBroadcastToFramesArray)}return r.setPromise=function(t){r.Promise=t},r.target=function(t){return new r(t)},r.prototype.addTargetFrame=function(t){this.limitBroadcastToFramesArray&&this.targetFrames.push(t)},r.prototype.include=function(t){return t==null||t.Window==null||t.constructor!==t.Window?!1:(e.childWindows.push(t),!0)},r.prototype.target=function(t){return r.target(t)},r.prototype.emit=function(t,c,o){if(this.isDestroyed)return!1;var l=this.origin;if(t=this.namespaceEvent(t),(0,e.isntString)(t)||(0,e.isntString)(l))return!1;typeof c=="function"&&(o=c,c=void 0);var p=(0,e.packagePayload)(t,l,c,o);return p?(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(v){(0,e.sendMessage)(v,p,l)}):(0,e.broadcast)(p,{origin:l,frame:window.top||window.self}),!0):!1},r.prototype.emitAsPromise=function(t,c){var o=this;return new r.Promise(function(l,p){var v=o.emit(t,c,function(I){l(I)});v||p(new Error('Listener not added for "'.concat(t,'"')))})},r.prototype.on=function(t,c){if(this.isDestroyed)return!1;var o=this,l=this.origin,p=c;return t=this.namespaceEvent(t),(0,e.subscriptionArgsInvalid)(t,p,l)?!1:(this.hasAdditionalChecksForOnListeners&&(p=function(){for(var v=[],I=0;I<arguments.length;I++)v[I]=arguments[I];o.passesVerifyDomainCheck(this&&this.origin)&&o.hasMatchingTargetFrame(this&&this.source)&&c.apply(void 0,v)}),this.listeners.push({eventName:t,handler:p,originalHandler:c}),e.subscribers[l]=e.subscribers[l]||{},e.subscribers[l][t]=e.subscribers[l][t]||[],e.subscribers[l][t].push(p),!0)},r.prototype.off=function(t,c){var o=c;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var l=0;l<this.listeners.length;l++){var p=this.listeners[l];p.originalHandler===c&&(o=p.handler)}t=this.namespaceEvent(t);var v=this.origin;if((0,e.subscriptionArgsInvalid)(t,o,v))return!1;var I=e.subscribers[v]&&e.subscribers[v][t];if(!I)return!1;for(var l=0;l<I.length;l++)if(I[l]===o)return I.splice(l,1),!0;return!1},r.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var t=0;t<this.listeners.length;t++){var c=this.listeners[t];this.off(c.eventName,c.handler)}this.listeners.length=0}},r.prototype.passesVerifyDomainCheck=function(t){return this.verifyDomain?this.checkOrigin(t):!0},r.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(t){return t instanceof HTMLIFrameElement?t.contentWindow:t}).filter(function(t){return t}):[]},r.prototype.hasMatchingTargetFrame=function(t){if(!this.limitBroadcastToFramesArray)return!0;var c=this.targetFramesAsWindows().find(function(o){return o===t});return!!c},r.prototype.checkOrigin=function(t){var c,o=document.createElement("a");o.href=location.href,o.protocol==="https:"?c=o.host.replace(/:443$/,""):o.protocol==="http:"?c=o.host.replace(/:80$/,""):c=o.host;var l=o.protocol+"//"+c;return l===t?!0:this.verifyDomain?this.verifyDomain(t):!0},r.prototype.namespaceEvent=function(t){return this.channel?"".concat(this.channel,":").concat(t):t},r.Promise=s,r}();f.Framebus=i},{"./lib":38}],31:[function(a,d,f){"use strict";var e=a("./lib"),s=a("./framebus");(0,e.attach)(),d.exports=s.Framebus},{"./framebus":30,"./lib":38}],32:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.detach=f.attach=void 0;var e=a("./"),s=!1;function i(){s||typeof window>"u"||(s=!0,window.addEventListener("message",e.onMessage,!1))}f.attach=i;function r(){s=!1,window.removeEventListener("message",e.onMessage,!1)}f.detach=r},{"./":38}],33:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.broadcastToChildWindows=void 0;var e=a("./");function s(i,r,t){for(var c=e.childWindows.length-1;c>=0;c--){var o=e.childWindows[c];o.closed?e.childWindows.splice(c,1):t!==o&&(0,e.broadcast)(i,{origin:r,frame:o.top})}}f.broadcastToChildWindows=s},{"./":38}],34:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.broadcast=void 0;var e=a("./");function s(i,r){var t=0,c,o=r.origin,l=r.frame;try{for(l.postMessage(i,o),(0,e.hasOpener)(l)&&l.opener.top!==window.top&&s(i,{origin:o,frame:l.opener.top});c=l.frames[t];)s(i,{origin:o,frame:c}),t++}catch{}}f.broadcast=s},{"./":38}],35:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.subscribers=f.childWindows=f.prefix=void 0,f.prefix="/*framebus*/",f.childWindows=[],f.subscribers={}},{}],36:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.dispatch=void 0;var e=a("./");function s(i,r,t,c,o){if(e.subscribers[i]&&e.subscribers[i][r]){var l=[];t&&l.push(t),c&&l.push(c);for(var p=0;p<e.subscribers[i][r].length;p++)e.subscribers[i][r][p].apply(o,l)}}f.dispatch=s},{"./":38}],37:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.hasOpener=void 0;function e(s){return!(s.top!==s||s.opener==null||s.opener===s||s.opener.closed===!0)}f.hasOpener=e},{}],38:[function(a,d,f){"use strict";var e=this&&this.__createBinding||(Object.create?function(i,r,t,c){c===void 0&&(c=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(i,c,o)}:function(i,r,t,c){c===void 0&&(c=t),i[c]=r[t]}),s=this&&this.__exportStar||function(i,r){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,i,t)};Object.defineProperty(f,"__esModule",{value:!0}),s(a("./attach"),f),s(a("./broadcast-to-child-windows"),f),s(a("./broadcast"),f),s(a("./constants"),f),s(a("./dispatch"),f),s(a("./has-opener"),f),s(a("./is-not-string"),f),s(a("./message"),f),s(a("./package-payload"),f),s(a("./send-message"),f),s(a("./subscribe-replier"),f),s(a("./subscription-args-invalid"),f),s(a("./types"),f),s(a("./unpack-payload"),f)},{"./attach":32,"./broadcast":34,"./broadcast-to-child-windows":33,"./constants":35,"./dispatch":36,"./has-opener":37,"./is-not-string":39,"./message":40,"./package-payload":41,"./send-message":42,"./subscribe-replier":43,"./subscription-args-invalid":44,"./types":45,"./unpack-payload":46}],39:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.isntString=void 0;function e(s){return typeof s!="string"}f.isntString=e},{}],40:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.onMessage=void 0;var e=a("./");function s(i){if(!(0,e.isntString)(i.data)){var r=(0,e.unpackPayload)(i);if(r){var t=r.eventData,c=r.reply;(0,e.dispatch)("*",r.event,t,c,i),(0,e.dispatch)(i.origin,r.event,t,c,i),(0,e.broadcastToChildWindows)(i.data,r.origin,i.source)}}}f.onMessage=s},{"./":38}],41:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.packagePayload=void 0;var e=a("./");function s(i,r,t,c){var o,l={event:i,origin:r};typeof c=="function"&&(l.reply=(0,e.subscribeReplier)(c,r)),l.eventData=t;try{o=e.prefix+JSON.stringify(l)}catch(p){throw new Error("Could not stringify event: ".concat(p.message))}return o}f.packagePayload=s},{"./":38}],42:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.sendMessage=void 0;function e(s,i,r){try{s.postMessage(i,r)}catch{}}f.sendMessage=e},{}],43:[function(a,d,f){"use strict";var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(f,"__esModule",{value:!0}),f.subscribeReplier=void 0;var s=a("../framebus"),i=e(a("@braintree/uuid"));function r(t,c){var o=(0,i.default)();function l(p,v){t(p,v),s.Framebus.target({origin:c}).off(o,l)}return s.Framebus.target({origin:c}).on(o,l),o}f.subscribeReplier=r},{"../framebus":30,"@braintree/uuid":25}],44:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.subscriptionArgsInvalid=void 0;var e=a("./");function s(i,r,t){return(0,e.isntString)(i)||typeof r!="function"?!0:(0,e.isntString)(t)}f.subscriptionArgsInvalid=s},{"./":38}],45:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0})},{}],46:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.unpackPayload=void 0;var e=a("./");function s(i){var r;if(i.data.slice(0,e.prefix.length)!==e.prefix)return!1;try{r=JSON.parse(i.data.slice(e.prefix.length))}catch{return!1}if(r.reply){var t=i.origin,c=i.source,o=r.reply;r.reply=function(p){if(c){var v=(0,e.packagePayload)(o,t,p);v&&c.postMessage(v,t)}}}return r}f.unpackPayload=s},{"./":38}],47:[function(a,d,f){"use strict";function e(n){var u=this.constructor;return this.then(function(h){return u.resolve(n()).then(function(){return h})},function(h){return u.resolve(n()).then(function(){return u.reject(h)})})}function s(n){var u=this;return new u(function(h,y){if(!(n&&typeof n.length<"u"))return y(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(n);if(E.length===0)return h([]);var A=E.length;function _(m,T){if(T&&(typeof T=="object"||typeof T=="function")){var b=T.then;if(typeof b=="function"){b.call(T,function(O){_(m,O)},function(O){E[m]={status:"rejected",reason:O},--A===0&&h(E)});return}}E[m]={status:"fulfilled",value:T},--A===0&&h(E)}for(var g=0;g<E.length;g++)_(g,E[g])})}var i=setTimeout;function r(n){return!!(n&&typeof n.length<"u")}function t(){}function c(n,u){return function(){n.apply(u,arguments)}}function o(n){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],N(n,this)}function l(n,u){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(u);return}n._handled=!0,o._immediateFn(function(){var h=n._state===1?u.onFulfilled:u.onRejected;if(h===null){(n._state===1?p:v)(u.promise,n._value);return}var y;try{y=h(n._value)}catch(E){v(u.promise,E);return}p(u.promise,y)})}function p(n,u){try{if(u===n)throw new TypeError("A promise cannot be resolved with itself.");if(u&&(typeof u=="object"||typeof u=="function")){var h=u.then;if(u instanceof o){n._state=3,n._value=u,I(n);return}else if(typeof h=="function"){N(c(h,u),n);return}}n._state=1,n._value=u,I(n)}catch(y){v(n,y)}}function v(n,u){n._state=2,n._value=u,I(n)}function I(n){n._state===2&&n._deferreds.length===0&&o._immediateFn(function(){n._handled||o._unhandledRejectionFn(n._value)});for(var u=0,h=n._deferreds.length;u<h;u++)l(n,n._deferreds[u]);n._deferreds=null}function R(n,u,h){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof u=="function"?u:null,this.promise=h}function N(n,u){var h=!1;try{n(function(y){h||(h=!0,p(u,y))},function(y){h||(h=!0,v(u,y))})}catch(y){if(h)return;h=!0,v(u,y)}}o.prototype.catch=function(n){return this.then(null,n)},o.prototype.then=function(n,u){var h=new this.constructor(t);return l(this,new R(n,u,h)),h},o.prototype.finally=e,o.all=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(n);if(y.length===0)return u([]);var E=y.length;function A(g,m){try{if(m&&(typeof m=="object"||typeof m=="function")){var T=m.then;if(typeof T=="function"){T.call(m,function(b){A(g,b)},h);return}}y[g]=m,--E===0&&u(y)}catch(b){h(b)}}for(var _=0;_<y.length;_++)A(_,y[_])})},o.allSettled=s,o.resolve=function(n){return n&&typeof n=="object"&&n.constructor===o?n:new o(function(u){u(n)})},o.reject=function(n){return new o(function(u,h){h(n)})},o.race=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.race accepts an array"));for(var y=0,E=n.length;y<E;y++)o.resolve(n[y]).then(u,h)})},o._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){i(n,0)},o._unhandledRejectionFn=function(u){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",u)},d.exports=o},{}],48:[function(a,d,f){"use strict";var e=a("./create-authorization-data"),s=a("./json-clone"),i=a("./constants");function r(t,c){var o,l=c?s(c):{},p=e(t.authorization).attrs,v=s(t.analyticsMetadata);l.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION;for(o in l._meta)l._meta.hasOwnProperty(o)&&(v[o]=l._meta[o]);return l._meta=v,p.tokenizationKey?l.tokenizationKey=p.tokenizationKey:l.authorizationFingerprint=p.authorizationFingerprint,l}d.exports=r},{"./constants":54,"./create-authorization-data":58,"./json-clone":73}],49:[function(a,d,f){"use strict";var e=a("./constants"),s=a("./add-metadata");function i(r,t,c){var o=Date.now();return Promise.resolve(r).then(function(l){var p=Date.now(),v=l.getConfiguration(),I=l._request,R=v.gatewayConfiguration.analytics.url,N={analytics:[{kind:e.ANALYTICS_PREFIX+t,isAsync:Math.floor(p/1e3)!==Math.floor(o/1e3),timestamp:o}]};I({url:R,method:"post",data:s(v,N),timeout:e.ANALYTICS_REQUEST_TIMEOUT_MS},c)}).catch(function(l){c&&c(l)})}d.exports={sendEvent:i}},{"./add-metadata":48,"./constants":54}],50:[function(a,d,f){"use strict";var e=a("@braintree/asset-loader/load-script");d.exports={loadScript:e}},{"@braintree/asset-loader/load-script":3}],51:[function(a,d,f){"use strict";var e=typeof Object.assign=="function"?Object.assign:s;function s(i){var r,t,c;for(r=1;r<arguments.length;r++){t=arguments[r];for(c in t)t.hasOwnProperty(c)&&(i[c]=t[c])}return i}d.exports={assign:e,_assign:s}},{}],52:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./errors"),i="3.96.1";function r(t){var c,o,l;return t?(l=t.name,c=t.client,o=t.authorization,!c&&!o?Promise.reject(new e({type:s.INSTANTIATION_OPTION_REQUIRED.type,code:s.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!o&&c.getVersion()!==i?Promise.reject(new e({type:s.INCOMPATIBLE_VERSIONS.type,code:s.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+c.getVersion()+") and "+l+" (version "+i+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new e({type:s.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:s.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:r}},{"./braintree-error":53,"./errors":61}],53:[function(a,d,f){"use strict";var e=a("./enumerate");function s(i){if(!s.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.types=e(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),s.findRootError=function(i){return i instanceof s&&i.details&&i.details.originalError?s.findRootError(i.details.originalError):i},d.exports=s},{"./enumerate":60}],54:[function(a,d,f){"use strict";var e="3.96.1",s="web",i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},r={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},t={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:s+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:r,CLIENT_API_URLS:i,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:t,INTEGRATION_TIMEOUT_MS:6e4,VERSION:e,INTEGRATION:"custom",SOURCE:"client",PLATFORM:s,BRAINTREE_LIBRARY_VERSION:"braintree/"+s+"/"+e}},{}],55:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./errors");d.exports=function(i,r){r.forEach(function(t){i[t]=function(){throw new e({type:s.METHOD_CALLED_AFTER_TEARDOWN.type,code:s.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"./braintree-error":53,"./errors":61}],56:[function(a,d,f){"use strict";var e=a("./braintree-error");function s(i,r){return i instanceof e?i:new e({type:r.type,code:r.code,message:r.message,details:{originalError:i}})}d.exports=s},{"./braintree-error":53}],57:[function(a,d,f){"use strict";var e=a("./constants").ASSETS_URLS;function s(i){return e.production}d.exports={create:s}},{"./constants":54}],58:[function(a,d,f){"use strict";var e=a("../lib/vendor/polyfill").atob,s=a("../lib/constants").CLIENT_API_URLS;function i(c){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(c)}function r(c){var o=c.split("_"),l=o[0],p=o.slice(2).join("_");return{merchantId:p,environment:l}}function t(c){var o,l,p={attrs:{},configUrl:""};return i(c)?(l=r(c),p.environment=l.environment,p.attrs.tokenizationKey=c,p.configUrl=s[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(o=JSON.parse(e(c)),p.environment=o.environment,p.attrs.authorizationFingerprint=o.authorizationFingerprint,p.configUrl=o.configUrl,p.graphQL=o.graphQL),p}d.exports=t},{"../lib/constants":54,"../lib/vendor/polyfill":77}],59:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./assets"),i=a("./errors"),r="3.96.1";function t(c){var o=Promise.resolve();return c.client?Promise.resolve(c.client):(window.braintree&&window.braintree.client||(o=s.loadScript({src:c.assetsUrl+"/web/"+r+"/js/client.min.js"}).catch(function(l){return Promise.reject(new e({type:i.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:i.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:i.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),o.then(function(){return window.braintree.client.VERSION!==r?Promise.reject(new e({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+c.name+" (version "+r+") components must be from the same SDK version."})):window.braintree.client.create({authorization:c.authorization,debug:c.debug})}))}d.exports={create:t}},{"./assets":50,"./braintree-error":53,"./errors":61}],60:[function(a,d,f){"use strict";function e(s,i){return i=i??"",s.reduce(function(r,t){return r[t]=i+t,r},{})}d.exports=e},{}],61:[function(a,d,f){"use strict";var e=a("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:e.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:e.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:e.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:e.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:e.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":53}],62:[function(a,d,f){"use strict";var e=a("./strategies/popup"),s=a("./strategies/popup-bridge"),i=a("./strategies/modal"),r=a("framebus"),t=a("../shared/events"),c=a("../shared/errors"),o=a("../shared/constants"),l=a("@braintree/uuid"),p=a("@braintree/iframer"),v=a("../../braintree-error"),I=a("../shared/browser-detection"),R=a("./../../assign").assign,N=a("../../constants").BUS_CONFIGURATION_REQUEST_EVENT,n=["name","dispatchFrameUrl","openFrameUrl"];function u(){}function h(E){if(!E)throw new Error("Valid configuration is required");if(n.forEach(function(A){if(!E.hasOwnProperty(A))throw new Error("A valid frame "+A+" must be provided")}),!/^[\w_]+$/.test(E.name))throw new Error("A valid frame name must be provided")}function y(E){h(E),this._serviceId=l().replace(/-/g,""),this._options={name:E.name+"_"+this._serviceId,dispatchFrameUrl:E.dispatchFrameUrl,openFrameUrl:E.openFrameUrl,height:E.height,width:E.width,top:E.top,left:E.left},this.state=E.state||{},this._bus=new r({channel:this._serviceId}),this._setBusEvents()}y.prototype.initialize=function(E){var A=function(){E(),this._bus.off(t.DISPATCH_FRAME_READY,A)}.bind(this);this._bus.on(t.DISPATCH_FRAME_READY,A),this._writeDispatchFrame()},y.prototype._writeDispatchFrame=function(){var E=o.DISPATCH_FRAME_NAME+"_"+this._serviceId,A=this._options.dispatchFrameUrl;this._dispatchFrame=p({"aria-hidden":!0,name:E,title:E,src:A,class:o.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},y.prototype._setBusEvents=function(){this._bus.on(t.DISPATCH_FRAME_REPORT,function(E,A){this._onCompleteCallback&&this._onCompleteCallback.call(null,E.err,E.payload),this._frame.close(),this._onCompleteCallback=null,A&&A()}.bind(this)),this._bus.on(N,function(E){E(this.state)}.bind(this))},y.prototype.open=function(E,A){if(E=E||{},this._frame=this._getFrameForEnvironment(E),this._frame.initialize(A),!(this._frame instanceof s)){if(R(this.state,E.state),this._onCompleteCallback=A,this._frame.open(),this.isFrameClosed()){this._cleanupFrame(),A&&A(new v(c.FRAME_SERVICE_FRAME_OPEN_FAILED));return}this._pollForPopupClose()}},y.prototype.redirect=function(E){this._frame&&!this.isFrameClosed()&&this._frame.redirect(E)},y.prototype.close=function(){this.isFrameClosed()||this._frame.close()},y.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},y.prototype.createHandler=function(E){return E=E||{},{close:function(){E.beforeClose&&E.beforeClose(),this.close()}.bind(this),focus:function(){E.beforeFocus&&E.beforeFocus(),this.focus()}.bind(this)}},y.prototype.createNoopHandler=function(){return{close:u,focus:u}},y.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},y.prototype.isFrameClosed=function(){return this._frame==null||this._frame.isClosed()},y.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},y.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new v(c.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),o.POPUP_POLL_INTERVAL),this._popupInterval},y.prototype._getFrameForEnvironment=function(E){var A=I.supportsPopups(),_=!!window.popupBridge,g=R({},this._options,E);return _?new s(g):A?new e(g):new i(g)},d.exports=y},{"../../braintree-error":53,"../../constants":54,"../shared/browser-detection":69,"../shared/constants":70,"../shared/errors":71,"../shared/events":72,"./../../assign":51,"./strategies/modal":64,"./strategies/popup":67,"./strategies/popup-bridge":65,"@braintree/iframer":21,"@braintree/uuid":25,framebus:31}],63:[function(a,d,f){"use strict";var e=a("./frame-service");d.exports={create:function(i,r){var t=new e(i);t.initialize(function(){r(t)})}}},{"./frame-service":62}],64:[function(a,d,f){"use strict";var e=a("@braintree/iframer"),s=a("../../../assign").assign,i=a("../../shared/browser-detection"),r={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function t(){}function c(o){this._closed=null,this._frame=null,this._options=o||{},this._container=this._options.container||document.body}c.prototype.initialize=t,c.prototype.open=function(){var o={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:s({},r),title:"Lightbox Frame"};i.isIos()?(i.isIosWKWebview()&&(this._lockScrolling(),o.style={}),this._el=document.createElement("div"),s(this._el.style,r,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=e(o),this._el.appendChild(this._frame)):this._el=this._frame=e(o),this._closed=!1,this._container.appendChild(this._el)},c.prototype.focus=t,c.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,i.isIosWKWebview()&&this._unlockScrolling()},c.prototype.isClosed=function(){return!!this._closed},c.prototype.redirect=function(o){this._frame.src=o},c.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,window.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},c.prototype._lockScrolling=function(){var o=document.documentElement;this._savedBodyProperties={left:(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),top:(window.pageYOffset||o.scrollTop)-(o.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",window.scrollTo(0,0)},d.exports=c},{"../../../assign":51,"../../shared/browser-detection":69,"@braintree/iframer":21}],65:[function(a,d,f){"use strict";var e=a("../../../braintree-error"),s=a("../../shared/errors");function i(){}function r(t){this._closed=null,this._options=t}r.prototype.initialize=function(t){var c=this;window.popupBridge.onComplete=function(o,l){var p=!l&&!o;if(c._closed=!0,o||p){t(new e(s.FRAME_SERVICE_FRAME_CLOSED));return}t(null,l)}},r.prototype.open=function(t){var c;t=t||{},c=t.openFrameUrl||this._options.openFrameUrl,this._closed=!1,window.popupBridge.open(c)},r.prototype.focus=i,r.prototype.close=i,r.prototype.isClosed=function(){return!!this._closed},r.prototype.redirect=function(t){this.open({openFrameUrl:t})},d.exports=r},{"../../../braintree-error":53,"../../shared/errors":71}],66:[function(a,d,f){"use strict";var e=a("../../../shared/constants"),s=a("./position");function i(r,t,c){return typeof t<"u"?t:s[r](c)}d.exports=function(t){var c=t.height||e.DEFAULT_POPUP_HEIGHT,o=t.width||e.DEFAULT_POPUP_WIDTH,l=i("top",t.top,c),p=i("left",t.left,o);return[e.POPUP_BASE_OPTIONS,"height="+c,"width="+o,"top="+l,"left="+p].join(",")}},{"../../../shared/constants":70,"./position":68}],67:[function(a,d,f){"use strict";var e=a("./compose-options");function s(){}function i(r){this._frame=null,this._options=r||{}}i.prototype.initialize=s,i.prototype.open=function(){this._frame=window.open(this._options.openFrameUrl,this._options.name,e(this._options))},i.prototype.focus=function(){this._frame.focus()},i.prototype.close=function(){this._frame.closed||this._frame.close()},i.prototype.isClosed=function(){return!this._frame||!!this._frame.closed},i.prototype.redirect=function(r){this._frame.location.href=r},d.exports=i},{"./compose-options":66}],68:[function(a,d,f){"use strict";function e(r){var t=window.outerHeight||document.documentElement.clientHeight,c=window.screenY==null?window.screenTop:window.screenY;return i(t,r,c)}function s(r){var t=window.outerWidth||document.documentElement.clientWidth,c=window.screenX==null?window.screenLeft:window.screenX;return i(t,r,c)}function i(r,t,c){return(r-t)/2+c}d.exports={top:e,left:s,center:i}},{}],69:[function(a,d,f){"use strict";d.exports={isIos:a("@braintree/browser-detection/is-ios"),isIosWKWebview:a("@braintree/browser-detection/is-ios-wkwebview"),supportsPopups:a("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ios":18,"@braintree/browser-detection/is-ios-wkwebview":17,"@braintree/browser-detection/supports-popups":19}],70:[function(a,d,f){"use strict";d.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],71:[function(a,d,f){"use strict";var e=a("../../braintree-error");d.exports={FRAME_SERVICE_FRAME_CLOSED:{type:e.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:e.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."}}},{"../../braintree-error":53}],72:[function(a,d,f){"use strict";var e=a("../../enumerate");d.exports=e(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":60}],73:[function(a,d,f){"use strict";d.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],74:[function(a,d,f){"use strict";d.exports=function(e){return Object.keys(e).filter(function(s){return typeof e[s]=="function"})}},{}],75:[function(a,d,f){"use strict";function e(o){var l;for(l in o)if(o.hasOwnProperty(l))return!0;return!1}function s(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.toString.call(o)==="[object Array]"||!1}function i(o){return o=o||window.location.href,/\?/.test(o)}function r(o){var l,p;return o=o||window.location.href,i(o)?(l=o.split("?")[1]||"",l=l.replace(/#.*$/,"").split("&"),p=l.reduce(function(v,I){var R=I.split("="),N=decodeURIComponent(R[0]),n=decodeURIComponent(R[1]);return v[N]=n,v},{}),p):{}}function t(o,l){var p,v,I,R=[];for(I in o)o.hasOwnProperty(I)&&(v=o[I],l?s(o)?p=l+"[]":p=l+"["+I+"]":p=I,typeof v=="object"?R.push(t(v,p)):R.push(encodeURIComponent(p)+"="+encodeURIComponent(v)));return R.join("&")}function c(o,l){return o=o||"",l!=null&&typeof l=="object"&&e(l)&&(o+=o.indexOf("?")===-1?"?":"",o+=o.indexOf("=")!==-1?"&":"",o+=t(l)),o}d.exports={parse:r,stringify:t,queryify:c,hasQueryParams:i}},{}],76:[function(a,d,f){"use strict";function e(s){return s?"":".min"}d.exports=e},{}],77:[function(a,d,f){"use strict";var e=typeof atob=="function"?atob:s;function s(i){var r,t,c,o,l,p,v,I,R=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="";if(!R.test(i))throw new Error("Non base64 encoded input passed to window.atob polyfill");I=0;do o=N.indexOf(i.charAt(I++)),l=N.indexOf(i.charAt(I++)),p=N.indexOf(i.charAt(I++)),v=N.indexOf(i.charAt(I++)),r=(o&63)<<2|l>>4&3,t=(l&15)<<4|p>>2&15,c=(p&3)<<6|v&63,n+=String.fromCharCode(r)+(t?String.fromCharCode(t):"")+(c?String.fromCharCode(c):"");while(I<i.length);return n}d.exports={atob:function(i){return e.call(window,i)},_atob:s}},{}],78:[function(a,d,f){"use strict";var e=a("../lib/braintree-error");d.exports={PAYPAL_NOT_ENABLED:{type:e.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:e.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developer.paypal.com/braintree/docs/guides/paypal/testing-go-live#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:e.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:e.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:e.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED:{type:e.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED"},PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED:{type:e.types.NETWORK,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED",message:"Something went wrong when setting up the checkout workflow."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED:{type:e.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED:{type:e.types.CUSTOMER,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS:{type:e.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS",message:"Vault initiated checkout already in progress."},PAYPAL_INVALID_PAYMENT_OPTION:{type:e.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."},PAYPAL_MISSING_REQUIRED_OPTION:{type:e.types.MERCHANT,code:"PAYPAL_MISSING_REQUIRED_OPTION",message:"Missing required option."}}},{"../lib/braintree-error":53}],79:[function(a,d,f){"use strict";var e=a("../lib/basic-component-verification"),s=a("@braintree/wrap-promise"),i=a("./paypal-checkout"),r="3.96.1";function t(o){var l="PayPal Checkout";return e.verify({name:l,client:o.client,authorization:o.authorization}).then(function(){var p=new i(o);return p._initialize(o)})}function c(){return!0}d.exports={create:s(t),isSupported:c,VERSION:r}},{"../lib/basic-component-verification":52,"./paypal-checkout":80,"@braintree/wrap-promise":29}],80:[function(a,d,f){"use strict";var e=a("../lib/analytics"),s=a("../lib/assign").assign,i=a("../lib/create-deferred-client"),r=a("../lib/create-assets-url"),t=a("@braintree/extended-promise"),c=a("@braintree/wrap-promise"),o=a("../lib/braintree-error"),l=a("../lib/convert-to-braintree-error"),p=a("./errors"),v=a("../paypal/shared/constants"),I=a("../lib/frame-service/external"),R=a("../lib/create-authorization-data"),N=a("../lib/methods"),n=a("../lib/use-min"),u=a("../lib/convert-methods-to-error"),h=a("../lib/querystring"),y="3.96.1",E=a("../lib/constants").INTEGRATION_TIMEOUT_MS,A=["amount","currency","vaultInitiatedCheckoutPaymentMethodToken"],_="https://www.{ENV}paypal.com/smart/buttons/preload";t.suppressUnhandledPromiseMessage=!0;function g(m){this._merchantAccountId=m.merchantAccountId,this._autoSetDataUserIdToken=!!m.autoSetDataUserIdToken}g.prototype._initialize=function(m){var T;return m.client?(T=m.client.getConfiguration(),this._authorizationInformation={fingerprint:T.authorizationFingerprint,environment:T.gatewayConfiguration.environment}):(T=R(m.authorization),this._authorizationInformation={fingerprint:T.attrs.authorizationFingerprint,environment:T.environment}),this._clientPromise=i.create({authorization:m.authorization,client:m.client,debug:m.debug,assetsUrl:r.create(m.authorization),name:"PayPal Checkout"}).then(function(b){return this._configuration=b.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?this._configuration.gatewayConfiguration.paypal.environmentNoNetwork===!0&&(this._setupError=new o(p.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new o(p.PAYPAL_NOT_ENABLED)),this._setupError?Promise.reject(this._setupError):(e.sendEvent(b,"paypal-checkout.initialized"),this._frameServicePromise=this._setupFrameService(b),b)}.bind(this)),m.client?this._clientPromise.then(function(){return this}.bind(this)):Promise.resolve(this)},g.prototype._setupFrameService=function(m){var T=new t,b=m.getConfiguration(),O=setTimeout(function(){e.sendEvent(m,"paypal-checkout.frame-service.timed-out"),T.reject(new o(p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED))},E);return this._assetsUrl=b.gatewayConfiguration.paypal.assetsUrl+"/web/"+y,this._isDebug=b.isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+n(this._isDebug)+".html",I.create({name:"braintreepaypallanding",dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame"+n(this._isDebug)+".html",openFrameUrl:this._loadingFrameUrl},function(S){this._frameService=S,clearTimeout(O),T.resolve()}.bind(this)),T},g.prototype.createPayment=function(m){return!m||!v.FLOW_ENDPOINTS.hasOwnProperty(m.flow)?Promise.reject(new o(p.PAYPAL_FLOW_OPTION_REQUIRED)):(e.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),this._createPaymentResource(m).then(function(T){var b,O;return m.flow==="checkout"?(O=h.parse(T.paymentResource.redirectUrl),b=O.token):b=T.agreementSetup.tokenId,b}))},g.prototype._createPaymentResource=function(m,T){var b=this,O="paypal_hermes/"+v.FLOW_ENDPOINTS[m.flow];return delete this.intentFromCreatePayment,T=T||{},m.offerCredit===!0&&e.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then(function(S){return S.request({endpoint:O,method:"post",data:b._formatPaymentResourceData(m,T)}).then(function(P){return b.intentFromCreatePayment=m.intent,P})}).catch(function(S){var P;return b._setupError?Promise.reject(b._setupError):(P=S.details&&S.details.httpStatus,P===422?Promise.reject(new o({type:p.PAYPAL_INVALID_PAYMENT_OPTION.type,code:p.PAYPAL_INVALID_PAYMENT_OPTION.code,message:p.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:S}})):Promise.reject(l(S,{type:p.PAYPAL_FLOW_FAILED.type,code:p.PAYPAL_FLOW_FAILED.code,message:p.PAYPAL_FLOW_FAILED.message})))})},g.prototype.updatePayment=function(m){var T=this,b="paypal_hermes/patch_payment_resource";return!m||this._hasMissingOption(m,v.REQUIRED_OPTIONS)?(e.sendEvent(T._clientPromise,"paypal-checkout.updatePayment.missing-options"),Promise.reject(new o(p.PAYPAL_MISSING_REQUIRED_OPTION))):this._verifyConsistentCurrency(m)?(e.sendEvent(this._clientPromise,"paypal-checkout.updatePayment"),this._clientPromise.then(function(O){return O.request({endpoint:b,method:"post",data:T._formatUpdatePaymentData(m)})}).catch(function(O){var S=O.details&&O.details.httpStatus;return S===422?(e.sendEvent(T._clientPromise,"paypal-checkout.updatePayment.invalid"),Promise.reject(new o({type:p.PAYPAL_INVALID_PAYMENT_OPTION.type,code:p.PAYPAL_INVALID_PAYMENT_OPTION.code,message:p.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:O}}))):(e.sendEvent(T._clientPromise,"paypal-checkout.updatePayment."+p.PAYPAL_FLOW_FAILED.code),Promise.reject(l(O,{type:p.PAYPAL_FLOW_FAILED.type,code:p.PAYPAL_FLOW_FAILED.code,message:p.PAYPAL_FLOW_FAILED.message})))})):(e.sendEvent(T._clientPromise,"paypal-checkout.updatePayment.inconsistent-currencies"),Promise.reject(new o({type:p.PAYPAL_INVALID_PAYMENT_OPTION.type,code:p.PAYPAL_INVALID_PAYMENT_OPTION.code,message:p.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:new Error("One or more shipping option currencies differ from checkout currency.")}})))},g.prototype.startVaultInitiatedCheckout=function(m){var T,b=this;return this._vaultInitiatedCheckoutInProgress?(e.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress"),Promise.reject(new o(p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS))):(A.forEach(function(O){m.hasOwnProperty(O)||(T=O)}),T?Promise.reject(new o({type:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,code:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,message:"Required param "+T+" is missing."})):(this._vaultInitiatedCheckoutInProgress=!0,this._addModalBackdrop(m),m=s({},m,{flow:"checkout"}),e.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.started"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){var O=new t,S=b._createPaymentResource(m,{returnUrl:b._constructVaultCheckutUrl("redirect-frame"),cancelUrl:b._constructVaultCheckutUrl("cancel-frame")}).then(function(P){var C=P.paymentResource.redirectUrl;return b._frameService.redirect(C),O});return b._frameService.open({},b._createFrameServiceCallback(O)),S}).catch(function(O){return b._vaultInitiatedCheckoutInProgress=!1,b._removeModalBackdrop(),O.code==="FRAME_SERVICE_FRAME_CLOSED"?(e.sendEvent(b._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer"),Promise.reject(new o(p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED))):(b._frameService&&b._frameService.close(),O.code&&O.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(e.sendEvent(b._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened"),Promise.reject(new o({code:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.code,type:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.type,message:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.message,details:{originalError:O}}))):Promise.reject(O))}).then(function(O){return b._frameService.close(),b._vaultInitiatedCheckoutInProgress=!1,b._removeModalBackdrop(),e.sendEvent(b._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.succeeded"),Promise.resolve(O)})))},g.prototype._addModalBackdrop=function(m){m.optOutOfModalBackdrop||(this._modalBackdrop||(this._modalBackdrop=document.createElement("div"),this._modalBackdrop.setAttribute("data-braintree-paypal-vault-initiated-checkout-modal",!0),this._modalBackdrop.style.position="fixed",this._modalBackdrop.style.top=0,this._modalBackdrop.style.bottom=0,this._modalBackdrop.style.left=0,this._modalBackdrop.style.right=0,this._modalBackdrop.style.zIndex=9999,this._modalBackdrop.style.background="black",this._modalBackdrop.style.opacity="0.7",this._modalBackdrop.addEventListener("click",function(){this.focusVaultInitiatedCheckoutWindow()}.bind(this))),document.body.appendChild(this._modalBackdrop))},g.prototype._removeModalBackdrop=function(){this._modalBackdrop&&this._modalBackdrop.parentNode&&this._modalBackdrop.parentNode.removeChild(this._modalBackdrop)},g.prototype.closeVaultInitiatedCheckoutWindow=function(){return this._vaultInitiatedCheckoutInProgress&&e.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.close()}.bind(this))},g.prototype.focusVaultInitiatedCheckoutWindow=function(){return this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.focus()}.bind(this))},g.prototype._createFrameServiceCallback=function(m){var T=this;return function(b,O){b?m.reject(b):O&&(T._frameService.redirect(T._loadingFrameUrl),T.tokenizePayment({paymentToken:O.token,payerID:O.PayerID,paymentID:O.paymentId,orderID:O.orderId}).then(function(S){m.resolve(S)}).catch(function(S){m.reject(S)}))}},g.prototype._waitForVaultInitiatedCheckoutDependencies=function(){var m=this;return this._clientPromise.then(function(){return m._frameServicePromise})},g.prototype._constructVaultCheckutUrl=function(m){var T=this._frameService._serviceId;return this._assetsUrl+"/html/"+m+n(this._isDebug)+".html?channel="+T},g.prototype.tokenizePayment=function(m){var T=this,b=!0,O,S={flow:m.billingToken&&!m.paymentID?"vault":"checkout",intent:m.intent||this.intentFromCreatePayment},P={ecToken:m.paymentToken,billingToken:m.billingToken,payerId:m.payerID,paymentId:m.paymentID,orderId:m.orderID,shippingOptionsId:m.shippingOptionsId};return m.hasOwnProperty("vault")&&(b=m.vault),S.vault=b,e.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then(function(C){return C.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:T._formatTokenizeData(S,P)})}).then(function(C){return O=T._formatTokenizePayload(C),e.sendEvent(T._clientPromise,"paypal-checkout.tokenization.success"),O.creditFinancingOffered&&e.sendEvent(T._clientPromise,"paypal-checkout.credit.accepted"),O}).catch(function(C){return T._setupError?Promise.reject(T._setupError):(e.sendEvent(T._clientPromise,"paypal-checkout.tokenization.failed"),Promise.reject(l(C,{type:p.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:p.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:p.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))})},g.prototype.getClientId=function(){return this._clientPromise.then(function(m){return m.getConfiguration().gatewayConfiguration.paypal.clientId})},g.prototype.loadPayPalSDK=function(m){var T,b,O=new t,S=m&&m.dataAttributes||{},P=S["user-id-token"]||S["data-user-id-token"];return P||(P=this._authorizationInformation.fingerprint&&this._authorizationInformation.fingerprint.split("?")[0]),this._paypalScript=document.createElement("script"),m=s({},{components:"buttons"},m),delete m.dataAttributes,m.vault?m.intent=m.intent||"tokenize":(m.intent=m.intent||"authorize",m.currency=m.currency||"USD"),b="https://www.paypal.com/sdk/js?",this._paypalScript.onload=function(){O.resolve()},Object.keys(S).forEach(function(C){this._paypalScript.setAttribute("data-"+C.replace(/^data\-/,""),S[C])}.bind(this)),m["client-id"]?T=Promise.resolve(m["client-id"]):T=this.getClientId(),T.then(function(C){m["client-id"]=C,this._autoSetDataUserIdToken&&P&&(this._paypalScript.setAttribute("data-user-id-token",P),this._attachPreloadPixel({id:C,userIdToken:P,amount:S.amount,currency:m.currency,merchantId:m["merchant-id"]})),this._paypalScript.src=h.queryify(b,m),document.head.insertBefore(this._paypalScript,document.head.firstElementChild)}.bind(this)),O.then(function(){return this}.bind(this))},g.prototype._attachPreloadPixel=function(m){var T,b=m.id,O=m.userIdToken,S=this._authorizationInformation.environment,P=S==="production"?"":"sandbox.",C=_.replace("{ENV}",P),L={"client-id":b,"user-id-token":O};m.amount&&(L.amount=m.amount),m.currency&&(L.currency=m.currency),m.merchantId&&(L["merchant-id"]=m.merchantId),T=new XMLHttpRequest,T.open("GET",h.queryify(C,L)),T.send()},g.prototype._formatPaymentResourceData=function(m,T){var b,O=this._configuration.gatewayConfiguration,S=m.intent,P={returnUrl:T.returnUrl||"https://www.paypal.com/checkoutnow/error",cancelUrl:T.cancelUrl||"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:m.offerCredit===!0,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:m.displayName||O.paypal.displayName,localeCode:m.locale,noShipping:(!m.enableShippingAddress).toString(),addressOverride:m.shippingAddressEditable===!1,landingPageType:m.landingPageType},shippingOptions:m.shippingOptions};if(m.flow==="checkout"){P.amount=m.amount,P.currencyIsoCode=m.currency,P.requestBillingAgreement=m.requestBillingAgreement,S&&(S==="capture"&&(S="sale"),P.intent=S),m.hasOwnProperty("lineItems")&&(P.lineItems=m.lineItems),m.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(P.vaultInitiatedCheckoutPaymentMethodToken=m.vaultInitiatedCheckoutPaymentMethodToken),m.hasOwnProperty("shippingOptions")&&(P.shippingOptions=m.shippingOptions);for(b in m.shippingAddressOverride)m.shippingAddressOverride.hasOwnProperty(b)&&(P[b]=m.shippingAddressOverride[b]);m.hasOwnProperty("billingAgreementDetails")&&(P.billingAgreementDetails=m.billingAgreementDetails)}else P.shippingAddress=m.shippingAddressOverride,m.billingAgreementDescription&&(P.description=m.billingAgreementDescription);return this._riskCorrelationId=m.riskCorrelationId,m.riskCorrelationId&&(P.correlationId=this._riskCorrelationId),P},g.prototype._verifyConsistentCurrency=function(m){return m.currency&&m.hasOwnProperty("shippingOptions")&&Array.isArray(m.shippingOptions)?m.shippingOptions.every(function(T){return T.amount&&T.amount.currency&&m.currency.toLowerCase()===T.amount.currency.toLowerCase()}):!0},g.prototype._hasMissingOption=function(m,T){var b,O;if(T=T||[],!m.hasOwnProperty("amount")&&!m.hasOwnProperty("lineItems"))return!0;for(b=0;b<T.length;b++)if(O=T[b],!m.hasOwnProperty(O))return!0;return!1},g.prototype._formatUpdatePaymentData=function(m){var T=this,b={merchantAccountId:this._merchantAccountId,paymentId:m.paymentId||m.orderId,currencyIsoCode:m.currency};return m.hasOwnProperty("amount")&&(b.amount=m.amount),m.hasOwnProperty("lineItems")&&(b.lineItems=m.lineItems),m.hasOwnProperty("shippingOptions")&&(b.shippingOptions=m.shippingOptions),m.hasOwnProperty("shippingAddress")&&(e.sendEvent(T._clientPromise,"paypal-checkout.updatePayment.shippingAddress.provided.by-the-merchant"),b.line1=m.shippingAddress.line1,m.shippingAddress.hasOwnProperty("line2")&&(b.line2=m.shippingAddress.line2),b.city=m.shippingAddress.city,b.state=m.shippingAddress.state,b.postalCode=m.shippingAddress.postalCode,b.countryCode=m.shippingAddress.countryCode,m.shippingAddress.hasOwnProperty("phone")&&(b.phone=m.shippingAddress.phone),m.shippingAddress.hasOwnProperty("recipientName")&&(b.recipientName=m.shippingAddress.recipientName)),b},g.prototype._formatTokenizeData=function(m,T){var b=this._configuration,O=b.gatewayConfiguration,S=b.authorizationType==="TOKENIZATION_KEY",P=m.flow==="vault",C=this._riskCorrelationId||T.billingToken||T.ecToken,L={paypalAccount:{correlationId:C,options:{validate:P&&!S&&m.vault}}};return P?L.paypalAccount.billingAgreementToken=T.billingToken:(L.paypalAccount.paymentToken=T.paymentId||T.orderId,L.paypalAccount.payerId=T.payerId,L.paypalAccount.unilateral=O.paypal.unvettedMerchant,m.intent&&(L.paypalAccount.intent=m.intent)),this._merchantAccountId&&(L.merchantAccountId=this._merchantAccountId),L},g.prototype._formatTokenizePayload=function(m){var T,b={};return m.paypalAccounts&&(b=m.paypalAccounts[0]),T={nonce:b.nonce,details:{},type:b.type},b.details&&b.details.payerInfo&&(T.details=b.details.payerInfo),b.details&&b.details.creditFinancingOffered&&(T.creditFinancingOffered=b.details.creditFinancingOffered),b.details&&b.details.shippingOptionId&&(T.shippingOptionId=b.details.shippingOptionId),b.details&&b.details.cobrandedCardLabel&&(T.cobrandedCardLabel=b.details.cobrandedCardLabel),T},g.prototype.teardown=function(){var m=this;return u(this,N(g.prototype)),this._paypalScript&&this._paypalScript.parentNode&&this._paypalScript.parentNode.removeChild(this._paypalScript),this._frameServicePromise.catch(function(){}).then(function(){return m._frameService?m._frameService.teardown():Promise.resolve()})},d.exports=c.wrapPrototype(g)},{"../lib/analytics":49,"../lib/assign":51,"../lib/braintree-error":53,"../lib/constants":54,"../lib/convert-methods-to-error":55,"../lib/convert-to-braintree-error":56,"../lib/create-assets-url":57,"../lib/create-authorization-data":58,"../lib/create-deferred-client":59,"../lib/frame-service/external":63,"../lib/methods":74,"../lib/querystring":75,"../lib/use-min":76,"../paypal/shared/constants":81,"./errors":78,"@braintree/extended-promise":20,"@braintree/wrap-promise":29}],81:[function(a,d,f){"use strict";d.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"},REQUIRED_OPTIONS:["paymentId","currency"]}},{}]},{},[79])(79)})})(Y,Y.exports);var ue=Y.exports;const le=W(ue);var Z={exports:{}},Ne=Z.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function a(d,f,e){function s(t,c){if(!f[t]){if(!d[t]){var o=typeof x=="function"&&x;if(!c&&o)return o(t,!0);if(i)return i(t,!0);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}var p=f[t]={exports:{}};d[t][0].call(p.exports,function(v){var I=d[t][1][v];return s(I||v)},p,p.exports,a,d,f,e)}return f[t].exports}for(var i=typeof x=="function"&&x,r=0;r<e.length;r++)s(e[r]);return s}return a}()({1:[function(a,d,f){"use strict";var e=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.PromiseGlobal=void 0;var s=e(a("promise-polyfill")),i=typeof Promise<"u"?Promise:s.default;f.PromiseGlobal=i},{"promise-polyfill":8}],2:[function(a,d,f){"use strict";var e=a("./lib/promise"),s={};function i(r){var t,c=JSON.stringify(r);if(!r.forceScriptReload&&(t=s[c],t))return t;var o=document.createElement("script"),l=r.dataAttributes||{},p=r.container||document.head;return o.src=r.src,o.id=r.id||"",o.async=!0,r.crossorigin&&o.setAttribute("crossorigin",""+r.crossorigin),Object.keys(l).forEach(function(v){o.setAttribute("data-"+v,""+l[v])}),t=new e.PromiseGlobal(function(v,I){o.addEventListener("load",function(){v(o)}),o.addEventListener("error",function(){I(new Error(r.src+" failed to load."))}),o.addEventListener("abort",function(){I(new Error(r.src+" has aborted."))}),p.appendChild(o)}),s[c]=t,t}i.clearCache=function(){s={}},d.exports=i},{"./lib/promise":1}],3:[function(a,d,f){d.exports=a("./dist/load-script")},{"./dist/load-script":2}],4:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];setTimeout(function(){try{s.apply(void 0,i)}catch(t){console.log("Error in callback function"),console.log(t)}},1)}}f.deferred=e},{}],5:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){var i=!1;return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];i||(i=!0,s.apply(void 0,r))}}f.once=e},{}],6:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s,i){if(!i)return s;s.then(function(r){return i(null,r)}).catch(function(r){return i(r)})}f.promiseOrCallback=e},{}],7:[function(a,d,f){"use strict";var e=a("./lib/deferred"),s=a("./lib/once"),i=a("./lib/promise-or-callback");function r(t){return function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];var l,p=c[c.length-1];return typeof p=="function"&&(l=c.pop(),l=s.once(e.deferred(l))),i.promiseOrCallback(t.apply(this,c),l)}}r.wrapPrototype=function(t,c){c===void 0&&(c={});var o=c.ignoreMethods||[],l=c.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(t.prototype).filter(function(v){var I,R=v!=="constructor"&&typeof t.prototype[v]=="function",N=o.indexOf(v)===-1;return l?I=!0:I=v.charAt(0)!=="_",R&&I&&N});return p.forEach(function(v){var I=t.prototype[v];t.prototype[v]=r(I)}),t},d.exports=r},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(a,d,f){"use strict";function e(n){var u=this.constructor;return this.then(function(h){return u.resolve(n()).then(function(){return h})},function(h){return u.resolve(n()).then(function(){return u.reject(h)})})}function s(n){var u=this;return new u(function(h,y){if(!(n&&typeof n.length<"u"))return y(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(n);if(E.length===0)return h([]);var A=E.length;function _(m,T){if(T&&(typeof T=="object"||typeof T=="function")){var b=T.then;if(typeof b=="function"){b.call(T,function(O){_(m,O)},function(O){E[m]={status:"rejected",reason:O},--A===0&&h(E)});return}}E[m]={status:"fulfilled",value:T},--A===0&&h(E)}for(var g=0;g<E.length;g++)_(g,E[g])})}var i=setTimeout;function r(n){return!!(n&&typeof n.length<"u")}function t(){}function c(n,u){return function(){n.apply(u,arguments)}}function o(n){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],N(n,this)}function l(n,u){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(u);return}n._handled=!0,o._immediateFn(function(){var h=n._state===1?u.onFulfilled:u.onRejected;if(h===null){(n._state===1?p:v)(u.promise,n._value);return}var y;try{y=h(n._value)}catch(E){v(u.promise,E);return}p(u.promise,y)})}function p(n,u){try{if(u===n)throw new TypeError("A promise cannot be resolved with itself.");if(u&&(typeof u=="object"||typeof u=="function")){var h=u.then;if(u instanceof o){n._state=3,n._value=u,I(n);return}else if(typeof h=="function"){N(c(h,u),n);return}}n._state=1,n._value=u,I(n)}catch(y){v(n,y)}}function v(n,u){n._state=2,n._value=u,I(n)}function I(n){n._state===2&&n._deferreds.length===0&&o._immediateFn(function(){n._handled||o._unhandledRejectionFn(n._value)});for(var u=0,h=n._deferreds.length;u<h;u++)l(n,n._deferreds[u]);n._deferreds=null}function R(n,u,h){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof u=="function"?u:null,this.promise=h}function N(n,u){var h=!1;try{n(function(y){h||(h=!0,p(u,y))},function(y){h||(h=!0,v(u,y))})}catch(y){if(h)return;h=!0,v(u,y)}}o.prototype.catch=function(n){return this.then(null,n)},o.prototype.then=function(n,u){var h=new this.constructor(t);return l(this,new R(n,u,h)),h},o.prototype.finally=e,o.all=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(n);if(y.length===0)return u([]);var E=y.length;function A(g,m){try{if(m&&(typeof m=="object"||typeof m=="function")){var T=m.then;if(typeof T=="function"){T.call(m,function(b){A(g,b)},h);return}}y[g]=m,--E===0&&u(y)}catch(b){h(b)}}for(var _=0;_<y.length;_++)A(_,y[_])})},o.allSettled=s,o.resolve=function(n){return n&&typeof n=="object"&&n.constructor===o?n:new o(function(u){u(n)})},o.reject=function(n){return new o(function(u,h){h(n)})},o.race=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.race accepts an array"));for(var y=0,E=n.length;y<E;y++)o.resolve(n[y]).then(u,h)})},o._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){i(n,0)},o._unhandledRejectionFn=function(u){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",u)},d.exports=o},{}],9:[function(a,d,f){"use strict";var e=a("./create-authorization-data"),s=a("./json-clone"),i=a("./constants");function r(t,c){var o,l=c?s(c):{},p=e(t.authorization).attrs,v=s(t.analyticsMetadata);l.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION;for(o in l._meta)l._meta.hasOwnProperty(o)&&(v[o]=l._meta[o]);return l._meta=v,p.tokenizationKey?l.tokenizationKey=p.tokenizationKey:l.authorizationFingerprint=p.authorizationFingerprint,l}d.exports=r},{"./constants":14,"./create-authorization-data":17,"./json-clone":21}],10:[function(a,d,f){"use strict";var e=a("./constants"),s=a("./add-metadata");function i(r,t,c){var o=Date.now();return Promise.resolve(r).then(function(l){var p=Date.now(),v=l.getConfiguration(),I=l._request,R=v.gatewayConfiguration.analytics.url,N={analytics:[{kind:e.ANALYTICS_PREFIX+t,isAsync:Math.floor(p/1e3)!==Math.floor(o/1e3),timestamp:o}]};I({url:R,method:"post",data:s(v,N),timeout:e.ANALYTICS_REQUEST_TIMEOUT_MS},c)}).catch(function(l){c&&c(l)})}d.exports={sendEvent:i}},{"./add-metadata":9,"./constants":14}],11:[function(a,d,f){"use strict";var e=a("@braintree/asset-loader/load-script");d.exports={loadScript:e}},{"@braintree/asset-loader/load-script":3}],12:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./errors"),i="3.96.1";function r(t){var c,o,l;return t?(l=t.name,c=t.client,o=t.authorization,!c&&!o?Promise.reject(new e({type:s.INSTANTIATION_OPTION_REQUIRED.type,code:s.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!o&&c.getVersion()!==i?Promise.reject(new e({type:s.INCOMPATIBLE_VERSIONS.type,code:s.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+c.getVersion()+") and "+l+" (version "+i+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new e({type:s.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:s.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:r}},{"./braintree-error":13,"./errors":20}],13:[function(a,d,f){"use strict";var e=a("./enumerate");function s(i){if(!s.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.types=e(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),s.findRootError=function(i){return i instanceof s&&i.details&&i.details.originalError?s.findRootError(i.details.originalError):i},d.exports=s},{"./enumerate":19}],14:[function(a,d,f){"use strict";var e="3.96.1",s="web",i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},r={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},t={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:s+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:r,CLIENT_API_URLS:i,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:t,INTEGRATION_TIMEOUT_MS:6e4,VERSION:e,INTEGRATION:"custom",SOURCE:"client",PLATFORM:s,BRAINTREE_LIBRARY_VERSION:"braintree/"+s+"/"+e}},{}],15:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./errors");d.exports=function(i,r){r.forEach(function(t){i[t]=function(){throw new e({type:s.METHOD_CALLED_AFTER_TEARDOWN.type,code:s.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"./braintree-error":13,"./errors":20}],16:[function(a,d,f){"use strict";var e=a("./constants").ASSETS_URLS;function s(i){return e.production}d.exports={create:s}},{"./constants":14}],17:[function(a,d,f){"use strict";var e=a("../lib/vendor/polyfill").atob,s=a("../lib/constants").CLIENT_API_URLS;function i(c){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(c)}function r(c){var o=c.split("_"),l=o[0],p=o.slice(2).join("_");return{merchantId:p,environment:l}}function t(c){var o,l,p={attrs:{},configUrl:""};return i(c)?(l=r(c),p.environment=l.environment,p.attrs.tokenizationKey=c,p.configUrl=s[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(o=JSON.parse(e(c)),p.environment=o.environment,p.attrs.authorizationFingerprint=o.authorizationFingerprint,p.configUrl=o.configUrl,p.graphQL=o.graphQL),p}d.exports=t},{"../lib/constants":14,"../lib/vendor/polyfill":24}],18:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./assets"),i=a("./errors"),r="3.96.1";function t(c){var o=Promise.resolve();return c.client?Promise.resolve(c.client):(window.braintree&&window.braintree.client||(o=s.loadScript({src:c.assetsUrl+"/web/"+r+"/js/client.min.js"}).catch(function(l){return Promise.reject(new e({type:i.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:i.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:i.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),o.then(function(){return window.braintree.client.VERSION!==r?Promise.reject(new e({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+c.name+" (version "+r+") components must be from the same SDK version."})):window.braintree.client.create({authorization:c.authorization,debug:c.debug})}))}d.exports={create:t}},{"./assets":11,"./braintree-error":13,"./errors":20}],19:[function(a,d,f){"use strict";function e(s,i){return i=i??"",s.reduce(function(r,t){return r[t]=i+t,r},{})}d.exports=e},{}],20:[function(a,d,f){"use strict";var e=a("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:e.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:e.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:e.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:e.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:e.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":13}],21:[function(a,d,f){"use strict";d.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],22:[function(a,d,f){"use strict";d.exports=function(e){return Object.keys(e).filter(function(s){return typeof e[s]=="function"})}},{}],23:[function(a,d,f){"use strict";function e(s){var i=!1;return function(){i||(i=!0,s.apply(null,arguments))}}d.exports=e},{}],24:[function(a,d,f){"use strict";var e=typeof atob=="function"?atob:s;function s(i){var r,t,c,o,l,p,v,I,R=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="";if(!R.test(i))throw new Error("Non base64 encoded input passed to window.atob polyfill");I=0;do o=N.indexOf(i.charAt(I++)),l=N.indexOf(i.charAt(I++)),p=N.indexOf(i.charAt(I++)),v=N.indexOf(i.charAt(I++)),r=(o&63)<<2|l>>4&3,t=(l&15)<<4|p>>2&15,c=(p&3)<<6|v&63,n+=String.fromCharCode(r)+(t?String.fromCharCode(t):"")+(c?String.fromCharCode(c):"");while(I<i.length);return n}d.exports={atob:function(i){return e.call(window,i)},_atob:s}},{}],25:[function(a,d,f){"use strict";d.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],26:[function(a,d,f){"use strict";var e=a("../lib/braintree-error");d.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:e.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:e.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:e.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:e.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:e.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:e.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:e.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:e.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:e.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":13}],27:[function(a,d,f){"use strict";var e=a("../lib/basic-component-verification"),s=a("../lib/braintree-error"),i=a("../lib/create-deferred-client"),r=a("../lib/create-assets-url"),t=a("./errors"),c=a("./us-bank-account"),o="3.96.1",l=a("@braintree/wrap-promise");function p(v){var I="US Bank Account";return e.verify({name:I,client:v.client,authorization:v.authorization}).then(function(){return i.create({authorization:v.authorization,client:v.client,debug:v.debug,assetsUrl:r.create(v.authorization),name:I})}).then(function(R){var N;return v.client=R,N=v.client.getConfiguration().gatewayConfiguration.usBankAccount,N?new c(v):Promise.reject(new s(t.US_BANK_ACCOUNT_NOT_ENABLED))})}d.exports={create:l(p),VERSION:o}},{"../lib/basic-component-verification":12,"../lib/braintree-error":13,"../lib/create-assets-url":16,"../lib/create-deferred-client":18,"./errors":26,"./us-bank-account":28,"@braintree/wrap-promise":7}],28:[function(a,d,f){"use strict";var e=a("../lib/braintree-error"),s=a("./constants"),i=a("./errors"),r=a("../lib/errors"),t=a("../lib/analytics"),c=a("../lib/once"),o=a("../lib/convert-methods-to-error"),l=a("../lib/methods"),p=a("@braintree/wrap-promise"),v=E("UsBankAccount"),I=E("UsBankLogin");function R(A){this._client=A.client,this._isTokenizingBankLogin=!1,t.sendEvent(this._client,"usbankaccount.initialized")}R.prototype.tokenize=function(A){return A=A||{},A.mandateText?A.bankDetails&&A.bankLogin?Promise.reject(new e({type:i.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:i.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):A.bankDetails?this._tokenizeBankDetails(A):A.bankLogin?this._tokenizeBankLogin(A):Promise.reject(new e({type:i.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:i.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):Promise.reject(new e({type:i.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:i.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},R.prototype._tokenizeBankDetails=function(A){var _=this._client,g=A.bankDetails,m={achMandate:A.mandateText,routingNumber:g.routingNumber,accountNumber:g.accountNumber,accountType:g.accountType.toUpperCase(),billingAddress:h(g.billingAddress||{})};return y(m,g),_.request({api:"graphQLApi",data:{query:v,variables:{input:{usBankAccount:m}}}}).then(function(T){return t.sendEvent(_,"usbankaccount.bankdetails.tokenization.succeeded"),Promise.resolve(n(T,"tokenizeUsBankAccount"))}).catch(function(T){var b=N(T);return t.sendEvent(_,"usbankaccount.bankdetails.tokenization.failed"),Promise.reject(b)})},R.prototype._tokenizeBankLogin=function(A){var _=this,g=this._client,m=g.getConfiguration().gatewayConfiguration,T=m.environment==="production",b=m.usBankAccount.plaid;return A.bankLogin.displayName?b?this._isTokenizingBankLogin?Promise.reject(new e(i.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new Promise(function(O,S){_._loadPlaid(function(P,C){if(P){S(P);return}C.create({clientName:A.bankLogin.displayName,apiVersion:"v2",env:T?"production":"sandbox",key:b.publicKey,product:"auth",selectAccount:!0,onExit:function(){_._isTokenizingBankLogin=!1,t.sendEvent(g,"usbankaccount.banklogin.tokenization.closed.by-user"),S(new e(i.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(L,w){var D=A.bankLogin,U={publicToken:L,accountId:T?w.account_id:"plaid_account_id",accountType:w.account.subtype.toUpperCase(),achMandate:A.mandateText,billingAddress:h(D.billingAddress||{})};y(U,D),g.request({api:"graphQLApi",data:{query:I,variables:{input:{usBankLogin:U}}}}).then(function(B){_._isTokenizingBankLogin=!1,t.sendEvent(g,"usbankaccount.banklogin.tokenization.succeeded"),O(n(B,"tokenizeUsBankLogin"))}).catch(function(B){var V;_._isTokenizingBankLogin=!1,V=N(B),t.sendEvent(g,"usbankaccount.banklogin.tokenization.failed"),S(V)})}}).open(),t.sendEvent(g,"usbankaccount.banklogin.tokenization.started")})})):Promise.reject(new e(i.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):Promise.reject(new e({type:i.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:i.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))};function N(A){var _,g=A.details&&A.details.httpStatus;return g===401?_=new e(r.BRAINTREE_API_ACCESS_RESTRICTED):g<500?_=new e(i.US_BANK_ACCOUNT_FAILED_TOKENIZATION):_=new e(i.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR),_.details={originalError:A},_}function n(A,_){var g=A.data[_].paymentMethod,m=g.details.last4,T="US bank account ending in - "+m;return{nonce:g.id,details:{},description:T,type:"us_bank_account"}}R.prototype._loadPlaid=function(A){var _,g;if(A=c(A),window.Plaid){A(null,window.Plaid);return}_=document.querySelector('script[src="'+s.PLAID_LINK_JS+'"]'),_?u(_,A):(g=document.createElement("script"),g.src=s.PLAID_LINK_JS,g.async=!0,u(g,A),document.body.appendChild(g),this._plaidScript=g)};function u(A,_){function g(){var b=this.readyState;(!b||b==="loaded"||b==="complete")&&(T(),_(null,window.Plaid))}function m(){A.parentNode.removeChild(A),_(new e(i.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}function T(){A.removeEventListener("error",m),A.removeEventListener("load",g),A.removeEventListener("readystatechange",g)}A.addEventListener("error",m),A.addEventListener("load",g),A.addEventListener("readystatechange",g)}function h(A){return{streetAddress:A.streetAddress,extendedAddress:A.extendedAddress,city:A.locality,state:A.region,zipCode:A.postalCode}}function y(A,_){_.ownershipType==="personal"?A.individualOwner={firstName:_.firstName,lastName:_.lastName}:_.ownershipType==="business"&&(A.businessOwner={businessName:_.businessName})}function E(A){return"mutation Tokenize"+A+"($input: Tokenize"+A+"Input!) {  tokenize"+A+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}R.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),o(this,l(R.prototype)),Promise.resolve()},d.exports=p.wrapPrototype(R)},{"../lib/analytics":10,"../lib/braintree-error":13,"../lib/convert-methods-to-error":15,"../lib/errors":20,"../lib/methods":22,"../lib/once":23,"./constants":25,"./errors":26,"@braintree/wrap-promise":7}]},{},[27])(27)})})(Z,Z.exports);var de=Z.exports;const fe=W(de);var J={exports:{}},Oe=J.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function a(d,f,e){function s(t,c){if(!f[t]){if(!d[t]){var o=typeof x=="function"&&x;if(!c&&o)return o(t,!0);if(i)return i(t,!0);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}var p=f[t]={exports:{}};d[t][0].call(p.exports,function(v){var I=d[t][1][v];return s(I||v)},p,p.exports,a,d,f,e)}return f[t].exports}for(var i=typeof x=="function"&&x,r=0;r<e.length;r++)s(e[r]);return s}return a}()({1:[function(a,d,f){"use strict";var e=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.PromiseGlobal=void 0;var s=e(a("promise-polyfill")),i=typeof Promise<"u"?Promise:s.default;f.PromiseGlobal=i},{"promise-polyfill":8}],2:[function(a,d,f){"use strict";var e=a("./lib/promise"),s={};function i(r){var t,c=JSON.stringify(r);if(!r.forceScriptReload&&(t=s[c],t))return t;var o=document.createElement("script"),l=r.dataAttributes||{},p=r.container||document.head;return o.src=r.src,o.id=r.id||"",o.async=!0,r.crossorigin&&o.setAttribute("crossorigin",""+r.crossorigin),Object.keys(l).forEach(function(v){o.setAttribute("data-"+v,""+l[v])}),t=new e.PromiseGlobal(function(v,I){o.addEventListener("load",function(){v(o)}),o.addEventListener("error",function(){I(new Error(r.src+" failed to load."))}),o.addEventListener("abort",function(){I(new Error(r.src+" has aborted."))}),p.appendChild(o)}),s[c]=t,t}i.clearCache=function(){s={}},d.exports=i},{"./lib/promise":1}],3:[function(a,d,f){d.exports=a("./dist/load-script")},{"./dist/load-script":2}],4:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];setTimeout(function(){try{s.apply(void 0,i)}catch(t){console.log("Error in callback function"),console.log(t)}},1)}}f.deferred=e},{}],5:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){var i=!1;return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];i||(i=!0,s.apply(void 0,r))}}f.once=e},{}],6:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s,i){if(!i)return s;s.then(function(r){return i(null,r)}).catch(function(r){return i(r)})}f.promiseOrCallback=e},{}],7:[function(a,d,f){"use strict";var e=a("./lib/deferred"),s=a("./lib/once"),i=a("./lib/promise-or-callback");function r(t){return function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];var l,p=c[c.length-1];return typeof p=="function"&&(l=c.pop(),l=s.once(e.deferred(l))),i.promiseOrCallback(t.apply(this,c),l)}}r.wrapPrototype=function(t,c){c===void 0&&(c={});var o=c.ignoreMethods||[],l=c.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(t.prototype).filter(function(v){var I,R=v!=="constructor"&&typeof t.prototype[v]=="function",N=o.indexOf(v)===-1;return l?I=!0:I=v.charAt(0)!=="_",R&&I&&N});return p.forEach(function(v){var I=t.prototype[v];t.prototype[v]=r(I)}),t},d.exports=r},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(a,d,f){"use strict";function e(n){var u=this.constructor;return this.then(function(h){return u.resolve(n()).then(function(){return h})},function(h){return u.resolve(n()).then(function(){return u.reject(h)})})}function s(n){var u=this;return new u(function(h,y){if(!(n&&typeof n.length<"u"))return y(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(n);if(E.length===0)return h([]);var A=E.length;function _(m,T){if(T&&(typeof T=="object"||typeof T=="function")){var b=T.then;if(typeof b=="function"){b.call(T,function(O){_(m,O)},function(O){E[m]={status:"rejected",reason:O},--A===0&&h(E)});return}}E[m]={status:"fulfilled",value:T},--A===0&&h(E)}for(var g=0;g<E.length;g++)_(g,E[g])})}var i=setTimeout;function r(n){return!!(n&&typeof n.length<"u")}function t(){}function c(n,u){return function(){n.apply(u,arguments)}}function o(n){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],N(n,this)}function l(n,u){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(u);return}n._handled=!0,o._immediateFn(function(){var h=n._state===1?u.onFulfilled:u.onRejected;if(h===null){(n._state===1?p:v)(u.promise,n._value);return}var y;try{y=h(n._value)}catch(E){v(u.promise,E);return}p(u.promise,y)})}function p(n,u){try{if(u===n)throw new TypeError("A promise cannot be resolved with itself.");if(u&&(typeof u=="object"||typeof u=="function")){var h=u.then;if(u instanceof o){n._state=3,n._value=u,I(n);return}else if(typeof h=="function"){N(c(h,u),n);return}}n._state=1,n._value=u,I(n)}catch(y){v(n,y)}}function v(n,u){n._state=2,n._value=u,I(n)}function I(n){n._state===2&&n._deferreds.length===0&&o._immediateFn(function(){n._handled||o._unhandledRejectionFn(n._value)});for(var u=0,h=n._deferreds.length;u<h;u++)l(n,n._deferreds[u]);n._deferreds=null}function R(n,u,h){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof u=="function"?u:null,this.promise=h}function N(n,u){var h=!1;try{n(function(y){h||(h=!0,p(u,y))},function(y){h||(h=!0,v(u,y))})}catch(y){if(h)return;h=!0,v(u,y)}}o.prototype.catch=function(n){return this.then(null,n)},o.prototype.then=function(n,u){var h=new this.constructor(t);return l(this,new R(n,u,h)),h},o.prototype.finally=e,o.all=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(n);if(y.length===0)return u([]);var E=y.length;function A(g,m){try{if(m&&(typeof m=="object"||typeof m=="function")){var T=m.then;if(typeof T=="function"){T.call(m,function(b){A(g,b)},h);return}}y[g]=m,--E===0&&u(y)}catch(b){h(b)}}for(var _=0;_<y.length;_++)A(_,y[_])})},o.allSettled=s,o.resolve=function(n){return n&&typeof n=="object"&&n.constructor===o?n:new o(function(u){u(n)})},o.reject=function(n){return new o(function(u,h){h(n)})},o.race=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.race accepts an array"));for(var y=0,E=n.length;y<E;y++)o.resolve(n[y]).then(u,h)})},o._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){i(n,0)},o._unhandledRejectionFn=function(u){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",u)},d.exports=o},{}],9:[function(a,d,f){"use strict";var e=a("../lib/braintree-error");d.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:e.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:e.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:e.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":16}],10:[function(a,d,f){"use strict";var e=a("../lib/constants").FRAUDNET_FNCLS,s=a("../lib/constants").FRAUDNET_SOURCE,i=a("../lib/constants").FRAUDNET_URL,r=a("../lib/assets").loadScript,t;function c(N){var n=new l;return N=N||{},!N.sessionId&&t?(n.sessionId=t,Promise.resolve(n)):n.initialize(N)}function o(){t=null}function l(){}l.prototype.initialize=function(N){var n=N.environment,u=this;return this.sessionId=N.sessionId||v(),N.sessionId||(t=this.sessionId),this._beaconId=I(this.sessionId),this._parameterBlock=R(this.sessionId,this._beaconId,n),r({src:i}).then(function(h){return u._thirdPartyBlock=h,u}).catch(function(){return null})},l.prototype.teardown=function(){p(document.querySelector('iframe[title="ppfniframe"]')),p(document.querySelector('iframe[title="pbf"]')),p(this._parameterBlock),p(this._thirdPartyBlock)};function p(N){N&&N.parentNode&&N.parentNode.removeChild(N)}function v(){var N,n="";for(N=0;N<32;N++)n+=Math.floor(Math.random()*16).toString(16);return n}function I(N){var n=new Date().getTime()/1e3;return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+N+"&t="+n+"&a=14"}function R(N,n,u){var h=document.body.appendChild(document.createElement("script")),y={f:N,s,b:n};return u!=="production"&&(y.sandbox=!0),h.type="application/json",h.setAttribute("fncls",e),h.text=JSON.stringify(y),h}d.exports={setup:c,clearSessionIdCache:o}},{"../lib/assets":14,"../lib/constants":18}],11:[function(a,d,f){"use strict";var e=a("./kount"),s=a("./fraudnet"),i=a("../lib/braintree-error"),r=a("../lib/basic-component-verification"),t=a("../lib/create-deferred-client"),c=a("../lib/create-assets-url"),o=a("../lib/methods"),l=a("../lib/convert-methods-to-error"),p="3.96.1",v=a("@braintree/wrap-promise"),I=a("./errors");function R(u){var h="Data Collector",y={_instances:[]},E;return r.verify({name:h,client:u.client,authorization:u.authorization}).then(function(){return y._instantiatedWithAClient=!u.useDeferredClient,y._createPromise=t.create({authorization:u.authorization,client:u.client,debug:u.debug,assetsUrl:c.create(u.authorization),name:h}).then(function(A){var _,g=A.getConfiguration();if(u.kount===!0&&g.gatewayConfiguration.kount){try{_=e.setup({environment:g.gatewayConfiguration.environment,merchantId:g.gatewayConfiguration.kount.kountMerchantId})}catch(m){return Promise.reject(new i({type:I.DATA_COLLECTOR_KOUNT_ERROR.type,code:I.DATA_COLLECTOR_KOUNT_ERROR.code,message:m.message}))}E=_.deviceData,y._instances.push(_)}else E={};return Promise.resolve(A)}).then(function(A){return s.setup({sessionId:u.riskCorrelationId||u.clientMetadataId||u.correlationId,environment:A.getConfiguration().gatewayConfiguration.environment}).then(function(_){_&&(E.correlation_id=_.sessionId,y._instances.push(_))})}).then(function(){return y._instances.length===0?Promise.reject(new i(I.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(y.deviceData=JSON.stringify(E),y.rawDeviceData=E,y)}),y.teardown=N(y),y.getDeviceData=n(y),y._instantiatedWithAClient?y._createPromise:y})}function N(u){return v(function(){return u._createPromise.then(function(){u._instances.forEach(function(y){y&&y.teardown()}),l(u,o(u))})})}function n(u){return v(function(y){return y=y||{},u._createPromise.then(function(){return y.raw?Promise.resolve(u.rawDeviceData):Promise.resolve(u.deviceData)})})}d.exports={create:v(R),VERSION:p}},{"../lib/basic-component-verification":15,"../lib/braintree-error":16,"../lib/convert-methods-to-error":19,"../lib/create-assets-url":20,"../lib/create-deferred-client":21,"../lib/methods":24,"./errors":9,"./fraudnet":10,"./kount":12,"@braintree/wrap-promise":7}],12:[function(a,d,f){"use strict";var e=a("./vendor/sjcl"),s=a("../lib/camel-case-to-snake-case"),i="https://assets.qa.braintreepayments.com/data",r="braintreeDataFrame-",t={development:i,qa:i,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},c={};function o(p){var v=p??{};return new l(v)}function l(p){var v=l.getCachedDeviceData(p.merchantId);if(v){this.deviceData=v,this._isCached=!0;return}this._currentEnvironment=this._initializeEnvironment(p),e.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),l.setCachedDeviceData(p.merchantId,this.deviceData),this._iframe=this._setupIFrame()}l.getCachedDeviceData=function(p){return c[p]},l.setCachedDeviceData=function(p,v){c[p]=v},l.prototype.teardown=function(){this._isCached||(e.random.stopCollectors(),this._removeIframe())},l.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},l.prototype._getDeviceData=function(){return s({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},l.prototype._generateDeviceSessionId=function(){var p,v;return p=e.random.randomWords(4,0),v=e.codec.hex.fromBits(p),v},l.prototype._setupIFrame=function(){var p,v,I=this;return p="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,v=document.createElement("iframe"),v.width=1,v.id=r+this._deviceSessionId,v.height=1,v.frameBorder=0,v.scrolling="no",v.style.position="fixed",v.style.left="-999999px",v.style.top="-999999px",v.title="Braintree-Kount-iframe",v.setAttribute("aria-hidden","true"),document.body.appendChild(v),setTimeout(function(){v.src=I._currentEnvironment.url+"/logo.htm"+p,v.innerHTML='<img src="'+I._currentEnvironment.url+"/logo.gif"+p+'" alt="" />'},10),v},l.prototype._initializeEnvironment=function(p){var v=t[p.environment];if(v==null)throw new Error(p.environment+" is not a valid environment for kount.environment");return{url:v,name:p.environment,id:p.merchantId}},d.exports={setup:o,Kount:l,environmentUrls:t}},{"../lib/camel-case-to-snake-case":17,"./vendor/sjcl":13}],13:[function(a,d,f){"use strict";var e={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(n){this.toString=function(){return"CORRUPT: "+this.message},this.message=n},invalid:function(n){this.toString=function(){return"INVALID: "+this.message},this.message=n},bug:function(n){this.toString=function(){return"BUG: "+this.message},this.message=n},notReady:function(n){this.toString=function(){return"NOT READY: "+this.message},this.message=n}}};e.cipher.aes=function(n){this.l[0][0][0]||this.G();var u,h,y,E,A=this.l[0][4],_=this.l[1];u=n.length;var g=1;if(u!==4&&u!==6&&u!==8)throw new e.exception.invalid("invalid aes key size");for(this.b=[y=n.slice(0),E=[]],n=u;n<4*u+28;n++)h=y[n-1],(n%u===0||u===8&&n%u===4)&&(h=A[h>>>24]<<24^A[h>>16&255]<<16^A[h>>8&255]<<8^A[h&255],n%u===0&&(h=h<<8^h>>>24^g<<24,g=g<<1^283*(g>>7))),y[n]=y[n-u]^h;for(u=0;n;u++,n--)h=y[u&3?n:n-4],E[u]=4>=n||4>u?h:_[0][A[h>>>24]]^_[1][A[h>>16&255]]^_[2][A[h>>8&255]]^_[3][A[h&255]]},e.cipher.aes.prototype={encrypt:function(n){return s(this,n,0)},decrypt:function(n){return s(this,n,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var n=this.l[0],u=this.l[1],h=n[4],y=u[4],E,A,_,g=[],m=[],T,b,O,S;for(E=0;256>E;E++)m[(g[E]=E<<1^283*(E>>7))^E]=E;for(A=_=0;!h[A];A^=T||1,_=m[_]||1)for(O=_^_<<1^_<<2^_<<3^_<<4,O=O>>8^O&255^99,h[A]=O,y[O]=A,b=g[E=g[T=g[A]]],S=16843009*b^65537*E^257*T^16843008*A,b=257*g[O]^16843008*O,E=0;4>E;E++)n[E][A]=b=b<<24^b>>>8,u[E][O]=S=S<<24^S>>>8;for(E=0;5>E;E++)n[E]=n[E].slice(0),u[E]=u[E].slice(0)}};function s(n,u,h){if(u.length!==4)throw new e.exception.invalid("invalid aes block size");var y=n.b[h],E=u[0]^y[0],A=u[h?3:1]^y[1],_=u[2]^y[2];u=u[h?1:3]^y[3];var g,m,T,b=y.length/4-2,O,S=4,P=[0,0,0,0];g=n.l[h],n=g[0];var C=g[1],L=g[2],w=g[3],D=g[4];for(O=0;O<b;O++)g=n[E>>>24]^C[A>>16&255]^L[_>>8&255]^w[u&255]^y[S],m=n[A>>>24]^C[_>>16&255]^L[u>>8&255]^w[E&255]^y[S+1],T=n[_>>>24]^C[u>>16&255]^L[E>>8&255]^w[A&255]^y[S+2],u=n[u>>>24]^C[E>>16&255]^L[A>>8&255]^w[_&255]^y[S+3],S+=4,E=g,A=m,_=T;for(O=0;4>O;O++)P[h?3&-O:O]=D[E>>>24]<<24^D[A>>16&255]<<16^D[_>>8&255]<<8^D[u&255]^y[S++],g=E,E=A,A=_,_=u,u=g;return P}e.bitArray={bitSlice:function(n,u,h){return n=e.bitArray.M(n.slice(u/32),32-(u&31)).slice(1),h===void 0?n:e.bitArray.clamp(n,h-u)},extract:function(n,u,h){var y=Math.floor(-u-h&31);return((u+h-1^u)&-32?n[u/32|0]<<32-y^n[u/32+1|0]>>>y:n[u/32|0]>>>y)&(1<<h)-1},concat:function(n,u){if(n.length===0||u.length===0)return n.concat(u);var h=n[n.length-1],y=e.bitArray.getPartial(h);return y===32?n.concat(u):e.bitArray.M(u,y,h|0,n.slice(0,n.length-1))},bitLength:function(n){var u=n.length;return u===0?0:32*(u-1)+e.bitArray.getPartial(n[u-1])},clamp:function(n,u){if(32*n.length<u)return n;n=n.slice(0,Math.ceil(u/32));var h=n.length;return u=u&31,0<h&&u&&(n[h-1]=e.bitArray.partial(u,n[h-1]&2147483648>>u-1,1)),n},partial:function(n,u,h){return n===32?u:(h?u|0:u<<32-n)+1099511627776*n},getPartial:function(n){return Math.round(n/1099511627776)||32},equal:function(n,u){if(e.bitArray.bitLength(n)!==e.bitArray.bitLength(u))return!1;var h=0,y;for(y=0;y<n.length;y++)h|=n[y]^u[y];return h===0},M:function(n,u,h,y){var E;for(E=0,y===void 0&&(y=[]);32<=u;u-=32)y.push(h),h=0;if(u===0)return y.concat(n);for(E=0;E<n.length;E++)y.push(h|n[E]>>>u),h=n[E]<<32-u;return E=n.length?n[n.length-1]:0,n=e.bitArray.getPartial(E),y.push(e.bitArray.partial(u+n&31,32<u+n?h:y.pop(),1)),y},Y:function(n,u){return[n[0]^u[0],n[1]^u[1],n[2]^u[2],n[3]^u[3]]},byteswapM:function(n){var u,h;for(u=0;u<n.length;++u)h=n[u],n[u]=h>>>24|h>>>8&65280|(h&65280)<<8|h<<24;return n}},e.codec.utf8String={fromBits:function(n){var u="",h=e.bitArray.bitLength(n),y,E;for(y=0;y<h/8;y++)!(y&3)&&(E=n[y/4]),u+=String.fromCharCode(E>>>8>>>8>>>8),E<<=8;return decodeURIComponent(escape(u))},toBits:function(n){n=unescape(encodeURIComponent(n));var u=[],h,y=0;for(h=0;h<n.length;h++)y=y<<8|n.charCodeAt(h),(h&3)===3&&(u.push(y),y=0);return h&3&&u.push(e.bitArray.partial(8*(h&3),y)),u}},e.codec.hex={fromBits:function(n){var u="",h;for(h=0;h<n.length;h++)u+=((n[h]|0)+0xf00000000000).toString(16).substr(4);return u.substr(0,e.bitArray.bitLength(n)/4)},toBits:function(n){var u,h=[],y;for(n=n.replace(/\s|0x/g,""),y=n.length,n=n+"00000000",u=0;u<n.length;u+=8)h.push(parseInt(n.substr(u,8),16)^0);return e.bitArray.clamp(h,4*y)}},e.hash.sha256=function(n){this.b[0]||this.G(),n?(this.u=n.u.slice(0),this.o=n.o.slice(0),this.h=n.h):this.reset()},e.hash.sha256.hash=function(n){return new e.hash.sha256().update(n).finalize()},e.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(n){typeof n=="string"&&(n=e.codec.utf8String.toBits(n));var u,h=this.o=e.bitArray.concat(this.o,n);if(u=this.h,n=this.h=u+e.bitArray.bitLength(n),9007199254740991<n)throw new e.exception.invalid("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array<"u"){var y=new Uint32Array(h),E=0;for(u=512+u-(512+u&511);u<=n;u+=512)i(this,y.subarray(16*E,16*(E+1))),E+=1;h.splice(0,16*E)}else for(u=512+u-(512+u&511);u<=n;u+=512)i(this,h.splice(0,16));return this},finalize:function(){var n,h=this.o,u=this.u,h=e.bitArray.concat(h,[e.bitArray.partial(1,1)]);for(n=h.length+2;n&15;n++)h.push(0);for(h.push(Math.floor(this.h/4294967296)),h.push(this.h|0);h.length;)i(this,h.splice(0,16));return this.reset(),u},K:[],b:[],G:function(){function n(A){return 4294967296*(A-Math.floor(A))|0}for(var u=0,h=2,y,E;64>u;h++){for(E=!0,y=2;y*y<=h;y++)if(h%y===0){E=!1;break}E&&(8>u&&(this.K[u]=n(Math.pow(h,.5))),this.b[u]=n(Math.pow(h,1/3)),u++)}}};function i(n,u){var h,y,E,A=n.u,_=n.b,g=A[0],m=A[1],T=A[2],b=A[3],O=A[4],S=A[5],P=A[6],C=A[7];for(h=0;64>h;h++)16>h?y=u[h]:(y=u[h+1&15],E=u[h+14&15],y=u[h&15]=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+u[h&15]+u[h+9&15]|0),y=y+C+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(S^P))+_[h],C=P,P=S,S=O,O=b+y|0,b=T,T=m,m=g,g=y+(m&T^b&(m^T))+(m>>>2^m>>>13^m>>>22^m<<30^m<<19^m<<10)|0;A[0]=A[0]+g|0,A[1]=A[1]+m|0,A[2]=A[2]+T|0,A[3]=A[3]+b|0,A[4]=A[4]+O|0,A[5]=A[5]+S|0,A[6]=A[6]+P|0,A[7]=A[7]+C|0}e.prng=function(n){this.c=[new e.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=n,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},e.prng.prototype={randomWords:function(n,u){var h=[],y;y=this.isReady(u);var E;if(y===this.m)throw new e.exception.notReady("generator isn't seeded");if(y&this.A){y=!(y&this.w),E=[];var A=0,_;for(this.L=E[0]=new Date().valueOf()+this.P,_=0;16>_;_++)E.push(4294967296*Math.random()|0);for(_=0;_<this.c.length&&(E=E.concat(this.c[_].finalize()),A+=this.i[_],this.i[_]=0,y||!(this.H&1<<_));_++);for(this.H>=1<<this.c.length&&(this.c.push(new e.hash.sha256),this.i.push(0)),this.f-=A,A>this.j&&(this.j=A),this.H++,this.b=e.hash.sha256.hash(this.b.concat(E)),this.C=new e.cipher.aes(this.b),y=0;4>y&&(this.g[y]=this.g[y]+1|0,!this.g[y]);y++);}for(y=0;y<n;y+=4)(y+1)%this.O===0&&c(this),E=o(this),h.push(E[0],E[1],E[2],E[3]);return c(this),h.slice(0,n)},setDefaultParanoia:function(n,u){if(n===0&&u!=="Setting paranoia=0 will ruin your security; use it only for testing")throw new e.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=n},addEntropy:function(n,u,h){h=h||"user";var y,E,A=new Date().valueOf(),_=this.v[h],g=this.isReady(),m=0;switch(y=this.J[h],y===void 0&&(y=this.J[h]=this.T++),_===void 0&&(_=this.v[h]=0),this.v[h]=(this.v[h]+1)%this.c.length,typeof n){case"number":u===void 0&&(u=1),this.c[_].update([y,this.F++,1,u,A,1,n|0]);break;case"object":if(h=Object.prototype.toString.call(n),h==="[object Uint32Array]"){for(E=[],h=0;h<n.length;h++)E.push(n[h]);n=E}else for(h!=="[object Array]"&&(m=1),h=0;h<n.length&&!m;h++)typeof n[h]!="number"&&(m=1);if(!m){if(u===void 0)for(h=u=0;h<n.length;h++)for(E=n[h];0<E;)u++,E=E>>>1;this.c[_].update([y,this.F++,2,u,A,n.length].concat(n))}break;case"string":u===void 0&&(u=n.length),this.c[_].update([y,this.F++,3,u,A,n.length]),this.c[_].update(n);break;default:m=1}if(m)throw new e.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[_]+=u,this.f+=u,g===this.m&&(this.isReady()!==this.m&&r("seeded",Math.max(this.j,this.f)),r("progress",this.getProgress()))},isReady:function(n){return n=this.I[n!==void 0?n:this.D],this.j&&this.j>=n?this.i[0]>this.N&&new Date().valueOf()>this.L?this.A|this.w:this.w:this.f>=n?this.A|this.m:this.m},getProgress:function(n){return n=this.I[n||this.D],this.j>=n||this.f>n?1:this.f/n},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:l(this,this.V),mouseCollector:l(this,this.W),keyboardCollector:l(this,this.U),accelerometerCollector:l(this,this.R),touchCollector:l(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new e.exception.bug("can't attach event");this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(n,u){this.B[n][this.S++]=u},removeEventListener:function(n,u){var h,y,E=this.B[n],A=[];for(y in E)E.hasOwnProperty(y)&&E[y]===u&&A.push(y);for(h=0;h<A.length;h++)y=A[h],delete E[y]},U:function(){t(this,1)},W:function(n){var u,h;try{u=n.x||n.clientX||n.offsetX||0,h=n.y||n.clientY||n.offsetY||0}catch{h=u=0}u!=0&&h!=0&&this.addEntropy([u,h],2,"mouse"),t(this,0)},X:function(n){n=n.touches[0]||n.changedTouches[0],this.addEntropy([n.pageX||n.clientX,n.pageY||n.clientY],1,"touch"),t(this,0)},V:function(){t(this,2)},R:function(n){if(n=n.accelerationIncludingGravity.x||n.accelerationIncludingGravity.y||n.accelerationIncludingGravity.z,window.orientation){var u=window.orientation;typeof u=="number"&&this.addEntropy(u,1,"accelerometer")}n&&this.addEntropy(n,2,"accelerometer"),t(this,0)}};function r(n,u){var h,y=e.random.B[n],E=[];for(h in y)y.hasOwnProperty(h)&&E.push(y[h]);for(h=0;h<E.length;h++)E[h](u)}function t(n,u){typeof window<"u"&&window.performance&&typeof window.performance.now=="function"?n.addEntropy(window.performance.now(),u,"loadtime"):n.addEntropy(new Date().valueOf(),u,"loadtime")}function c(n){n.b=o(n).concat(o(n)),n.C=new e.cipher.aes(n.b)}function o(n){for(var u=0;4>u&&(n.g[u]=n.g[u]+1|0,!n.g[u]);u++);return n.C.encrypt(n.g)}function l(n,u){return function(){u.apply(n,arguments)}}e.random=new e.prng(6);e:try{var p,v,I,R;if(R=typeof d<"u"&&d.exports){var N;try{N=a("crypto")}catch{N=null}R=v=N}if(R&&v.randomBytes)p=v.randomBytes(128),p=new Uint32Array(new Uint8Array(p).buffer),e.random.addEntropy(p,1024,"crypto['randomBytes']");else if(typeof window<"u"&&typeof Uint32Array<"u"){if(I=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(I);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(I);else break e;e.random.addEntropy(I,1024,"crypto['getRandomValues']")}}catch(n){typeof window<"u"&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(n))}typeof d<"u"&&d.exports&&(d.exports=e),typeof F=="function"&&F([],function(){return e})},{crypto:void 0}],14:[function(a,d,f){"use strict";var e=a("@braintree/asset-loader/load-script");d.exports={loadScript:e}},{"@braintree/asset-loader/load-script":3}],15:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./errors"),i="3.96.1";function r(t){var c,o,l;return t?(l=t.name,c=t.client,o=t.authorization,!c&&!o?Promise.reject(new e({type:s.INSTANTIATION_OPTION_REQUIRED.type,code:s.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!o&&c.getVersion()!==i?Promise.reject(new e({type:s.INCOMPATIBLE_VERSIONS.type,code:s.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+c.getVersion()+") and "+l+" (version "+i+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new e({type:s.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:s.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:r}},{"./braintree-error":16,"./errors":23}],16:[function(a,d,f){"use strict";var e=a("./enumerate");function s(i){if(!s.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.types=e(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),s.findRootError=function(i){return i instanceof s&&i.details&&i.details.originalError?s.findRootError(i.details.originalError):i},d.exports=s},{"./enumerate":22}],17:[function(a,d,f){"use strict";function e(s){return s.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}d.exports=function(s){return Object.keys(s).reduce(function(i,r){var t=e(r);return i[t]=s[r],i},{})}},{}],18:[function(a,d,f){"use strict";var e="3.96.1",s="web",i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},r={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},t={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:s+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:r,CLIENT_API_URLS:i,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:t,INTEGRATION_TIMEOUT_MS:6e4,VERSION:e,INTEGRATION:"custom",SOURCE:"client",PLATFORM:s,BRAINTREE_LIBRARY_VERSION:"braintree/"+s+"/"+e}},{}],19:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./errors");d.exports=function(i,r){r.forEach(function(t){i[t]=function(){throw new e({type:s.METHOD_CALLED_AFTER_TEARDOWN.type,code:s.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"./braintree-error":16,"./errors":23}],20:[function(a,d,f){"use strict";var e=a("./constants").ASSETS_URLS;function s(i){return e.production}d.exports={create:s}},{"./constants":18}],21:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./assets"),i=a("./errors"),r="3.96.1";function t(c){var o=Promise.resolve();return c.client?Promise.resolve(c.client):(window.braintree&&window.braintree.client||(o=s.loadScript({src:c.assetsUrl+"/web/"+r+"/js/client.min.js"}).catch(function(l){return Promise.reject(new e({type:i.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:i.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:i.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),o.then(function(){return window.braintree.client.VERSION!==r?Promise.reject(new e({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+c.name+" (version "+r+") components must be from the same SDK version."})):window.braintree.client.create({authorization:c.authorization,debug:c.debug})}))}d.exports={create:t}},{"./assets":14,"./braintree-error":16,"./errors":23}],22:[function(a,d,f){"use strict";function e(s,i){return i=i??"",s.reduce(function(r,t){return r[t]=i+t,r},{})}d.exports=e},{}],23:[function(a,d,f){"use strict";var e=a("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:e.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:e.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:e.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:e.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:e.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":16}],24:[function(a,d,f){"use strict";d.exports=function(e){return Object.keys(e).filter(function(s){return typeof e[s]=="function"})}},{}]},{},[11])(11)})})(J,J.exports);var pe=J.exports;const he=W(pe);var q={exports:{}},Re=q.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function a(d,f,e){function s(t,c){if(!f[t]){if(!d[t]){var o=typeof x=="function"&&x;if(!c&&o)return o(t,!0);if(i)return i(t,!0);var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}var p=f[t]={exports:{}};d[t][0].call(p.exports,function(v){var I=d[t][1][v];return s(I||v)},p,p.exports,a,d,f,e)}return f[t].exports}for(var i=typeof x=="function"&&x,r=0;r<e.length;r++)s(e[r]);return s}return a}()({1:[function(a,d,f){"use strict";var e=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.PromiseGlobal=void 0;var s=e(a("promise-polyfill")),i=typeof Promise<"u"?Promise:s.default;f.PromiseGlobal=i},{"promise-polyfill":32}],2:[function(a,d,f){"use strict";var e=a("./lib/promise"),s={};function i(r){var t,c=JSON.stringify(r);if(!r.forceScriptReload&&(t=s[c],t))return t;var o=document.createElement("script"),l=r.dataAttributes||{},p=r.container||document.head;return o.src=r.src,o.id=r.id||"",o.async=!0,r.crossorigin&&o.setAttribute("crossorigin",""+r.crossorigin),Object.keys(l).forEach(function(v){o.setAttribute("data-"+v,""+l[v])}),t=new e.PromiseGlobal(function(v,I){o.addEventListener("load",function(){v(o)}),o.addEventListener("error",function(){I(new Error(r.src+" failed to load."))}),o.addEventListener("abort",function(){I(new Error(r.src+" has aborted."))}),p.appendChild(o)}),s[c]=t,t}i.clearCache=function(){s={}},d.exports=i},{"./lib/promise":1}],3:[function(a,d,f){d.exports=a("./dist/load-script")},{"./dist/load-script":2}],4:[function(a,d,f){"use strict";var e=function(){function s(){this._events={}}return s.prototype.on=function(i,r){this._events[i]?this._events[i].push(r):this._events[i]=[r]},s.prototype.off=function(i,r){var t=this._events[i];if(t){var c=t.indexOf(r);t.splice(c,1)}},s.prototype._emit=function(i){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var c=this._events[i];c&&c.forEach(function(o){o.apply(void 0,r)})},s.prototype.hasListener=function(i){var r=this._events[i];return r?r.length>0:!1},s.createChild=function(i){i.prototype=Object.create(s.prototype,{constructor:i})},s}();d.exports=e},{}],5:[function(a,d,f){"use strict";var e=typeof Promise<"u"?Promise:null,s=function(){function i(r){var t=this;if(typeof r=="function"){this._promise=new i.Promise(r);return}this._promise=new i.Promise(function(c,o){t._resolveFunction=c,t._rejectFunction=o}),r=r||{},this._onResolve=r.onResolve||i.defaultOnResolve,this._onReject=r.onReject||i.defaultOnReject,i.shouldCatchExceptions(r)&&this._promise.catch(function(){}),this._resetState()}return i.defaultOnResolve=function(r){return i.Promise.resolve(r)},i.defaultOnReject=function(r){return i.Promise.reject(r)},i.setPromise=function(r){i.Promise=r},i.shouldCatchExceptions=function(r){return r.hasOwnProperty("suppressUnhandledPromiseMessage")?!!r.suppressUnhandledPromiseMessage:!!i.suppressUnhandledPromiseMessage},i.all=function(r){return i.Promise.all(r)},i.allSettled=function(r){return i.Promise.allSettled(r)},i.race=function(r){return i.Promise.race(r)},i.reject=function(r){return i.Promise.reject(r)},i.resolve=function(r){return i.Promise.resolve(r)},i.prototype.then=function(){for(var r,t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];return(r=this._promise).then.apply(r,t)},i.prototype.catch=function(){for(var r,t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];return(r=this._promise).catch.apply(r,t)},i.prototype.resolve=function(r){var t=this;return this.isFulfilled?this:(this._setResolved(),i.Promise.resolve().then(function(){return t._onResolve(r)}).then(function(c){t._resolveFunction(c)}).catch(function(c){t._resetState(),t.reject(c)}),this)},i.prototype.reject=function(r){var t=this;return this.isFulfilled?this:(this._setRejected(),i.Promise.resolve().then(function(){return t._onReject(r)}).then(function(c){t._setResolved(),t._resolveFunction(c)}).catch(function(c){return t._rejectFunction(c)}),this)},i.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},i.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},i.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},i.Promise=e,i}();d.exports=s},{}],6:[function(a,d,f){"use strict";var e=a("./lib/set-attributes"),s=a("./lib/default-attributes"),i=a("./lib/assign");d.exports=function(t){t===void 0&&(t={});var c=document.createElement("iframe"),o=i.assign({},s.defaultAttributes,t);return o.style&&typeof o.style!="string"&&(i.assign(c.style,o.style),delete o.style),e.setAttributes(c,o),c.getAttribute("id")||(c.id=c.name),c}},{"./lib/assign":7,"./lib/default-attributes":8,"./lib/set-attributes":9}],7:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.assign=void 0;function e(s){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return i.forEach(function(t){typeof t=="object"&&Object.keys(t).forEach(function(c){s[c]=t[c]})}),s}f.assign=e},{}],8:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.defaultAttributes=void 0,f.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],9:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.setAttributes=void 0;function e(s,i){for(var r in i)if(i.hasOwnProperty(r)){var t=i[r];t==null?s.removeAttribute(r):s.setAttribute(r,t)}}f.setAttributes=e},{}],10:[function(a,d,f){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var i=Math.random()*16|0,r=s==="x"?i:i&3|8;return r.toString(16)})}d.exports=e},{}],11:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];setTimeout(function(){try{s.apply(void 0,i)}catch(t){console.log("Error in callback function"),console.log(t)}},1)}}f.deferred=e},{}],12:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s){var i=!1;return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];i||(i=!0,s.apply(void 0,r))}}f.once=e},{}],13:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0});function e(s,i){if(!i)return s;s.then(function(r){return i(null,r)}).catch(function(r){return i(r)})}f.promiseOrCallback=e},{}],14:[function(a,d,f){"use strict";var e=a("./lib/deferred"),s=a("./lib/once"),i=a("./lib/promise-or-callback");function r(t){return function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];var l,p=c[c.length-1];return typeof p=="function"&&(l=c.pop(),l=s.once(e.deferred(l))),i.promiseOrCallback(t.apply(this,c),l)}}r.wrapPrototype=function(t,c){c===void 0&&(c={});var o=c.ignoreMethods||[],l=c.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(t.prototype).filter(function(v){var I,R=v!=="constructor"&&typeof t.prototype[v]=="function",N=o.indexOf(v)===-1;return l?I=!0:I=v.charAt(0)!=="_",R&&I&&N});return p.forEach(function(v){var I=t.prototype[v];t.prototype[v]=r(I)}),t},d.exports=r},{"./lib/deferred":11,"./lib/once":12,"./lib/promise-or-callback":13}],15:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Framebus=void 0;var e=a("./lib"),s=typeof window<"u"&&window.Promise,i=function(){function r(t){t===void 0&&(t={}),this.origin=t.origin||"*",this.channel=t.channel||"",this.verifyDomain=t.verifyDomain,this.targetFrames=t.targetFrames||[],this.limitBroadcastToFramesArray=!!t.targetFrames,this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=!!(this.verifyDomain||this.limitBroadcastToFramesArray)}return r.setPromise=function(t){r.Promise=t},r.target=function(t){return new r(t)},r.prototype.addTargetFrame=function(t){this.limitBroadcastToFramesArray&&this.targetFrames.push(t)},r.prototype.include=function(t){return t==null||t.Window==null||t.constructor!==t.Window?!1:(e.childWindows.push(t),!0)},r.prototype.target=function(t){return r.target(t)},r.prototype.emit=function(t,c,o){if(this.isDestroyed)return!1;var l=this.origin;if(t=this.namespaceEvent(t),(0,e.isntString)(t)||(0,e.isntString)(l))return!1;typeof c=="function"&&(o=c,c=void 0);var p=(0,e.packagePayload)(t,l,c,o);return p?(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(v){(0,e.sendMessage)(v,p,l)}):(0,e.broadcast)(p,{origin:l,frame:window.top||window.self}),!0):!1},r.prototype.emitAsPromise=function(t,c){var o=this;return new r.Promise(function(l,p){var v=o.emit(t,c,function(I){l(I)});v||p(new Error('Listener not added for "'.concat(t,'"')))})},r.prototype.on=function(t,c){if(this.isDestroyed)return!1;var o=this,l=this.origin,p=c;return t=this.namespaceEvent(t),(0,e.subscriptionArgsInvalid)(t,p,l)?!1:(this.hasAdditionalChecksForOnListeners&&(p=function(){for(var v=[],I=0;I<arguments.length;I++)v[I]=arguments[I];o.passesVerifyDomainCheck(this&&this.origin)&&o.hasMatchingTargetFrame(this&&this.source)&&c.apply(void 0,v)}),this.listeners.push({eventName:t,handler:p,originalHandler:c}),e.subscribers[l]=e.subscribers[l]||{},e.subscribers[l][t]=e.subscribers[l][t]||[],e.subscribers[l][t].push(p),!0)},r.prototype.off=function(t,c){var o=c;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var l=0;l<this.listeners.length;l++){var p=this.listeners[l];p.originalHandler===c&&(o=p.handler)}t=this.namespaceEvent(t);var v=this.origin;if((0,e.subscriptionArgsInvalid)(t,o,v))return!1;var I=e.subscribers[v]&&e.subscribers[v][t];if(!I)return!1;for(var l=0;l<I.length;l++)if(I[l]===o)return I.splice(l,1),!0;return!1},r.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var t=0;t<this.listeners.length;t++){var c=this.listeners[t];this.off(c.eventName,c.handler)}this.listeners.length=0}},r.prototype.passesVerifyDomainCheck=function(t){return this.verifyDomain?this.checkOrigin(t):!0},r.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(t){return t instanceof HTMLIFrameElement?t.contentWindow:t}).filter(function(t){return t}):[]},r.prototype.hasMatchingTargetFrame=function(t){if(!this.limitBroadcastToFramesArray)return!0;var c=this.targetFramesAsWindows().find(function(o){return o===t});return!!c},r.prototype.checkOrigin=function(t){var c,o=document.createElement("a");o.href=location.href,o.protocol==="https:"?c=o.host.replace(/:443$/,""):o.protocol==="http:"?c=o.host.replace(/:80$/,""):c=o.host;var l=o.protocol+"//"+c;return l===t?!0:this.verifyDomain?this.verifyDomain(t):!0},r.prototype.namespaceEvent=function(t){return this.channel?"".concat(this.channel,":").concat(t):t},r.Promise=s,r}();f.Framebus=i},{"./lib":23}],16:[function(a,d,f){"use strict";var e=a("./lib"),s=a("./framebus");(0,e.attach)(),d.exports=s.Framebus},{"./framebus":15,"./lib":23}],17:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.detach=f.attach=void 0;var e=a("./"),s=!1;function i(){s||typeof window>"u"||(s=!0,window.addEventListener("message",e.onMessage,!1))}f.attach=i;function r(){s=!1,window.removeEventListener("message",e.onMessage,!1)}f.detach=r},{"./":23}],18:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.broadcastToChildWindows=void 0;var e=a("./");function s(i,r,t){for(var c=e.childWindows.length-1;c>=0;c--){var o=e.childWindows[c];o.closed?e.childWindows.splice(c,1):t!==o&&(0,e.broadcast)(i,{origin:r,frame:o.top})}}f.broadcastToChildWindows=s},{"./":23}],19:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.broadcast=void 0;var e=a("./");function s(i,r){var t=0,c,o=r.origin,l=r.frame;try{for(l.postMessage(i,o),(0,e.hasOpener)(l)&&l.opener.top!==window.top&&s(i,{origin:o,frame:l.opener.top});c=l.frames[t];)s(i,{origin:o,frame:c}),t++}catch{}}f.broadcast=s},{"./":23}],20:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.subscribers=f.childWindows=f.prefix=void 0,f.prefix="/*framebus*/",f.childWindows=[],f.subscribers={}},{}],21:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.dispatch=void 0;var e=a("./");function s(i,r,t,c,o){if(e.subscribers[i]&&e.subscribers[i][r]){var l=[];t&&l.push(t),c&&l.push(c);for(var p=0;p<e.subscribers[i][r].length;p++)e.subscribers[i][r][p].apply(o,l)}}f.dispatch=s},{"./":23}],22:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.hasOpener=void 0;function e(s){return!(s.top!==s||s.opener==null||s.opener===s||s.opener.closed===!0)}f.hasOpener=e},{}],23:[function(a,d,f){"use strict";var e=this&&this.__createBinding||(Object.create?function(i,r,t,c){c===void 0&&(c=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(i,c,o)}:function(i,r,t,c){c===void 0&&(c=t),i[c]=r[t]}),s=this&&this.__exportStar||function(i,r){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&e(r,i,t)};Object.defineProperty(f,"__esModule",{value:!0}),s(a("./attach"),f),s(a("./broadcast-to-child-windows"),f),s(a("./broadcast"),f),s(a("./constants"),f),s(a("./dispatch"),f),s(a("./has-opener"),f),s(a("./is-not-string"),f),s(a("./message"),f),s(a("./package-payload"),f),s(a("./send-message"),f),s(a("./subscribe-replier"),f),s(a("./subscription-args-invalid"),f),s(a("./types"),f),s(a("./unpack-payload"),f)},{"./attach":17,"./broadcast":19,"./broadcast-to-child-windows":18,"./constants":20,"./dispatch":21,"./has-opener":22,"./is-not-string":24,"./message":25,"./package-payload":26,"./send-message":27,"./subscribe-replier":28,"./subscription-args-invalid":29,"./types":30,"./unpack-payload":31}],24:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.isntString=void 0;function e(s){return typeof s!="string"}f.isntString=e},{}],25:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.onMessage=void 0;var e=a("./");function s(i){if(!(0,e.isntString)(i.data)){var r=(0,e.unpackPayload)(i);if(r){var t=r.eventData,c=r.reply;(0,e.dispatch)("*",r.event,t,c,i),(0,e.dispatch)(i.origin,r.event,t,c,i),(0,e.broadcastToChildWindows)(i.data,r.origin,i.source)}}}f.onMessage=s},{"./":23}],26:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.packagePayload=void 0;var e=a("./");function s(i,r,t,c){var o,l={event:i,origin:r};typeof c=="function"&&(l.reply=(0,e.subscribeReplier)(c,r)),l.eventData=t;try{o=e.prefix+JSON.stringify(l)}catch(p){throw new Error("Could not stringify event: ".concat(p.message))}return o}f.packagePayload=s},{"./":23}],27:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.sendMessage=void 0;function e(s,i,r){try{s.postMessage(i,r)}catch{}}f.sendMessage=e},{}],28:[function(a,d,f){"use strict";var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(f,"__esModule",{value:!0}),f.subscribeReplier=void 0;var s=a("../framebus"),i=e(a("@braintree/uuid"));function r(t,c){var o=(0,i.default)();function l(p,v){t(p,v),s.Framebus.target({origin:c}).off(o,l)}return s.Framebus.target({origin:c}).on(o,l),o}f.subscribeReplier=r},{"../framebus":15,"@braintree/uuid":10}],29:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.subscriptionArgsInvalid=void 0;var e=a("./");function s(i,r,t){return(0,e.isntString)(i)||typeof r!="function"?!0:(0,e.isntString)(t)}f.subscriptionArgsInvalid=s},{"./":23}],30:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0})},{}],31:[function(a,d,f){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.unpackPayload=void 0;var e=a("./");function s(i){var r;if(i.data.slice(0,e.prefix.length)!==e.prefix)return!1;try{r=JSON.parse(i.data.slice(e.prefix.length))}catch{return!1}if(r.reply){var t=i.origin,c=i.source,o=r.reply;r.reply=function(p){if(c){var v=(0,e.packagePayload)(o,t,p);v&&c.postMessage(v,t)}}}return r}f.unpackPayload=s},{"./":23}],32:[function(a,d,f){"use strict";function e(n){var u=this.constructor;return this.then(function(h){return u.resolve(n()).then(function(){return h})},function(h){return u.resolve(n()).then(function(){return u.reject(h)})})}function s(n){var u=this;return new u(function(h,y){if(!(n&&typeof n.length<"u"))return y(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(n);if(E.length===0)return h([]);var A=E.length;function _(m,T){if(T&&(typeof T=="object"||typeof T=="function")){var b=T.then;if(typeof b=="function"){b.call(T,function(O){_(m,O)},function(O){E[m]={status:"rejected",reason:O},--A===0&&h(E)});return}}E[m]={status:"fulfilled",value:T},--A===0&&h(E)}for(var g=0;g<E.length;g++)_(g,E[g])})}var i=setTimeout;function r(n){return!!(n&&typeof n.length<"u")}function t(){}function c(n,u){return function(){n.apply(u,arguments)}}function o(n){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],N(n,this)}function l(n,u){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(u);return}n._handled=!0,o._immediateFn(function(){var h=n._state===1?u.onFulfilled:u.onRejected;if(h===null){(n._state===1?p:v)(u.promise,n._value);return}var y;try{y=h(n._value)}catch(E){v(u.promise,E);return}p(u.promise,y)})}function p(n,u){try{if(u===n)throw new TypeError("A promise cannot be resolved with itself.");if(u&&(typeof u=="object"||typeof u=="function")){var h=u.then;if(u instanceof o){n._state=3,n._value=u,I(n);return}else if(typeof h=="function"){N(c(h,u),n);return}}n._state=1,n._value=u,I(n)}catch(y){v(n,y)}}function v(n,u){n._state=2,n._value=u,I(n)}function I(n){n._state===2&&n._deferreds.length===0&&o._immediateFn(function(){n._handled||o._unhandledRejectionFn(n._value)});for(var u=0,h=n._deferreds.length;u<h;u++)l(n,n._deferreds[u]);n._deferreds=null}function R(n,u,h){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof u=="function"?u:null,this.promise=h}function N(n,u){var h=!1;try{n(function(y){h||(h=!0,p(u,y))},function(y){h||(h=!0,v(u,y))})}catch(y){if(h)return;h=!0,v(u,y)}}o.prototype.catch=function(n){return this.then(null,n)},o.prototype.then=function(n,u){var h=new this.constructor(t);return l(this,new R(n,u,h)),h},o.prototype.finally=e,o.all=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(n);if(y.length===0)return u([]);var E=y.length;function A(g,m){try{if(m&&(typeof m=="object"||typeof m=="function")){var T=m.then;if(typeof T=="function"){T.call(m,function(b){A(g,b)},h);return}}y[g]=m,--E===0&&u(y)}catch(b){h(b)}}for(var _=0;_<y.length;_++)A(_,y[_])})},o.allSettled=s,o.resolve=function(n){return n&&typeof n=="object"&&n.constructor===o?n:new o(function(u){u(n)})},o.reject=function(n){return new o(function(u,h){h(n)})},o.race=function(n){return new o(function(u,h){if(!r(n))return h(new TypeError("Promise.race accepts an array"));for(var y=0,E=n.length;y<E;y++)o.resolve(n[y]).then(u,h)})},o._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){i(n,0)},o._unhandledRejectionFn=function(u){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",u)},d.exports=o},{}],33:[function(a,d,f){"use strict";var e=a("./create-authorization-data"),s=a("./json-clone"),i=a("./constants");function r(t,c){var o,l=c?s(c):{},p=e(t.authorization).attrs,v=s(t.analyticsMetadata);l.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION;for(o in l._meta)l._meta.hasOwnProperty(o)&&(v[o]=l._meta[o]);return l._meta=v,p.tokenizationKey?l.tokenizationKey=p.tokenizationKey:l.authorizationFingerprint=p.authorizationFingerprint,l}d.exports=r},{"./constants":39,"./create-authorization-data":43,"./json-clone":50}],34:[function(a,d,f){"use strict";var e=a("./constants"),s=a("./add-metadata");function i(r,t,c){var o=Date.now();return Promise.resolve(r).then(function(l){var p=Date.now(),v=l.getConfiguration(),I=l._request,R=v.gatewayConfiguration.analytics.url,N={analytics:[{kind:e.ANALYTICS_PREFIX+t,isAsync:Math.floor(p/1e3)!==Math.floor(o/1e3),timestamp:o}]};I({url:R,method:"post",data:s(v,N),timeout:e.ANALYTICS_REQUEST_TIMEOUT_MS},c)}).catch(function(l){c&&c(l)})}d.exports={sendEvent:i}},{"./add-metadata":33,"./constants":39}],35:[function(a,d,f){"use strict";var e=a("@braintree/asset-loader/load-script");d.exports={loadScript:e}},{"@braintree/asset-loader/load-script":3}],36:[function(a,d,f){"use strict";var e=typeof Object.assign=="function"?Object.assign:s;function s(i){var r,t,c;for(r=1;r<arguments.length;r++){t=arguments[r];for(c in t)t.hasOwnProperty(c)&&(i[c]=t[c])}return i}d.exports={assign:e,_assign:s}},{}],37:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./errors"),i="3.96.1";function r(t){var c,o,l;return t?(l=t.name,c=t.client,o=t.authorization,!c&&!o?Promise.reject(new e({type:s.INSTANTIATION_OPTION_REQUIRED.type,code:s.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!o&&c.getVersion()!==i?Promise.reject(new e({type:s.INCOMPATIBLE_VERSIONS.type,code:s.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+c.getVersion()+") and "+l+" (version "+i+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new e({type:s.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:s.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:r}},{"./braintree-error":38,"./errors":47}],38:[function(a,d,f){"use strict";var e=a("./enumerate");function s(i){if(!s.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.types=e(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),s.findRootError=function(i){return i instanceof s&&i.details&&i.details.originalError?s.findRootError(i.details.originalError):i},d.exports=s},{"./enumerate":46}],39:[function(a,d,f){"use strict";var e="3.96.1",s="web",i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},r={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},t={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:s+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:r,CLIENT_API_URLS:i,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:t,INTEGRATION_TIMEOUT_MS:6e4,VERSION:e,INTEGRATION:"custom",SOURCE:"client",PLATFORM:s,BRAINTREE_LIBRARY_VERSION:"braintree/"+s+"/"+e}},{}],40:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./errors");d.exports=function(i,r){r.forEach(function(t){i[t]=function(){throw new e({type:s.METHOD_CALLED_AFTER_TEARDOWN.type,code:s.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"./braintree-error":38,"./errors":47}],41:[function(a,d,f){"use strict";var e=a("./braintree-error");function s(i,r){return i instanceof e?i:new e({type:r.type,code:r.code,message:r.message,details:{originalError:i}})}d.exports=s},{"./braintree-error":38}],42:[function(a,d,f){"use strict";var e=a("./constants").ASSETS_URLS;function s(i){return e.production}d.exports={create:s}},{"./constants":39}],43:[function(a,d,f){"use strict";var e=a("../lib/vendor/polyfill").atob,s=a("../lib/constants").CLIENT_API_URLS;function i(c){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(c)}function r(c){var o=c.split("_"),l=o[0],p=o.slice(2).join("_");return{merchantId:p,environment:l}}function t(c){var o,l,p={attrs:{},configUrl:""};return i(c)?(l=r(c),p.environment=l.environment,p.attrs.tokenizationKey=c,p.configUrl=s[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(o=JSON.parse(e(c)),p.environment=o.environment,p.attrs.authorizationFingerprint=o.authorizationFingerprint,p.configUrl=o.configUrl,p.graphQL=o.graphQL),p}d.exports=t},{"../lib/constants":39,"../lib/vendor/polyfill":53}],44:[function(a,d,f){"use strict";var e=a("./braintree-error"),s=a("./assets"),i=a("./errors"),r="3.96.1";function t(c){var o=Promise.resolve();return c.client?Promise.resolve(c.client):(window.braintree&&window.braintree.client||(o=s.loadScript({src:c.assetsUrl+"/web/"+r+"/js/client.min.js"}).catch(function(l){return Promise.reject(new e({type:i.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:i.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:i.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),o.then(function(){return window.braintree.client.VERSION!==r?Promise.reject(new e({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+c.name+" (version "+r+") components must be from the same SDK version."})):window.braintree.client.create({authorization:c.authorization,debug:c.debug})}))}d.exports={create:t}},{"./assets":35,"./braintree-error":38,"./errors":47}],45:[function(a,d,f){"use strict";d.exports=function(e){return function(){var s=arguments;setTimeout(function(){e.apply(null,s)},1)}}},{}],46:[function(a,d,f){"use strict";function e(s,i){return i=i??"",s.reduce(function(r,t){return r[t]=i+t,r},{})}d.exports=e},{}],47:[function(a,d,f){"use strict";var e=a("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:e.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:e.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:e.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:e.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:e.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":38}],48:[function(a,d,f){"use strict";function e(s){return s=s||window.location.protocol,s==="https:"}d.exports={isHTTPS:e}},{}],49:[function(a,d,f){"use strict";var e,s={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};function i(t){return t.split(".").slice(-2).join(".")}function r(t){var c;return t=t.toLowerCase(),/^https:/.test(t)?(e=e||document.createElement("a"),e.href=t,c=i(e.hostname),s.hasOwnProperty(c)):!1}d.exports=r},{}],50:[function(a,d,f){"use strict";d.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],51:[function(a,d,f){"use strict";d.exports=function(e){return Object.keys(e).filter(function(s){return typeof e[s]=="function"})}},{}],52:[function(a,d,f){"use strict";function e(s){return s?"":".min"}d.exports=e},{}],53:[function(a,d,f){"use strict";var e=typeof atob=="function"?atob:s;function s(i){var r,t,c,o,l,p,v,I,R=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="";if(!R.test(i))throw new Error("Non base64 encoded input passed to window.atob polyfill");I=0;do o=N.indexOf(i.charAt(I++)),l=N.indexOf(i.charAt(I++)),p=N.indexOf(i.charAt(I++)),v=N.indexOf(i.charAt(I++)),r=(o&63)<<2|l>>4&3,t=(l&15)<<4|p>>2&15,c=(p&3)<<6|v&63,n+=String.fromCharCode(r)+(t?String.fromCharCode(t):"")+(c?String.fromCharCode(c):"");while(I<i.length);return n}d.exports={atob:function(i){return e.call(window,i)},_atob:s}},{}],54:[function(a,d,f){"use strict";var e=a("../../../lib/assign").assign,s=a("../../../lib/analytics"),i=a("../../../lib/braintree-error"),r=a("../../../lib/is-verified-domain"),t=a("@braintree/extended-promise"),c=a("@braintree/event-emitter"),o=a("../../shared/errors"),l=a("@braintree/iframer"),p=a("framebus"),v=a("../../shared/constants"),I=a("@braintree/uuid"),R=a("../../shared/events"),N=a("../../../lib/use-min"),n=a("../../../lib/constants").BUS_CONFIGURATION_REQUEST_EVENT,u="3.96.1",h=400,y=400;t.suppressUnhandledPromiseMessage=!0;function E(A){c.call(this),this._client=A.client,this._createPromise=A.createPromise,this._createOptions=A,this._client?(this._isDebug=this._client.getConfiguration().isDebug,this._assetsUrl=this._client.getConfiguration().gatewayConfiguration.assetsUrl):(this._isDebug=!!A.isDebug,this._assetsUrl=A.assetsUrl),this._assetsUrl=this._assetsUrl+"/web/"+u}c.createChild(E),E.prototype._waitForClient=function(){return this._client?Promise.resolve():this._createPromise.then(function(A){this._client=A}.bind(this))},E.prototype.setUpEventListeners=function(){throw new i(o.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},E.prototype.verifyCard=function(A,_){var g,m,T=this;return _=_||{},m=this._checkForVerifyCardError(A,_),m?Promise.reject(m):(this._verifyCardInProgress=!0,g=this._formatVerifyCardOptions(A),this._formatLookupData(g).then(function(b){return s.sendEvent(T._createPromise,"three-d-secure.verification-flow.started"),T._performLookup(g.nonce,b)}).then(function(b){return s.sendEvent(T._createPromise,"three-d-secure.verification-flow.3ds-version."+b.lookup.threeDSecureVersion),T._onLookupComplete(b,g)}).then(function(b){return T.initializeChallengeWithLookupResponse(b,g)}).then(function(b){return T._resetVerificationState(),s.sendEvent(T._createPromise,"three-d-secure.verification-flow.completed"),b}).catch(function(b){return T._resetVerificationState(),s.sendEvent(T._createPromise,"three-d-secure.verification-flow.failed"),Promise.reject(b)}))},E.prototype._checkForFrameworkSpecificVerifyCardErrors=function(){throw new i(o.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},E.prototype._presentChallenge=function(){throw new i(o.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},E.prototype.prepareLookup=function(){throw new i(o.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},E.prototype._resetVerificationState=function(){this._verifyCardInProgress=!1,this._verifyCardPromisePlus=null,typeof this._reloadThreeDSecure=="function"&&this._reloadThreeDSecure()},E.prototype._performLookup=function(A,_){var g=this,m="payment_methods/"+A+"/three_d_secure/lookup";return this._waitForClient().then(function(){return g._client.request({endpoint:m,method:"post",data:_}).catch(function(T){var b=T&&T.details&&T.details.httpStatus,O="three-d-secure.verification-flow.lookup-failed",S;return b===404?(S=o.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR,O+=".404"):b===422?(S=o.THREEDS_LOOKUP_VALIDATION_ERROR,O+=".422"):S=o.THREEDS_LOOKUP_ERROR,s.sendEvent(g._createPromise,O),Promise.reject(new i({type:S.type,code:S.code,message:S.message,details:{originalError:T}}))})})},E.prototype._checkForVerifyCardError=function(A,_){var g;return this._verifyCardInProgress===!0?new i(o.THREEDS_AUTHENTICATION_IN_PROGRESS):(A.nonce?A.amount||(g="an amount"):g="a nonce",g||(g=this._checkForFrameworkSpecificVerifyCardErrors(A,_)),g?new i({type:o.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:o.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+g+"."}):null)},E.prototype.initializeChallengeWithLookupResponse=function(A,_){var g=this;return _=_||{},this._lookupPaymentMethod=A.paymentMethod,g._verifyCardPromisePlus=g._verifyCardPromisePlus||new t,g._handleLookupResponse(A,_),g._verifyCardPromisePlus.then(function(m){return s.sendEvent(g._createPromise,"three-d-secure.verification-flow.liability-shifted."+String(m.liabilityShifted)),s.sendEvent(g._createPromise,"three-d-secure.verification-flow.liability-shift-possible."+String(m.liabilityShiftPossible)),m})},E.prototype._handleLookupResponse=function(A,_){var g=!!(A.lookup&&A.lookup.acsUrl),m;s.sendEvent(this._createPromise,"three-d-secure.verification-flow.challenge-presented."+String(g)),g?this._presentChallenge(A,_):(m=this._formatAuthResponse(A.paymentMethod,A.threeDSecureInfo),m.verificationDetails=A.threeDSecureInfo,this._verifyCardPromisePlus.resolve(m))},E.prototype._onLookupComplete=function(A){return this._lookupPaymentMethod=A.paymentMethod,this._verifyCardPromisePlus=new t,Promise.resolve(A)},E.prototype._formatAuthResponse=function(A,_){return{nonce:A.nonce,type:A.type,binData:A.binData,details:A.details,description:A.description&&A.description.replace(/\+/g," "),liabilityShifted:_&&_.liabilityShifted,liabilityShiftPossible:_&&_.liabilityShiftPossible,threeDSecureInfo:A.threeDSecureInfo}},E.prototype._formatVerifyCardOptions=function(A){return e({},A)},E.prototype._formatLookupData=function(A){var _={amount:A.amount};return A.collectDeviceData===!0&&(_.browserColorDepth=window.screen.colorDepth,_.browserJavaEnabled=window.navigator.javaEnabled(),_.browserJavascriptEnabled=!0,_.browserLanguage=window.navigator.language,_.browserScreenHeight=window.screen.height,_.browserScreenWidth=window.screen.width,_.browserTimeZone=new Date().getTimezoneOffset(),_.deviceChannel="Browser"),Promise.resolve(_)},E.prototype._handleV1AuthResponse=function(A){var _=JSON.parse(A.auth_response);_.success?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(_.paymentMethod,_.threeDSecureInfo)):_.threeDSecureInfo&&_.threeDSecureInfo.liabilityShiftPossible?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(this._lookupPaymentMethod,_.threeDSecureInfo)):this._verifyCardPromisePlus.reject(new i({type:i.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:_.error.message}))},E.prototype.cancelVerifyCard=function(){var A,_;return this._verifyCardInProgress=!1,this._lookupPaymentMethod?(_=this._lookupPaymentMethod.threeDSecureInfo,A=e({},this._lookupPaymentMethod,{liabilityShiftPossible:_&&_.liabilityShiftPossible,liabilityShifted:_&&_.liabilityShifted,verificationDetails:_&&_.verificationDetails}),Promise.resolve(A)):Promise.reject(new i(o.THREEDS_NO_VERIFICATION_PAYLOAD))},E.prototype._setupV1Bus=function(A){var _=this._client.getConfiguration(),g=window.location.href.split("#")[0],m=A.lookupResponse,T=I(),b=new p({channel:T,verifyDomain:r}),O=this._assetsUrl+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(T)+"&";return b.on(n,function(S){S({clientConfiguration:_,nonce:A.nonce,acsUrl:m.acsUrl,pareq:m.pareq,termUrl:m.termUrl+"&three_d_secure_version="+u+"&authentication_complete_base_url="+encodeURIComponent(O),md:m.md,parentUrl:g})}),b.on(R.AUTHENTICATION_COMPLETE,A.handleAuthResponse),b},E.prototype._setupV1Iframe=function(A){var _=this._assetsUrl+"/html/three-d-secure-bank-frame"+N(this._isDebug)+".html?showLoader="+A.showLoader,g=l({src:_,height:h,width:y,name:v.LANDING_FRAME_NAME+"_"+this._v1Bus.channel,title:"3D Secure Authorization Frame"});return g},E.prototype._setupV1Elements=function(A){this._v1Bus=this._setupV1Bus(A),this._v1Iframe=this._setupV1Iframe(A)},E.prototype._teardownV1Elements=function(){this._v1Bus&&(this._v1Bus.teardown(),this._v1Bus=null),this._v1Iframe&&this._v1Iframe.parentNode&&(this._v1Iframe.parentNode.removeChild(this._v1Iframe),this._v1Iframe=null),this._onV1Keyup&&(document.removeEventListener("keyup",this._onV1Keyup),this._onV1Keyup=null)},E.prototype.teardown=function(){return s.sendEvent(this._createPromise,"three-d-secure.teardown-completed"),this._teardownV1Elements(),Promise.resolve()},d.exports=E},{"../../../lib/analytics":34,"../../../lib/assign":36,"../../../lib/braintree-error":38,"../../../lib/constants":39,"../../../lib/is-verified-domain":49,"../../../lib/use-min":52,"../../shared/constants":63,"../../shared/errors":64,"../../shared/events":65,"@braintree/event-emitter":4,"@braintree/extended-promise":5,"@braintree/iframer":6,"@braintree/uuid":10,framebus:16}],55:[function(a,d,f){"use strict";var e=a("./songbird");function s(i){e.call(this,i)}s.prototype=Object.create(e.prototype,{constructor:e}),s.prototype._createV1IframeModalElement=function(i){var r=document.createElement("div");return r.innerHTML='<div class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="CCAFrameModal-label" aria-hidden="true" style="display: block;"><div class="modal-dialog" style="width:440px;z-index:999999;"><div class="modal-content"><div class="modal-body" data-braintree-v1-fallback-iframe-container><button type="button" data-braintree-v1-fallback-close-button class="close" data-dismiss="modal" aria-hidden="true"></button></div></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;cursor: pointer;z-index: 999998;top: 0;left: 0;width: 100%;height: 100%;"></div></div>',r.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(i),r},s.prototype._createCardinalConfigurationOptions=function(i){var r=e.prototype._createCardinalConfigurationOptions.call(this,i);return r.payment.framework="bootstrap3",r},d.exports=s},{"./songbird":60}],56:[function(a,d,f){"use strict";var e=a("./songbird");function s(i){e.call(this,i)}s.prototype=Object.create(e.prototype,{constructor:e}),s.prototype._createV1IframeModalElement=function(i){var r=document.createElement("div"),t=!!(this._createOptions&&this._createOptions.cardinalSDKConfig&&this._createOptions.cardinalSDKConfig.payment&&this._createOptions.cardinalSDKConfig.payment.displayExitButton);return r.innerHTML=`<div style="position: fixed;z-index: 999999;top: 50%;left: 50%;padding: 24px 20px;transform: translate(-50%,-50%);border-radius: 2px;background: #fff;max-width: 100%;overflow: auto;"><div><button data-braintree-v1-fallback-close-button style="font-family: Helvetica,Arial,sans-serif;font-size: 25px;line-height: 12px;position: absolute;top: 2px;right: 0px;cursor: pointer;color: #999;border: 0;outline: none;background: none;" onMouseOver="this.style.color='#000'" onMouseOut="this.style.color='#999'"></button></div><div data-braintree-v1-fallback-iframe-container style="height: 400px;"></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;z-index: 999998;cursor: pointer;top: 0;left: 0;width: 100%;height: 100%;transition: opacity 1ms ease;background: rgba(0,0,0,.6);"></div>`,t||(r.querySelector("[data-braintree-v1-fallback-close-button]").style.display="none"),r.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(i),r},d.exports=s},{"./songbird":60}],57:[function(a,d,f){"use strict";var e=a("./legacy"),s=a("./cardinal-modal"),i=a("./bootstrap3-modal"),r=a("./inline-iframe");d.exports={legacy:e,"cardinal-modal":s,"bootstrap3-modal":i,"inline-iframe":r}},{"./bootstrap3-modal":55,"./cardinal-modal":56,"./inline-iframe":58,"./legacy":59}],58:[function(a,d,f){"use strict";var e=a("./songbird"),s=a("../../../lib/braintree-error"),i=a("../../shared/errors"),r=a("../../../lib/enumerate");function t(c){e.call(this,c)}t.prototype=Object.create(e.prototype,{constructor:e}),t.events=r(["AUTHENTICATION_IFRAME_AVAILABLE"],"inline-iframe-framework:"),t.prototype.setUpEventListeners=function(c){e.prototype.setUpEventListeners.call(this,c),this.on(t.events.AUTHENTICATION_IFRAME_AVAILABLE,function(o,l){c("authentication-iframe-available",o,l)})},t.prototype._createCardinalConfigurationOptions=function(c){var o=e.prototype._createCardinalConfigurationOptions.call(this,c);return o.payment.framework="inline",o},t.prototype._addV1IframeToPage=function(){this._emit(t.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:this._v1Modal},function(){})},t.prototype._setupFrameworkSpecificListeners=function(){this.setCardinalListener("ui.inline.setup",this._onInlineSetup.bind(this))},t.prototype._onInlineSetup=function(c,o,l,p){var v,I;if(!c||!o||o.paymentType!=="CCA"?I=!0:o.data.mode==="suppress"||o.data.mode==="static"||(I=!0),I){p(new s(i.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT));return}v=document.createElement("div"),v.innerHTML=c,o.data.mode==="suppress"?(v.style.display="none",document.body.appendChild(v),l()):o.data.mode==="static"&&this._emit(t.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:v},function(){l()})},d.exports=t},{"../../../lib/braintree-error":38,"../../../lib/enumerate":46,"../../shared/errors":64,"./songbird":60}],59:[function(a,d,f){"use strict";var e=a("./base"),s=a("../../../lib/deferred");function i(r){e.call(this,r)}i.prototype=Object.create(e.prototype,{constructor:i}),i.prototype.setUpEventListeners=function(){},i.prototype.transformV1CustomerBillingAddress=function(r){return r.billingAddress.line1=r.billingAddress.streetAddress,r.billingAddress.line2=r.billingAddress.extendedAddress,r.billingAddress.city=r.billingAddress.locality,r.billingAddress.state=r.billingAddress.region,r.billingAddress.countryCode=r.billingAddress.countryCodeAlpha2,delete r.billingAddress.streetAddress,delete r.billingAddress.extendedAddress,delete r.billingAddress.locality,delete r.billingAddress.region,delete r.billingAddress.countryCodeAlpha2,r},i.prototype._createIframe=function(r){var t=this;return this._setupV1Elements({nonce:r.nonce,lookupResponse:r.lookupResponse,showLoader:r.showLoader,handleAuthResponse:function(c){t._handleAuthResponse(c,r)}}),this._v1Iframe},i.prototype._handleAuthResponse=function(r,t){this._v1Bus.teardown(),t.removeFrame(),s(function(){this._handleV1AuthResponse(r)}.bind(this))()},i.prototype._checkForFrameworkSpecificVerifyCardErrors=function(r){var t;return typeof r.addFrame!="function"?t="an addFrame function":typeof r.removeFrame!="function"&&(t="a removeFrame function"),t},i.prototype._formatVerifyCardOptions=function(r){var t=e.prototype._formatVerifyCardOptions.call(this,r);return t.addFrame=s(r.addFrame),t.removeFrame=s(r.removeFrame),t.showLoader=r.showLoader!==!1,t},i.prototype._formatLookupData=function(r){var t=this;return e.prototype._formatLookupData.call(this,r).then(function(c){return r.customer&&r.customer.billingAddress&&(c.customer=t.transformV1CustomerBillingAddress(r.customer)),c})},i.prototype._presentChallenge=function(r,t){t.addFrame(null,this._createIframe({showLoader:t.showLoader,lookupResponse:r.lookup,nonce:r.paymentMethod.nonce,removeFrame:t.removeFrame}))},d.exports=i},{"../../../lib/deferred":45,"./base":54}],60:[function(a,d,f){"use strict";var e=a("./base"),s=a("../../../lib/assign").assign,i=a("../../../lib/deferred"),r=a("../../../lib/braintree-error"),t=a("../../../lib/convert-to-braintree-error"),c=a("../../../lib/analytics"),o=a("../../../lib/assets"),l=a("../../shared/errors"),p=a("../../../lib/enumerate"),v=a("../../shared/constants"),I=a("@braintree/extended-promise"),R=a("../../../lib/constants").INTEGRATION_TIMEOUT_MS,N=a("../../../lib/constants").PLATFORM,n="3.96.1",u="01",h=["ui.close","ui.render","ui.renderHidden","ui.loading.close","ui.loading.render"],y=["low_value","transaction_risk_analysis"];I.suppressUnhandledPromiseMessage=!0;function E(_){e.call(this,_),this._useV1Fallback=!1,this._clientMetadata={requestedThreeDSecureVersion:"2",sdkVersion:N+"/"+n},this.originalSetupOptions=_,this._getDfReferenceIdPromisePlus=new I,this.setupSongbird(_),this._cardinalEvents=[]}E.prototype=Object.create(e.prototype,{constructor:E}),E.events=p(["LOOKUP_COMPLETE","CUSTOMER_CANCELED","UI.CLOSE","UI.RENDER","UI.RENDERHIDDEN","UI.LOADING.CLOSE","UI.LOADING.RENDER"],"songbird-framework:"),E.prototype.setUpEventListeners=function(_){this.on(E.events.LOOKUP_COMPLETE,function(g,m){_("lookup-complete",g,m)}),this.on(E.events.CUSTOMER_CANCELED,function(){_("customer-canceled")}),this.on(E.events["UI.CLOSE"],function(){_("authentication-modal-close")}),this.on(E.events["UI.RENDER"],function(){_("authentication-modal-render")}),this.on(E.events["UI.RENDERHIDDEN"],function(){_("authentication-modal-render-hidden")}),this.on(E.events["UI.LOADING.CLOSE"],function(){_("authentication-modal-loader-close")}),this.on(E.events["UI.LOADING.RENDER"],function(){_("authentication-modal-loader-render")})},E.prototype.prepareLookup=function(_){var g=s({},_),m=this;return this.getDfReferenceId().then(function(T){g.dfReferenceId=T}).then(function(){return m._triggerCardinalBinProcess(_.bin)}).catch(function(){}).then(function(){return m._waitForClient()}).then(function(){return g.clientMetadata=m._clientMetadata,g.authorizationFingerprint=m._client.getConfiguration().authorizationFingerprint,g.braintreeLibraryVersion="braintree/web/"+n,g})},E.prototype.initializeChallengeWithLookupResponse=function(_,g){return this.setupSongbird().then(function(){return e.prototype.initializeChallengeWithLookupResponse.call(this,_,g)}.bind(this))},E.prototype.initiateV1Fallback=function(_){this._useV1Fallback=!0,this._removeSongbirdListeners(),c.sendEvent(this._createPromise,"three-d-secure.v1-fallback."+_),this._songbirdPromise&&this._songbirdPromise.resolve()},E.prototype._triggerCardinalBinProcess=function(_){var g=this,m=Date.now();return window.Cardinal.trigger("bin.process",_).then(function(T){g._clientMetadata.issuerDeviceDataCollectionTimeElapsed=Date.now()-m,g._clientMetadata.issuerDeviceDataCollectionResult=T&&T.Status})},E.prototype.transformBillingAddress=function(_,g){return g&&(A(g,_,"billing"),_.billingPhoneNumber=g.phoneNumber,_.billingGivenName=g.givenName,_.billingSurname=g.surname),_},E.prototype.transformShippingAddress=function(_){var g=_.shippingAddress;return g&&(A(g,_,"shipping"),delete _.shippingAddress),_},E.prototype._createV1IframeModalElement=function(_){var g=document.createElement("div");return g.innerHTML='<div data-braintree-v1-fallback-iframe-container="true" style="height: 400px;"></div>',g.querySelector('[data-braintree-v1-fallback-iframe-container="true"]').appendChild(_),g},E.prototype._createV1IframeModal=function(_){var g=this._createV1IframeModalElement(_),m=g.querySelector("[data-braintree-v1-fallback-close-button]"),T=g.querySelector("[data-braintree-v1-fallback-backdrop]"),b=this;function O(){g.parentNode.removeChild(g),b.cancelVerifyCard(l.THREEDS_CARDINAL_SDK_CANCELED),document.removeEventListener("keyup",b._onV1Keyup),b._onV1Keyup=null}return this._onV1Keyup=function(S){S.key==="Escape"&&g.parentNode&&O()},m&&m.addEventListener("click",O),T&&T.addEventListener("click",O),document.addEventListener("keyup",this._onV1Keyup),g},E.prototype._addV1IframeToPage=function(){document.body.appendChild(this._v1Modal)},E.prototype._handleAuthResponseFromV1Fallback=function(_){this._teardownV1Elements(),this._v1Modal.parentNode.removeChild(this._v1Modal),this._handleV1AuthResponse(_)},E.prototype._presentChallengeWithV1Fallback=function(_){var g=this;this._setupV1Elements({lookupResponse:_,showLoader:!0,handleAuthResponse:function(m){g._handleAuthResponseFromV1Fallback(m)}}),this._v1Modal=this._createV1IframeModal(this._v1Iframe),this._addV1IframeToPage()},E.prototype.setupSongbird=function(_){var g=this,m=Date.now();return this._songbirdPromise?this._songbirdPromise:(_=_||{},this._songbirdPromise=new I,this._v2SetupFailureReason="reason-unknown",g._loadCardinalScript(_).then(function(){return window.Cardinal?g._configureCardinalSdk({setupOptions:_,setupStartTime:m}):(g._v2SetupFailureReason="cardinal-global-unavailable",Promise.reject(new r(l.THREEDS_CARDINAL_SDK_SETUP_FAILED)))}).catch(function(T){var b=t(T,{type:l.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,code:l.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,message:l.THREEDS_CARDINAL_SDK_SETUP_FAILED.message});g._getDfReferenceIdPromisePlus.reject(b),window.clearTimeout(g._songbirdSetupTimeoutReference),c.sendEvent(g._client,"three-d-secure.cardinal-sdk.init.setup-failed"),g.initiateV1Fallback("cardinal-sdk-setup-failed."+g._v2SetupFailureReason)}),this._songbirdPromise)},E.prototype._configureCardinalSdk=function(_){var g=this;return this._waitForClient().then(function(){var m=g._client.getConfiguration().gatewayConfiguration.threeDSecure;return m}).then(function(m){var T=m.cardinalAuthenticationJWT,b=_.setupOptions,O=_.setupStartTime,S=g._createCardinalConfigurationOptions(b);h.forEach(function(P){g.setCardinalListener(P,function(){g._emit(E.events[P.toUpperCase()])})}),g.setCardinalListener("payments.setupComplete",g._createPaymentsSetupCompleteCallback()),g._setupFrameworkSpecificListeners(),window.Cardinal.configure(S),window.Cardinal.setup("init",{jwt:T}),g._clientMetadata.cardinalDeviceDataCollectionTimeElapsed=Date.now()-O,g.setCardinalListener("payments.validated",g._createPaymentsValidatedCallback())}).catch(function(m){return g._v2SetupFailureReason="cardinal-configuration-threw-error",Promise.reject(m)})},E.prototype.setCardinalListener=function(_,g){this._cardinalEvents.push(_),window.Cardinal.on(_,g)},E.prototype._setupFrameworkSpecificListeners=function(){},E.prototype._createCardinalConfigurationOptions=function(_){var g=_.cardinalSDKConfig||{},m=g.payment||{};return!g.logging&&_.loggingEnabled&&(g.logging={level:"verbose"}),g.payment={},m.hasOwnProperty("displayLoading")&&(g.payment.displayLoading=m.displayLoading),m.hasOwnProperty("displayExitButton")&&(g.payment.displayExitButton=m.displayExitButton),g},E.prototype._loadCardinalScript=function(_){var g=this;return this._waitForClient().then(function(){var m=g._getCardinalScriptSource();return g._songbirdSetupTimeoutReference=window.setTimeout(function(){c.sendEvent(g._client,"three-d-secure.cardinal-sdk.init.setup-timeout"),g.initiateV1Fallback("cardinal-sdk-setup-timeout")},_.timeout||R),o.loadScript({src:m})}).catch(function(m){return g._v2SetupFailureReason="songbird-js-failed-to-load",Promise.reject(t(m,l.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED))})},E.prototype._getCardinalScriptSource=function(){var _=this._client.getConfiguration().gatewayConfiguration;return _&&_.environment==="production"?v.CARDINAL_SCRIPT_SOURCE.production:v.CARDINAL_SCRIPT_SOURCE.sandbox},E.prototype._createPaymentsSetupCompleteCallback=function(){var _=this;return function(g){_._getDfReferenceIdPromisePlus.resolve(g.sessionId),window.clearTimeout(_._songbirdSetupTimeoutReference),c.sendEvent(_._createPromise,"three-d-secure.cardinal-sdk.init.setup-completed"),_._songbirdPromise.resolve()}},E.prototype.getDfReferenceId=function(){return this._getDfReferenceIdPromisePlus},E.prototype._performJWTValidation=function(_,g){var m=this,T=this._lookupPaymentMethod.nonce,b="payment_methods/"+T+"/three_d_secure/authenticate_from_jwt",O=_&&_.Payment&&_.Payment.ExtendedData&&_.Payment.ExtendedData.ChallengeCancel;return O&&(c.sendEvent(this._createPromise,"three-d-secure.verification-flow.cardinal-sdk.cancel-code."+O),O===u&&this._emit(E.events.CUSTOMER_CANCELED)),c.sendEvent(this._createPromise,"three-d-secure.verification-flow.upgrade-payment-method.started"),this._waitForClient().then(function(){return m._client.request({method:"post",endpoint:b,data:{jwt:g,paymentMethodNonce:T}})}).then(function(S){var P=S.paymentMethod||m._lookupPaymentMethod,C=m._formatAuthResponse(P,S.threeDSecureInfo);return C.rawCardinalSDKVerificationData=_,c.sendEvent(m._client,"three-d-secure.verification-flow.upgrade-payment-method.succeeded"),Promise.resolve(C)}).catch(function(S){var P=new r({type:l.THREEDS_JWT_AUTHENTICATION_FAILED.type,code:l.THREEDS_JWT_AUTHENTICATION_FAILED.code,message:l.THREEDS_JWT_AUTHENTICATION_FAILED.message,details:{originalError:S}});return c.sendEvent(m._client,"three-d-secure.verification-flow.upgrade-payment-method.errored"),Promise.reject(P)})},E.prototype._createPaymentsValidatedCallback=function(){var _=this;return function(g,m){var T;if(_._useV1Fallback){c.sendEvent(_._createPromise,"three-d-secure.verification-flow.cardinal-sdk.payments-validated-callback-called-in-v1-fallback-flow");return}if(c.sendEvent(_._createPromise,"three-d-secure.verification-flow.cardinal-sdk.action-code."+g.ActionCode.toLowerCase()),!_._verifyCardPromisePlus){_.initiateV1Fallback("cardinal-sdk-setup-error.number-"+g.ErrorNumber);return}switch(g.ActionCode){case"SUCCESS":case"NOACTION":case"FAILURE":_._performJWTValidation(g,m).then(function(b){_._verifyCardPromisePlus.resolve(b)}).catch(function(b){_._verifyCardPromisePlus.reject(b)});break;case"ERROR":switch(c.sendEvent(_._createPromise,"three-d-secure.verification-flow.cardinal-sdk-error."+g.ErrorNumber),g.ErrorNumber){case 10001:case 10002:T=new r(l.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT);break;case 10003:case 10007:case 10009:T=new r(l.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT);break;case 10005:case 10006:T=new r(l.THREEDS_CARDINAL_SDK_BAD_CONFIG);break;case 10008:case 10010:T=new r(l.THREEDS_CARDINAL_SDK_BAD_JWT);break;case 10011:c.sendEvent(_._createPromise,"three-d-secure.verification-flow.canceled"),T=new r(l.THREEDS_CARDINAL_SDK_CANCELED);break;default:T=new r(l.THREEDS_CARDINAL_SDK_ERROR)}T.details={originalError:{code:g.ErrorNumber,description:g.ErrorDescription}},_._verifyCardPromisePlus.reject(T);break;default:}}},E.prototype._checkForVerifyCardError=function(_,g){return _.bin?e.prototype._checkForVerifyCardError.call(this,_,g):new r({type:l.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:l.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include a BIN."})},E.prototype._checkForFrameworkSpecificVerifyCardErrors=function(_,g){var m;return typeof _.onLookupComplete!="function"&&!g.ignoreOnLookupCompleteRequirement&&(m="an onLookupComplete function"),m},E.prototype._formatVerifyCardOptions=function(_){var g=e.prototype._formatVerifyCardOptions.call(this,_),m=g.additionalInformation||{};return m=this.transformBillingAddress(m,_.billingAddress),m=this.transformShippingAddress(m),_.onLookupComplete&&(g.onLookupComplete=i(_.onLookupComplete)),_.email&&(m.email=_.email),_.mobilePhoneNumber&&(m.mobilePhoneNumber=_.mobilePhoneNumber),g.additionalInformation=m,g},E.prototype._onLookupComplete=function(_,g){var m=this;return e.prototype._onLookupComplete.call(this,_).then(function(T){return new Promise(function(b,O){T.requiresUserAuthentication=!!(T.lookup&&T.lookup.acsUrl);function S(){b(T)}m._verifyCardPromisePlus.catch(O),g.onLookupComplete?g.onLookupComplete(T,S):m._emit(E.events.LOOKUP_COMPLETE,T,S)})})},E.prototype._presentChallenge=function(_){if(this._useV1Fallback||!_.lookup.transactionId){this._presentChallengeWithV1Fallback(_.lookup);return}window.Cardinal.continue("cca",{AcsUrl:_.lookup.acsUrl,Payload:_.lookup.pareq},{OrderDetails:{TransactionId:_.lookup.transactionId}})},E.prototype._formatLookupData=function(_){var g=this;return e.prototype._formatLookupData.call(this,_).then(function(m){if(m.additionalInfo=_.additionalInformation,_.accountType&&(m.accountType=_.accountType),_.challengeRequested&&(m.challengeRequested=_.challengeRequested),_.requestedExemptionType){if(!y.includes(_.requestedExemptionType))throw new r({code:l.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.code,type:l.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.type,message:"requestedExemptionType `"+_.requestedExemptionType+"` is not a valid exemption. The accepted values are: `"+y.join("`, `")+"`"});m.requestedExemptionType=_.requestedExemptionType}return _.customFields&&(m.customFields=_.customFields),_.dataOnlyRequested&&(m.dataOnlyRequested=_.dataOnlyRequested),_.exemptionRequested&&(m.exemptionRequested=_.exemptionRequested),_.requestVisaDAF&&(m.requestVisaDAF=_.requestVisaDAF),_.bin&&(m.bin=_.bin),_.cardAdd!=null&&(m.cardAdd=_.cardAdd),_.cardAddChallengeRequested!=null&&(m.cardAdd=_.cardAddChallengeRequested),_.merchantName&&(m.merchantName=_.merchantName),g.prepareLookup(m)})},E.prototype.cancelVerifyCard=function(_){var g=this;return e.prototype.cancelVerifyCard.call(this).then(function(m){return g._verifyCardPromisePlus&&(_=_||new r(l.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT),g._verifyCardPromisePlus.reject(_)),m})},E.prototype._removeSongbirdListeners=function(){this._cardinalEvents.forEach(function(_){window.Cardinal.off(_)}),this._cardinalEvents=[]},E.prototype.teardown=function(){return window.Cardinal&&this._removeSongbirdListeners(),e.prototype.teardown.call(this)},E.prototype._reloadThreeDSecure=function(){var _=this,g=Date.now();return _.teardown().then(function(){_._configureCardinalSdk({setupOptions:_.originalSetupOptions,setupStartTime:g})})};function A(_,g,m){g[m+"Line1"]=_.streetAddress,g[m+"Line2"]=_.extendedAddress,g[m+"Line3"]=_.line3,g[m+"City"]=_.locality,g[m+"State"]=_.region,g[m+"PostalCode"]=_.postalCode,g[m+"CountryCode"]=_.countryCodeAlpha2}d.exports=E},{"../../../lib/analytics":34,"../../../lib/assets":35,"../../../lib/assign":36,"../../../lib/braintree-error":38,"../../../lib/constants":39,"../../../lib/convert-to-braintree-error":41,"../../../lib/deferred":45,"../../../lib/enumerate":46,"../../shared/constants":63,"../../shared/errors":64,"./base":54,"@braintree/extended-promise":5}],61:[function(a,d,f){"use strict";var e=a("@braintree/wrap-promise"),s=a("../../lib/methods"),i=a("../../lib/convert-methods-to-error"),r=a("@braintree/event-emitter"),t=a("./frameworks");function c(o){var l=this,p=t[o.framework];r.call(this),this._framework=new p(o),this._framework.setUpEventListeners(function(){l._emit.apply(l,arguments)})}r.createChild(c),c.prototype.verifyCard=function(o){var l;return this.hasListener("lookup-complete")&&(l={ignoreOnLookupCompleteRequirement:!0}),this._framework.verifyCard(o,l)},c.prototype.initializeChallengeWithLookupResponse=function(o){return typeof o=="string"&&(o=JSON.parse(o)),this._framework.initializeChallengeWithLookupResponse(o)},c.prototype.prepareLookup=function(o){return this._framework.prepareLookup(o).then(function(l){return JSON.stringify(l)})},c.prototype.cancelVerifyCard=function(){return this._framework.cancelVerifyCard()},c.prototype.teardown=function(){var o=s(c.prototype).concat(s(r.prototype));return i(this,o),this._framework.teardown()},d.exports=e.wrapPrototype(c)},{"../../lib/convert-methods-to-error":40,"../../lib/methods":51,"./frameworks":57,"@braintree/event-emitter":4,"@braintree/wrap-promise":14}],62:[function(a,d,f){"use strict";var e=a("./external/three-d-secure"),s=a("../lib/is-https").isHTTPS,i=a("../lib/basic-component-verification"),r=a("../lib/create-deferred-client"),t=a("../lib/create-assets-url"),c=a("../lib/braintree-error"),o=a("../lib/analytics"),l=a("./shared/errors"),p="3.96.1",v=a("@braintree/wrap-promise");function I(N){var n="3D Secure",u=R(N);return i.verify({name:n,client:N.client,authorization:N.authorization}).then(function(){var h=t.create(N.authorization),y=r.create({authorization:N.authorization,client:N.client,debug:N.debug,assetsUrl:h,name:n}).then(function(A){var _,g,m=A.getConfiguration(),T=m.gatewayConfiguration;return N.client=A,T.threeDSecureEnabled||(_=l.THREEDS_NOT_ENABLED),m.authorizationType==="TOKENIZATION_KEY"&&(_=l.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY),g=T.environment==="production",g&&!s()&&(_=l.THREEDS_HTTPS_REQUIRED),u!=="legacy"&&!(T.threeDSecure&&T.threeDSecure.cardinalAuthenticationJWT)&&(o.sendEvent(N.client,"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT"),_=l.THREEDS_NOT_ENABLED_FOR_V2),_?Promise.reject(new c(_)):(o.sendEvent(N.client,"three-d-secure.initialized"),A)}),E=new e({client:N.client,assetsUrl:h,createPromise:y,loggingEnabled:N.loggingEnabled,cardinalSDKConfig:N.cardinalSDKConfig,framework:u});return N.client?y.then(function(){return E}):E})}function R(N){var n=String(N.version||"");if(!n||n==="1")throw new c({code:l.THREEDS_UNSUPPORTED_VERSION.code,type:l.THREEDS_UNSUPPORTED_VERSION.type,message:l.THREEDS_UNSUPPORTED_VERSION.message});switch(n){case"2":case"2-cardinal-modal":return"cardinal-modal";case"2-bootstrap3-modal":return"bootstrap3-modal";case"2-inline-iframe":return"inline-iframe";default:throw new c({code:l.THREEDS_UNRECOGNIZED_VERSION.code,type:l.THREEDS_UNRECOGNIZED_VERSION.type,message:"Version `"+N.version+"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version."})}}d.exports={create:v(I),VERSION:p}},{"../lib/analytics":34,"../lib/basic-component-verification":37,"../lib/braintree-error":38,"../lib/create-assets-url":42,"../lib/create-deferred-client":44,"../lib/is-https":48,"./external/three-d-secure":61,"./shared/errors":64,"@braintree/wrap-promise":14}],63:[function(a,d,f){"use strict";d.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding",CARDINAL_SCRIPT_SOURCE:{production:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",sandbox:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js"}}},{}],64:[function(a,d,f){"use strict";var e=a("../../lib/braintree-error");d.exports={THREEDS_NOT_ENABLED:{type:e.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_CAN_NOT_USE_TOKENIZATION_KEY:{type:e.types.MERCHANT,code:"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",message:"3D Secure can not use a tokenization key for authorization."},THREEDS_HTTPS_REQUIRED:{type:e.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_NOT_ENABLED_FOR_V2:{type:e.types.MERCHANT,code:"THREEDS_NOT_ENABLED_FOR_V2",message:"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/"},THREEDS_UNRECOGNIZED_VERSION:{type:e.types.MERCHANT,code:"THREEDS_UNRECOGNIZED_VERSION"},THREEDS_CARDINAL_SDK_SETUP_FAILED:{type:e.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_FAILED",message:"Something went wrong setting up Cardinal's Songbird.js library."},THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED:{type:e.types.NETWORK,code:"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED",message:"Cardinal's Songbird.js library could not be loaded."},THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT:{type:e.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT",message:"Cardinal's Songbird.js took too long to setup."},THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT:{type:e.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT",message:"Cardinal's API took too long to respond."},THREEDS_CARDINAL_SDK_BAD_CONFIG:{type:e.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_CONFIG",message:"JWT or other required field missing. Please check your setup configuration."},THREEDS_CARDINAL_SDK_BAD_JWT:{type:e.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_JWT",message:"Cardinal JWT missing or malformed. Please check your setup configuration."},THREEDS_CARDINAL_SDK_ERROR:{type:e.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_ERROR",message:"A general error has occurred with Cardinal. See description for more information."},THREEDS_CARDINAL_SDK_CANCELED:{type:e.types.CUSTOMER,code:"THREEDS_CARDINAL_SDK_CANCELED",message:"Canceled by user."},THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT:{type:e.types.MERCHANT,code:"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT",message:"3D Secure verfication canceled by merchant."},THREEDS_AUTHENTICATION_IN_PROGRESS:{type:e.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:e.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_JWT_AUTHENTICATION_FAILED:{type:e.types.UNKNOWN,code:"THREEDS_JWT_AUTHENTICATION_FAILED",message:"Something went wrong authenticating the JWT from Cardinal"},THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR:{type:e.types.MERCHANT,code:"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR",message:"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed"},THREEDS_LOOKUP_VALIDATION_ERROR:{type:e.types.CUSTOMER,code:"THREEDS_LOOKUP_VALIDATION_ERROR",message:"The data passed in `verifyCard` did not pass validation checks. See details for more info"},THREEDS_LOOKUP_ERROR:{type:e.types.UNKNOWN,code:"THREEDS_LOOKUP_ERROR",message:"Something went wrong during the 3D Secure lookup"},THREEDS_INLINE_IFRAME_DETAILS_INCORRECT:{type:e.types.UNKNOWN,code:"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT",message:"Something went wrong when attempting to add the authentication iframe to the page."},THREEDS_NO_VERIFICATION_PAYLOAD:{type:e.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:e.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."},THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED:{type:e.types.INTERNAL,code:"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED",message:"Method not implemented for this framework."},THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID:{type:e.types.MERCHANT,code:"THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID",message:"Requested Exemption Type is invalid."},THREEDS_UNSUPPORTED_VERSION:{type:e.types.MERCHANT,code:"THREEDS_UNSUPPORTED_VERSION",message:"3D Secure `1` is deprecated and no longer supported. See available versions at https://braintree.github.io/braintree-web/current/module-braintree-web_three-d-secure.html#.create"}}},{"../../lib/braintree-error":38}],65:[function(a,d,f){"use strict";var e=a("../../lib/enumerate");d.exports=e(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":46}]},{},[62])(62)})})(q,q.exports);var me=q.exports;const _e=W(me),{log:ve,error:Ee}=oe("bt.service.jsx"),ne={Client:ce,PayPalCheckout:le,USBankAccount:fe,DataCollector:he,ThreeDSecure:_e},Ce=async(k,j)=>{if(!Object.hasOwn(ne,k)){Ee("Braintree client SDK class for "+k+" not setup");return}return ne[k].create(j)},Se=async(k,j,F=[],M={})=>{const K="/api/braintree/sdk/interface",a=localStorage.getItem("authHeader")?{authorization:"Basic "+localStorage.getItem("authHeader")}:{};return(await ae(K,"POST",{resource:k,operation:j,args:F,params:M},a)).json()},Pe=async(k,j)=>{ve(k,j)};export{le as B,Ce as c,Pe as g,Se as s};
//# sourceMappingURL=bt.service-231e8587.js.map
