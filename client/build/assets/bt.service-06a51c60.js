import{m as W}from"./index-00f27fa2.js";import{c as oe}from"./logger.utils-ababba19.js";import{j as ae}from"./http.utils-2a9b74b8.js";function x(k){throw new Error('Could not dynamically require "'+k+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q={exports:{}},Ie=Q.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function o(d,h,t){function a(s,u){if(!h[s]){if(!d[s]){var i=typeof x=="function"&&x;if(!u&&i)return i(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=h[s]={exports:{}};d[s][0].call(p.exports,function(f){var T=d[s][1][f];return a(T||f)},p,p.exports,o,d,h,t)}return h[s].exports}for(var r=typeof x=="function"&&x,n=0;n<t.length;n++)a(t[n]);return a}return o}()({1:[function(o,d,h){"use strict";var t=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(h,"__esModule",{value:!0}),h.PromiseGlobal=void 0;var a=t(o("promise-polyfill")),r=typeof Promise<"u"?Promise:a.default;h.PromiseGlobal=r},{"promise-polyfill":9}],2:[function(o,d,h){"use strict";var t=o("./lib/promise"),a={};function r(n){var s,u=JSON.stringify(n);if(!n.forceScriptReload&&(s=a[u],s))return s;var i=document.createElement("script"),l=n.dataAttributes||{},p=n.container||document.head;return i.src=n.src,i.id=n.id||"",i.async=!0,n.crossorigin&&i.setAttribute("crossorigin",""+n.crossorigin),Object.keys(l).forEach(function(f){i.setAttribute("data-"+f,""+l[f])}),s=new t.PromiseGlobal(function(f,T){i.addEventListener("load",function(){f(i)}),i.addEventListener("error",function(){T(new Error(n.src+" failed to load."))}),i.addEventListener("abort",function(){T(new Error(n.src+" has aborted."))}),p.appendChild(i)}),a[u]=s,s}r.clearCache=function(){a={}},d.exports=r},{"./lib/promise":1}],3:[function(o,d,h){d.exports=o("./dist/load-script")},{"./dist/load-script":2}],4:[function(o,d,h){"use strict";function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var r=Math.random()*16|0,n=a==="x"?r:r&3|8;return n.toString(16)})}d.exports=t},{}],5:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];setTimeout(function(){try{a.apply(void 0,r)}catch(s){console.log("Error in callback function"),console.log(s)}},1)}}h.deferred=t},{}],6:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){var r=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];r||(r=!0,a.apply(void 0,n))}}h.once=t},{}],7:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a,r){if(!r)return a;a.then(function(n){return r(null,n)}).catch(function(n){return r(n)})}h.promiseOrCallback=t},{}],8:[function(o,d,h){"use strict";var t=o("./lib/deferred"),a=o("./lib/once"),r=o("./lib/promise-or-callback");function n(s){return function(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];var l,p=u[u.length-1];return typeof p=="function"&&(l=u.pop(),l=a.once(t.deferred(l))),r.promiseOrCallback(s.apply(this,u),l)}}n.wrapPrototype=function(s,u){u===void 0&&(u={});var i=u.ignoreMethods||[],l=u.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(s.prototype).filter(function(f){var T,R=f!=="constructor"&&typeof s.prototype[f]=="function",I=i.indexOf(f)===-1;return l?T=!0:T=f.charAt(0)!=="_",R&&T&&I});return p.forEach(function(f){var T=s.prototype[f];s.prototype[f]=n(T)}),s},d.exports=n},{"./lib/deferred":5,"./lib/once":6,"./lib/promise-or-callback":7}],9:[function(o,d,h){"use strict";function t(e){var c=this.constructor;return this.then(function(m){return c.resolve(e()).then(function(){return m})},function(m){return c.resolve(e()).then(function(){return c.reject(m)})})}function a(e){var c=this;return new c(function(m,y){if(!(e&&typeof e.length<"u"))return y(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(e);if(E.length===0)return m([]);var A=E.length;function v(_,b){if(b&&(typeof b=="object"||typeof b=="function")){var N=b.then;if(typeof N=="function"){N.call(b,function(O){v(_,O)},function(O){E[_]={status:"rejected",reason:O},--A===0&&m(E)});return}}E[_]={status:"fulfilled",value:b},--A===0&&m(E)}for(var g=0;g<E.length;g++)v(g,E[g])})}var r=setTimeout;function n(e){return!!(e&&typeof e.length<"u")}function s(){}function u(e,c){return function(){e.apply(c,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],I(e,this)}function l(e,c){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(c);return}e._handled=!0,i._immediateFn(function(){var m=e._state===1?c.onFulfilled:c.onRejected;if(m===null){(e._state===1?p:f)(c.promise,e._value);return}var y;try{y=m(e._value)}catch(E){f(c.promise,E);return}p(c.promise,y)})}function p(e,c){try{if(c===e)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var m=c.then;if(c instanceof i){e._state=3,e._value=c,T(e);return}else if(typeof m=="function"){I(u(m,c),e);return}}e._state=1,e._value=c,T(e)}catch(y){f(e,y)}}function f(e,c){e._state=2,e._value=c,T(e)}function T(e){e._state===2&&e._deferreds.length===0&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var c=0,m=e._deferreds.length;c<m;c++)l(e,e._deferreds[c]);e._deferreds=null}function R(e,c,m){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof c=="function"?c:null,this.promise=m}function I(e,c){var m=!1;try{e(function(y){m||(m=!0,p(c,y))},function(y){m||(m=!0,f(c,y))})}catch(y){if(m)return;m=!0,f(c,y)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,c){var m=new this.constructor(s);return l(this,new R(e,c,m)),m},i.prototype.finally=t,i.all=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(e);if(y.length===0)return c([]);var E=y.length;function A(g,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var b=_.then;if(typeof b=="function"){b.call(_,function(N){A(g,N)},m);return}}y[g]=_,--E===0&&c(y)}catch(N){m(N)}}for(var v=0;v<y.length;v++)A(v,y[v])})},i.allSettled=a,i.resolve=function(e){return e&&typeof e=="object"&&e.constructor===i?e:new i(function(c){c(e)})},i.reject=function(e){return new i(function(c,m){m(e)})},i.race=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.race accepts an array"));for(var y=0,E=e.length;y<E;y++)i.resolve(e[y]).then(c,m)})},i._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){r(e,0)},i._unhandledRejectionFn=function(c){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",c)},d.exports=i},{}],10:[function(o,d,h){"use strict";var t=o("./constants").BRAINTREE_VERSION,a=o("./request/graphql"),r=o("./request"),n=o("../lib/is-verified-domain"),s=o("../lib/braintree-error"),u=o("../lib/convert-to-braintree-error"),i=o("./get-configuration").getConfiguration,l=o("../lib/create-authorization-data"),p=o("../lib/add-metadata"),f=o("@braintree/wrap-promise"),T=o("../lib/once"),R=o("../lib/deferred"),I=o("../lib/assign").assign,e=o("../lib/analytics"),c=o("./errors"),m=o("../lib/constants").VERSION,y=o("../lib/constants").GRAPHQL_URLS,E=o("../lib/methods"),A=o("../lib/convert-methods-to-error"),v=o("../lib/assets"),g=o("../lib/constants").FRAUDNET_FNCLS,_=o("../lib/constants").FRAUDNET_SOURCE,b=o("../lib/constants").FRAUDNET_URL,N={};function O(C){var L,w;if(C=C||{},L=JSON.stringify(C),w=C.gatewayConfiguration,!w)throw new s(c.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(D){if(D in w&&!n(w[D]))throw new s({type:c.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:c.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:D+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(L)},this._request=r,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=w.clientApiUrl+"/v1/",w.graphQL){if(!n(w.graphQL.url))throw new s({type:c.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:c.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"graphQL.url property is on an invalid domain."});this._graphQL=new a({graphQL:w.graphQL})}}O.initialize=function(C){var L,w,D=N[C.authorization];if(D)return e.sendEvent(D,"custom.client.load.cached"),D;try{w=l(C.authorization)}catch{return Promise.reject(new s(c.CLIENT_INVALID_AUTHORIZATION))}return D=i(w).then(function(U){return C.debug&&(U.isDebug=!0),U.authorization=C.authorization,L=new O(U),L}),N[C.authorization]=D,e.sendEvent(D,"custom.client.load.initialized"),D.then(function(U){return e.sendEvent(L,"custom.client.load.succeeded"),U}).catch(function(U){return delete N[C.authorization],Promise.reject(U)})},O.clearCache=function(){N={}},O.prototype._findOrCreateFraudnetJSON=function(C){var L=document.querySelector('script[fncls="'+g+'"]'),w,D,U,B;L||(L=document.body.appendChild(document.createElement("script")),L.type="application/json",L.setAttribute("fncls",g)),w=this.getConfiguration(),D={rda_tenant:"bt_card",mid:w.gatewayConfiguration.merchantId},U=w.authorizationFingerprint,U&&U.split("&").forEach(function(V){var H=V.split("=");H[0]==="customer_id"&&H.length>1&&(D.cid=H[1])}),B={f:C.substr(0,32),fp:D,bu:!1,s:_},L.text=JSON.stringify(B)},O.prototype.request=function(C,L){var w=this,D=new Promise(function(U,B){var V,H,X,z,ie=!!(C.endpoint==="payment_methods/credit_cards"&&w.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if(C.api!=="graphQLApi"&&(C.method?C.endpoint||(V="options.endpoint"):V="options.method"),V)throw new s({type:c.CLIENT_OPTION_REQUIRED.type,code:c.CLIENT_OPTION_REQUIRED.code,message:V+" is required when making a request."});if("api"in C?H=C.api:H="clientApi",z={method:C.method,graphQL:w._graphQL,timeout:C.timeout,metadata:w._configuration.analyticsMetadata},H==="clientApi")X=w._clientApiBaseUrl,z.data=p(w._configuration,C.data);else if(H==="graphQLApi")X=y[w._configuration.gatewayConfiguration.environment],C.endpoint="",z.method="post",z.data=I({clientSdkMetadata:{platform:w._configuration.analyticsMetadata.platform,source:w._configuration.analyticsMetadata.source,integration:w._configuration.analyticsMetadata.integration,sessionId:w._configuration.analyticsMetadata.sessionId,version:m}},C.data),z.headers=P(w._configuration);else throw new s({type:c.CLIENT_OPTION_INVALID.type,code:c.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});z.url=X+C.endpoint,z.sendAnalyticsEvent=function($){e.sendEvent(w,$)},w._request(z,function($,ee,re){var G,te;if(te=S(re,$),te){B(te);return}if(H==="graphQLApi"&&ee.errors){B(u(ee.errors,{type:c.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:c.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:c.CLIENT_GRAPHQL_REQUEST_ERROR.message}));return}G=I({_httpStatus:re},ee),ie&&G.creditCards&&G.creditCards.length>0&&(w._findOrCreateFraudnetJSON(G.creditCards[0].nonce),v.loadScript({src:b,forceScriptReload:!0})),U(G)})});if(typeof L=="function"){L=T(R(L)),D.then(function(U){L(null,U,U._httpStatus)}).catch(function(U){var B=U&&U.details&&U.details.httpStatus;L(U,null,B)});return}return D};function S(C,L){var w;if(C===-1?w=new s(c.CLIENT_REQUEST_TIMEOUT):C===401?w=new s(c.CLIENT_AUTHORIZATION_INVALID):C===403?w=new s(c.CLIENT_AUTHORIZATION_INSUFFICIENT):C===429?w=new s(c.CLIENT_RATE_LIMITED):C>=500?w=new s(c.CLIENT_GATEWAY_NETWORK):(C<200||C>=400)&&(w=u(L,{type:c.CLIENT_REQUEST_ERROR.type,code:c.CLIENT_REQUEST_ERROR.code,message:c.CLIENT_REQUEST_ERROR.message})),w)return w.details=w.details||{},w.details.httpStatus=C,w}O.prototype.toJSON=function(){return this.getConfiguration()},O.prototype.getVersion=function(){return m},O.prototype.teardown=f(function(){var C=this;return delete N[C.getConfiguration().authorization],A(C,E(O.prototype)),Promise.resolve()});function P(C){var L=C.authorizationFingerprint||C.authorization;return{Authorization:"Bearer "+L,"Braintree-Version":t}}d.exports=O},{"../lib/add-metadata":28,"../lib/analytics":29,"../lib/assets":30,"../lib/assign":31,"../lib/braintree-error":32,"../lib/constants":33,"../lib/convert-methods-to-error":34,"../lib/convert-to-braintree-error":35,"../lib/create-authorization-data":36,"../lib/deferred":37,"../lib/is-verified-domain":41,"../lib/methods":43,"../lib/once":44,"./constants":11,"./errors":12,"./get-configuration":13,"./request":24,"./request/graphql":22,"@braintree/wrap-promise":8}],11:[function(o,d,h){"use strict";d.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],12:[function(o,d,h){"use strict";var t=o("../lib/braintree-error");d.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:t.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:t.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:t.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:t.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:t.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:t.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:t.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:t.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:t.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:t.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:t.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":32}],13:[function(o,d,h){"use strict";var t=o("../lib/braintree-error"),a=o("@braintree/wrap-promise"),r=o("./request"),n=o("@braintree/uuid"),s=o("../lib/constants"),u=o("./errors"),i=o("./request/graphql"),l=o("../lib/constants").GRAPHQL_URLS,p=o("../lib/is-date-string-before-or-on"),f=o("./constants").BRAINTREE_VERSION;function T(R){return new Promise(function(I,e){var c,m,y,E,A=n(),v={merchantAppId:window.location.host,platform:s.PLATFORM,sdkVersion:s.VERSION,source:s.SOURCE,integration:s.INTEGRATION,integrationType:s.INTEGRATION,sessionId:A};m=R.attrs,y=R.configUrl,m._meta=v,m.braintreeLibraryVersion=s.BRAINTREE_LIBRARY_VERSION,m.configVersion="3",E={url:y,method:"GET",data:m},m.authorizationFingerprint&&R.graphQL?(p(R.graphQL.date,f)&&(E.graphQL=new i({graphQL:{url:R.graphQL.url,features:["configuration"]}})),E.metadata=v):m.tokenizationKey&&(E.graphQL=new i({graphQL:{url:l[R.environment],features:["configuration"]}}),E.metadata=v),r(E,function(g,_,b){var N;if(g){b===403?N=u.CLIENT_AUTHORIZATION_INSUFFICIENT:b===401?N=u.CLIENT_AUTHORIZATION_INVALID:N=u.CLIENT_GATEWAY_NETWORK,e(new t({type:N.type,code:N.code,message:N.message,details:{originalError:g}}));return}c={authorizationType:m.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:m.authorizationFingerprint,analyticsMetadata:v,gatewayConfiguration:_},I(c)})})}d.exports={getConfiguration:a(T)}},{"../lib/braintree-error":32,"../lib/constants":33,"../lib/is-date-string-before-or-on":40,"./constants":11,"./errors":12,"./request":24,"./request/graphql":22,"@braintree/uuid":4,"@braintree/wrap-promise":8}],14:[function(o,d,h){"use strict";var t=o("../lib/braintree-error"),a=o("./client"),r="3.94.0",n=o("@braintree/wrap-promise"),s=o("../lib/errors");function u(i){return i.authorization?a.initialize(i):Promise.reject(new t({type:s.INSTANTIATION_OPTION_REQUIRED.type,code:s.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}d.exports={create:n(u),VERSION:r}},{"../lib/braintree-error":32,"../lib/errors":39,"./client":10,"@braintree/wrap-promise":8}],15:[function(o,d,h){"use strict";var t=o("../../lib/querystring"),a=o("../../lib/assign").assign,r=o("./prep-body"),n=o("./parse-body"),s=o("./xhr"),u=s.isAvailable,i=o("./graphql/request"),l=o("./default-request"),p=1,f=408;function T(c){return!c||c===f}function R(c){var m=!c.data&&c.errors&&c.errors[0]&&c.errors[0].extensions&&c.errors[0].extensions.errorClass;return m==="UNKNOWN"||m==="INTERNAL"}function I(c,m,y){var E,A,v,g,_,b,N,O=c.url,S=c.graphQL,P=c.timeout,C=s.getRequestObject(),L=y,w=!!(S&&S.isGraphQLRequest(O,c.data));c.headers=a({"Content-Type":"application/json"},c.headers),w?v=new i(c):v=new l(c),O=v.getUrl(),g=v.getBody(),_=v.getMethod(),b=v.getHeaders(),_==="GET"&&(O=t.queryify(O,g),g=null),u?C.onreadystatechange=function(){if(C.readyState===4){if(C.status===0&&w){delete c.graphQL,I(c,m,y);return}if(N=n(C.responseText),A=v.adaptResponseBody(N),E=v.determineStatus(C.status,N),E>=400||E<200){if(w&&R(N)){delete c.graphQL,I(c,m,y);return}if(m<p&&T(E)){m++,I(c,m,y);return}L(A||"error",null,E||500)}else L(null,A,E)}}:(c.headers&&(O=t.queryify(O,b)),C.onload=function(){L(null,n(C.responseText),C.status)},C.onerror=function(){L("error",null,500)},C.onprogress=function(){},C.ontimeout=function(){L("timeout",null,-1)});try{C.open(_,O,!0)}catch(D){if(!w)throw D;delete c.graphQL,I(c,m,y);return}C.timeout=P,u&&Object.keys(b).forEach(function(D){C.setRequestHeader(D,b[D])});try{C.send(r(_,g))}catch{}}function e(c,m){I(c,0,m)}d.exports={request:e}},{"../../lib/assign":31,"../../lib/querystring":45,"./default-request":16,"./graphql/request":23,"./parse-body":25,"./prep-body":26,"./xhr":27}],16:[function(o,d,h){"use strict";function t(a){this._url=a.url,this._data=a.data,this._method=a.method,this._headers=a.headers}t.prototype.getUrl=function(){return this._url},t.prototype.getBody=function(){return this._data},t.prototype.getMethod=function(){return this._method},t.prototype.getHeaders=function(){return this._headers},t.prototype.adaptResponseBody=function(a){return a},t.prototype.determineStatus=function(a){return a},d.exports=t},{}],17:[function(o,d,h){"use strict";var t=o("./error"),a=o("../../../../lib/assign").assign,r={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};function n(i,l){var p;return i.data&&!i.errors?p=s(i,l):p=t(i),p}function s(i,l){var p=i.data.clientConfiguration,f;return f={environment:p.environment.toLowerCase(),clientApiUrl:p.clientApiUrl,assetsUrl:p.assetsUrl,analytics:{url:p.analyticsUrl},merchantId:p.merchantId,venmo:"off"},p.supportedFeatures&&(f.graphQL={url:l._graphQL._config.url,features:p.supportedFeatures.map(function(T){return T.toLowerCase()})}),p.braintreeApi&&(f.braintreeApi=p.braintreeApi),p.applePayWeb&&(f.applePayWeb=p.applePayWeb,f.applePayWeb.supportedNetworks=u(p.applePayWeb.supportedCardBrands,r.applePayWeb),delete f.applePayWeb.supportedCardBrands),p.ideal&&(f.ideal=p.ideal),p.kount&&(f.kount={kountMerchantId:p.kount.merchantId}),p.creditCard?(f.challenges=p.creditCard.challenges.map(function(T){return T.toLowerCase()}),f.creditCards={supportedCardTypes:u(p.creditCard.supportedCardBrands,r.creditCard)},f.threeDSecureEnabled=p.creditCard.threeDSecureEnabled,f.threeDSecure=p.creditCard.threeDSecure):(f.challenges=[],f.creditCards={supportedCardTypes:[]},f.threeDSecureEnabled=!1),p.googlePay&&(f.androidPay={displayName:p.googlePay.displayName,enabled:!0,environment:p.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:p.googlePay.googleAuthorization,paypalClientId:p.googlePay.paypalClientId,supportedNetworks:u(p.googlePay.supportedCardBrands,r.googlePay)}),p.venmo&&(f.payWithVenmo={merchantId:p.venmo.merchantId,accessToken:p.venmo.accessToken,environment:p.venmo.environment.toLowerCase()}),p.paypal?(f.paypalEnabled=!0,f.paypal=a({},p.paypal),f.paypal.currencyIsoCode=f.paypal.currencyCode,f.paypal.environment=f.paypal.environment.toLowerCase(),delete f.paypal.currencyCode):f.paypalEnabled=!1,p.unionPay&&(f.unionPay={enabled:!0,merchantAccountId:p.unionPay.merchantAccountId}),p.visaCheckout&&(f.visaCheckout={apikey:p.visaCheckout.apiKey,encryptionKey:p.visaCheckout.encryptionKey,externalClientId:p.visaCheckout.externalClientId,supportedCardTypes:u(p.visaCheckout.supportedCardBrands,r.visaCheckout)}),p.masterpass&&(f.masterpass={merchantCheckoutId:p.masterpass.merchantCheckoutId,supportedNetworks:u(p.masterpass.supportedCardBrands,r.masterpass)}),p.usBankAccount&&(f.usBankAccount={routeId:p.usBankAccount.routeId,plaid:{publicKey:p.usBankAccount.plaidPublicKey}}),f}function u(i,l){return i.reduce(function(p,f){return l.hasOwnProperty(f)?p.concat(l[f]):p},[])}d.exports=n},{"../../../../lib/assign":31,"./error":19}],18:[function(o,d,h){"use strict";var t=o("./error"),a={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},r={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},n={PSDTWO:"psd2"};function s(i){var l;return i.data&&!i.errors?l=u(i):l=t(i),l}function u(i){var l=i.data.tokenizeCreditCard,p=l.creditCard,f=p.last4?p.last4.substr(2,4):"",T=p.binData,R,I;return T&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(e){T[e]?T[e]=r[T[e]]:T[e]="Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(e){T[e]||(T[e]="Unknown")})),R={creditCards:[{binData:T,consumed:!1,description:f?"ending in "+f:"",nonce:l.token,details:{cardholderName:p.cardholderName,expirationMonth:p.expirationMonth,expirationYear:p.expirationYear,bin:p.bin||"",cardType:a[p.brandCode]||"Unknown",lastFour:p.last4||"",lastTwo:f},type:"CreditCard",threeDSecureInfo:null}]},l.authenticationInsight&&(I=l.authenticationInsight.customerAuthenticationRegulationEnvironment,R.creditCards[0].authenticationInsight={regulationEnvironment:n[I]||I.toLowerCase()}),R}d.exports=s},{"./error":19}],19:[function(o,d,h){"use strict";function t(i){var l,p=i.errors&&i.errors[0]&&i.errors[0].extensions&&i.errors[0].extensions.errorClass;return p==="VALIDATION"?l=r(i):p?l=a(i):l={error:{message:"There was a problem serving your request"},fieldErrors:[]},l}function a(i){return{error:{message:i.errors[0].message},fieldErrors:[]}}function r(i){var l=n(i.errors);return l.length===0?{error:{message:i.errors[0].message}}:{error:{message:u(l)},fieldErrors:l}}function n(i){var l=[];return i.forEach(function(p){p.extensions&&p.extensions.inputPath&&s(p.extensions.inputPath.slice(1),p,l)}),l}function s(i,l,p){var f,T=l.extensions.legacyCode,R=i[0];if(i.length===1){p.push({code:T,field:R,message:l.message});return}p.forEach(function(I){I.field===R&&(f=I)}),f||(f={field:R,fieldErrors:[]},p.push(f)),s(i.slice(1),l,f.fieldErrors)}function u(i){var l={creditCard:"Credit card is invalid"},p=i[0].field;return l[p]}d.exports=t},{}],20:[function(o,d,h){"use strict";var t="query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }";function a(){return{query:t,operationName:"ClientConfiguration"}}d.exports=a},{}],21:[function(o,d,h){"use strict";var t=o("../../../../lib/assign").assign;function a(u){var i=u.hasAuthenticationInsight,l="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!";return i&&(l+=", $authenticationInsightInput: AuthenticationInsightInput!"),l+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",i&&(l+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),l+="  } }",l}function r(u,i){var l=u.creditCard,p=l&&l.billingAddress,f=l&&l.expirationDate,T=l&&(l.expirationMonth||f&&f.split("/")[0].trim()),R=l&&(l.expirationYear||f&&f.split("/")[1].trim()),I={input:{creditCard:{number:l&&l.number,expirationMonth:T,expirationYear:R,cvv:l&&l.cvv,cardholderName:l&&l.cardholderName},options:{}}};return i.hasAuthenticationInsight&&(I.authenticationInsightInput={merchantAccountId:u.merchantAccountId}),p&&(I.input.creditCard.billingAddress=p),I.input=n(u,I.input),I}function n(u,i){var l;return u.creditCard&&u.creditCard.options&&typeof u.creditCard.options.validate=="boolean"?l=u.creditCard.options.validate:u.authorizationFingerprint&&u.tokenizationKey||u.authorizationFingerprint?l=!0:u.tokenizationKey&&(l=!1),typeof l=="boolean"&&(i.options=t({validate:l},i.options)),i}function s(u){var i={hasAuthenticationInsight:!!(u.authenticationInsight&&u.merchantAccountId)};return{query:a(i),variables:r(u,i),operationName:"TokenizeCreditCard"}}d.exports=s},{"../../../../lib/assign":31}],22:[function(o,d,h){"use strict";var t={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},a=["creditCard.options.unionPayEnrollment"];function r(s){this._config=s.graphQL}r.prototype.getGraphQLEndpoint=function(){return this._config.url},r.prototype.isGraphQLRequest=function(s,u){var i,l=this.getClientApiPath(s);return!this._isGraphQLEnabled()||!l||(i=this._config.features.some(function(p){return t[p]===l}),n(u))?!1:i},r.prototype.getClientApiPath=function(s){var u,i="/client_api/v1/",l=s.split(i);return l.length>1&&(u=l[1].split("?")[0]),u},r.prototype._isGraphQLEnabled=function(){return!!this._config};function n(s){return a.some(function(u){var i=u.split(".").reduce(function(l,p){return l&&l[p]},s);return i!==void 0})}d.exports=r},{}],23:[function(o,d,h){"use strict";var t=o("../../constants").BRAINTREE_VERSION,a=o("../../../lib/assign").assign,r=o("../../../lib/snake-case-to-camel-case"),n=o("./generators/credit-card-tokenization"),s=o("./adapters/credit-card-tokenization"),u=o("./generators/configuration"),i=o("./adapters/configuration"),l={"payment_methods/credit_cards":n,configuration:u},p={"payment_methods/credit_cards":s,configuration:i};function f(I){var e=I.graphQL.getClientApiPath(I.url);this._graphQL=I.graphQL,this._data=I.data,this._method=I.method,this._headers=I.headers,this._clientSdkMetadata={source:I.metadata.source,integration:I.metadata.integration,sessionId:I.metadata.sessionId},this._sendAnalyticsEvent=I.sendAnalyticsEvent||Function.prototype,this._generator=l[e],this._adapter=p[e],this._sendAnalyticsEvent("graphql.init")}f.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},f.prototype.getBody=function(){var I=R(this._data),e=this._generator(I),c=a({clientSdkMetadata:this._clientSdkMetadata},e);return JSON.stringify(c)},f.prototype.getMethod=function(){return"POST"},f.prototype.getHeaders=function(){var I,e;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),I=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),I=this._data.tokenizationKey),e={Authorization:"Bearer "+I,"Braintree-Version":t},a({},this._headers,e)},f.prototype.adaptResponseBody=function(I){return this._adapter(I,this)},f.prototype.determineStatus=function(I,e){var c,m;return I===200?(m=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass,e.data&&!e.errors?c=200:m==="VALIDATION"?c=422:m==="AUTHORIZATION"?c=403:m==="AUTHENTICATION"?c=401:T(m,e)?c=403:c=500):I?c=I:c=500,this._sendAnalyticsEvent("graphql.status."+I),this._sendAnalyticsEvent("graphql.determinedStatus."+c),c};function T(I,e){return!I&&e.errors[0].message}function R(I){var e={};return Object.keys(I).forEach(function(c){var m=r(c);typeof I[c]=="object"?e[m]=R(I[c]):typeof I[c]=="number"?e[m]=String(I[c]):e[m]=I[c]}),e}d.exports=f},{"../../../lib/assign":31,"../../../lib/snake-case-to-camel-case":46,"../../constants":11,"./adapters/configuration":17,"./adapters/credit-card-tokenization":18,"./generators/configuration":20,"./generators/credit-card-tokenization":21}],24:[function(o,d,h){"use strict";var t=o("../../lib/once"),a=o("./ajax-driver");d.exports=function(r,n){n=t(n||Function.prototype),r.method=(r.method||"GET").toUpperCase(),r.timeout=r.timeout==null?6e4:r.timeout,r.data=r.data||{},a.request(r,n)}},{"../../lib/once":44,"./ajax-driver":15}],25:[function(o,d,h){"use strict";d.exports=function(t){try{t=JSON.parse(t)}catch{}return t}},{}],26:[function(o,d,h){"use strict";d.exports=function(t,a){if(typeof t!="string")throw new Error("Method must be a string");return t.toLowerCase()!=="get"&&a!=null&&(a=typeof a=="string"?a:JSON.stringify(a)),a}},{}],27:[function(o,d,h){"use strict";var t=typeof window<"u"&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;function a(){return t?new window.XMLHttpRequest:new window.XDomainRequest}d.exports={isAvailable:t,getRequestObject:a}},{}],28:[function(o,d,h){"use strict";var t=o("./create-authorization-data"),a=o("./json-clone"),r=o("./constants");function n(s,u){var i,l=u?a(u):{},p=t(s.authorization).attrs,f=a(s.analyticsMetadata);l.braintreeLibraryVersion=r.BRAINTREE_LIBRARY_VERSION;for(i in l._meta)l._meta.hasOwnProperty(i)&&(f[i]=l._meta[i]);return l._meta=f,p.tokenizationKey?l.tokenizationKey=p.tokenizationKey:l.authorizationFingerprint=p.authorizationFingerprint,l}d.exports=n},{"./constants":33,"./create-authorization-data":36,"./json-clone":42}],29:[function(o,d,h){"use strict";var t=o("./constants"),a=o("./add-metadata");function r(n,s,u){var i=Date.now();return Promise.resolve(n).then(function(l){var p=Date.now(),f=l.getConfiguration(),T=l._request,R=f.gatewayConfiguration.analytics.url,I={analytics:[{kind:t.ANALYTICS_PREFIX+s,isAsync:Math.floor(p/1e3)!==Math.floor(i/1e3),timestamp:i}]};T({url:R,method:"post",data:a(f,I),timeout:t.ANALYTICS_REQUEST_TIMEOUT_MS},u)}).catch(function(l){u&&u(l)})}d.exports={sendEvent:r}},{"./add-metadata":28,"./constants":33}],30:[function(o,d,h){"use strict";var t=o("@braintree/asset-loader/load-script");d.exports={loadScript:t}},{"@braintree/asset-loader/load-script":3}],31:[function(o,d,h){"use strict";var t=typeof Object.assign=="function"?Object.assign:a;function a(r){var n,s,u;for(n=1;n<arguments.length;n++){s=arguments[n];for(u in s)s.hasOwnProperty(u)&&(r[u]=s[u])}return r}d.exports={assign:t,_assign:a}},{}],32:[function(o,d,h){"use strict";var t=o("./enumerate");function a(r){if(!a.types.hasOwnProperty(r.type))throw new Error(r.type+" is not a valid type.");if(!r.code)throw new Error("Error code required.");if(!r.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=r.code,this.message=r.message,this.type=r.type,this.details=r.details}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.types=t(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),a.findRootError=function(r){return r instanceof a&&r.details&&r.details.originalError?a.findRootError(r.details.originalError):r},d.exports=a},{"./enumerate":38}],33:[function(o,d,h){"use strict";var t="3.94.0",a="web",r={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},n={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},s={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:a+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:n,CLIENT_API_URLS:r,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:s,INTEGRATION_TIMEOUT_MS:6e4,VERSION:t,INTEGRATION:"custom",SOURCE:"client",PLATFORM:a,BRAINTREE_LIBRARY_VERSION:"braintree/"+a+"/"+t}},{}],34:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./errors");d.exports=function(r,n){n.forEach(function(s){r[s]=function(){throw new t({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:s+" cannot be called after teardown."})}})}},{"./braintree-error":32,"./errors":39}],35:[function(o,d,h){"use strict";var t=o("./braintree-error");function a(r,n){return r instanceof t?r:new t({type:n.type,code:n.code,message:n.message,details:{originalError:r}})}d.exports=a},{"./braintree-error":32}],36:[function(o,d,h){"use strict";var t=o("../lib/vendor/polyfill").atob,a=o("../lib/constants").CLIENT_API_URLS;function r(u){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(u)}function n(u){var i=u.split("_"),l=i[0],p=i.slice(2).join("_");return{merchantId:p,environment:l}}function s(u){var i,l,p={attrs:{},configUrl:""};return r(u)?(l=n(u),p.environment=l.environment,p.attrs.tokenizationKey=u,p.configUrl=a[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(i=JSON.parse(t(u)),p.environment=i.environment,p.attrs.authorizationFingerprint=i.authorizationFingerprint,p.configUrl=i.configUrl,p.graphQL=i.graphQL),p}d.exports=s},{"../lib/constants":33,"../lib/vendor/polyfill":47}],37:[function(o,d,h){"use strict";d.exports=function(t){return function(){var a=arguments;setTimeout(function(){t.apply(null,a)},1)}}},{}],38:[function(o,d,h){"use strict";function t(a,r){return r=r??"",a.reduce(function(n,s){return n[s]=r+s,n},{})}d.exports=t},{}],39:[function(o,d,h){"use strict";var t=o("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:t.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:t.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:t.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:t.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":32}],40:[function(o,d,h){"use strict";function t(r){var n=r.split("-");return new Date(n[0],n[1],n[2])}function a(r,n){return t(r)<=t(n)}d.exports=a},{}],41:[function(o,d,h){"use strict";var t,a={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};function r(s){return s.split(".").slice(-2).join(".")}function n(s){var u;return s=s.toLowerCase(),/^https:/.test(s)?(t=t||document.createElement("a"),t.href=s,u=r(t.hostname),a.hasOwnProperty(u)):!1}d.exports=n},{}],42:[function(o,d,h){"use strict";d.exports=function(t){return JSON.parse(JSON.stringify(t))}},{}],43:[function(o,d,h){"use strict";d.exports=function(t){return Object.keys(t).filter(function(a){return typeof t[a]=="function"})}},{}],44:[function(o,d,h){"use strict";function t(a){var r=!1;return function(){r||(r=!0,a.apply(null,arguments))}}d.exports=t},{}],45:[function(o,d,h){"use strict";function t(i){var l;for(l in i)if(i.hasOwnProperty(l))return!0;return!1}function a(i){return i&&typeof i=="object"&&typeof i.length=="number"&&Object.prototype.toString.call(i)==="[object Array]"||!1}function r(i){return i=i||window.location.href,/\?/.test(i)}function n(i){var l,p;return i=i||window.location.href,r(i)?(l=i.split("?")[1]||"",l=l.replace(/#.*$/,"").split("&"),p=l.reduce(function(f,T){var R=T.split("="),I=decodeURIComponent(R[0]),e=decodeURIComponent(R[1]);return f[I]=e,f},{}),p):{}}function s(i,l){var p,f,T,R=[];for(T in i)i.hasOwnProperty(T)&&(f=i[T],l?a(i)?p=l+"[]":p=l+"["+T+"]":p=T,typeof f=="object"?R.push(s(f,p)):R.push(encodeURIComponent(p)+"="+encodeURIComponent(f)));return R.join("&")}function u(i,l){return i=i||"",l!=null&&typeof l=="object"&&t(l)&&(i+=i.indexOf("?")===-1?"?":"",i+=i.indexOf("=")!==-1?"&":"",i+=s(l)),i}d.exports={parse:n,stringify:s,queryify:u,hasQueryParams:r}},{}],46:[function(o,d,h){"use strict";d.exports=function(t){return t.indexOf("_")===-1?t:t.toLowerCase().replace(/(\_\w)/g,function(a){return a[1].toUpperCase()})}},{}],47:[function(o,d,h){"use strict";var t=typeof atob=="function"?atob:a;function a(r){var n,s,u,i,l,p,f,T,R=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="";if(!R.test(r))throw new Error("Non base64 encoded input passed to window.atob polyfill");T=0;do i=I.indexOf(r.charAt(T++)),l=I.indexOf(r.charAt(T++)),p=I.indexOf(r.charAt(T++)),f=I.indexOf(r.charAt(T++)),n=(i&63)<<2|l>>4&3,s=(l&15)<<4|p>>2&15,u=(p&3)<<6|f&63,e+=String.fromCharCode(n)+(s?String.fromCharCode(s):"")+(u?String.fromCharCode(u):"");while(T<r.length);return e}d.exports={atob:function(r){return t.call(window,r)},_atob:a}},{}]},{},[14])(14)})})(Q,Q.exports);var se=Q.exports;const ce=W(se);var Y={exports:{}},be=Y.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function o(d,h,t){function a(s,u){if(!h[s]){if(!d[s]){var i=typeof x=="function"&&x;if(!u&&i)return i(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=h[s]={exports:{}};d[s][0].call(p.exports,function(f){var T=d[s][1][f];return a(T||f)},p,p.exports,o,d,h,t)}return h[s].exports}for(var r=typeof x=="function"&&x,n=0;n<t.length;n++)a(t[n]);return a}return o}()({1:[function(o,d,h){"use strict";var t=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(h,"__esModule",{value:!0}),h.PromiseGlobal=void 0;var a=t(o("promise-polyfill")),r=typeof Promise<"u"?Promise:a.default;h.PromiseGlobal=r},{"promise-polyfill":45}],2:[function(o,d,h){"use strict";var t=o("./lib/promise"),a={};function r(n){var s,u=JSON.stringify(n);if(!n.forceScriptReload&&(s=a[u],s))return s;var i=document.createElement("script"),l=n.dataAttributes||{},p=n.container||document.head;return i.src=n.src,i.id=n.id||"",i.async=!0,n.crossorigin&&i.setAttribute("crossorigin",""+n.crossorigin),Object.keys(l).forEach(function(f){i.setAttribute("data-"+f,""+l[f])}),s=new t.PromiseGlobal(function(f,T){i.addEventListener("load",function(){f(i)}),i.addEventListener("error",function(){T(new Error(n.src+" failed to load."))}),i.addEventListener("abort",function(){T(new Error(n.src+" has aborted."))}),p.appendChild(i)}),a[u]=s,s}r.clearCache=function(){a={}},d.exports=r},{"./lib/promise":1}],3:[function(o,d,h){d.exports=o("./dist/load-script")},{"./dist/load-script":2}],4:[function(o,d,h){"use strict";d.exports=function(a){return a=a||window.navigator.userAgent,/Android/i.test(a)}},{}],5:[function(o,d,h){"use strict";var t=o("./is-edge"),a=o("./is-samsung"),r=o("./is-duckduckgo"),n=o("./is-opera"),s=o("./is-silk");d.exports=function(i){return i=i||window.navigator.userAgent,(i.indexOf("Chrome")!==-1||i.indexOf("CriOS")!==-1)&&!t(i)&&!a(i)&&!r(i)&&!n(i)&&!s(i)}},{"./is-duckduckgo":6,"./is-edge":7,"./is-opera":13,"./is-samsung":14,"./is-silk":15}],6:[function(o,d,h){"use strict";d.exports=function(a){return a=a||window.navigator.userAgent,a.indexOf("DuckDuckGo/")!==-1}},{}],7:[function(o,d,h){"use strict";d.exports=function(a){return a=a||window.navigator.userAgent,a.indexOf("Edge/")!==-1}},{}],8:[function(o,d,h){"use strict";d.exports=function(a){return a=a||window.navigator.userAgent,/FxiOS/i.test(a)}},{}],9:[function(o,d,h){"use strict";var t=o("./is-ios");function a(r){return/\bGSA\b/.test(r)}d.exports=function(n){return n=n||window.navigator.userAgent,t(n)&&a(n)}},{"./is-ios":12}],10:[function(o,d,h){"use strict";var t=o("./is-ios"),a=o("./is-ios-google-search-app");d.exports=function(n){return n=n||window.navigator.userAgent,t(n)?a(n)?!0:/.+AppleWebKit(?!.*Safari)/i.test(n):!1}},{"./is-ios":12,"./is-ios-google-search-app":9}],11:[function(o,d,h){"use strict";var t=o("./is-ios-webview");d.exports=function(r,n){return n=typeof n<"u"?n:window.statusbar.visible,t(r)&&n}},{"./is-ios-webview":10}],12:[function(o,d,h){"use strict";d.exports=function(a){return a=a||window.navigator.userAgent,/iPhone|iPod|iPad/i.test(a)}},{}],13:[function(o,d,h){"use strict";d.exports=function(a){return a=a||window.navigator.userAgent,a.indexOf("OPR/")!==-1||a.indexOf("Opera/")!==-1||a.indexOf("OPT/")!==-1}},{}],14:[function(o,d,h){"use strict";d.exports=function(a){return a=a||window.navigator.userAgent,/SamsungBrowser/i.test(a)}},{}],15:[function(o,d,h){"use strict";d.exports=function(a){return a=a||window.navigator.userAgent,a.indexOf("Silk/")!==-1}},{}],16:[function(o,d,h){"use strict";var t=48,a=o("./is-android"),r=o("./is-ios-firefox"),n=o("./is-ios-webview"),s=o("./is-chrome"),u=o("./is-samsung"),i=o("./is-duckduckgo");function l(R){R=R||window.navigator.userAgent;var I=R.match(/CriOS\/(\d+)\./);if(!I)return!1;var e=parseInt(I[1],10);return e<t}function p(R){return R=R||window.navigator.userAgent,R.indexOf("Opera Mini")>-1}function f(R){var I=/Version\/[\d.]+/i;return R=R||window.navigator.userAgent,a(R)?I.test(R)&&!p(R)&&!i(R):!1}function T(R){return!s(R)&&!u(R)&&/samsung/i.test(R)}d.exports=function(I){return I=I||window.navigator.userAgent,!(n(I)||r(I)||f(I)||p(I)||l(I)||T(I))}},{"./is-android":4,"./is-chrome":5,"./is-duckduckgo":6,"./is-ios-firefox":8,"./is-ios-webview":10,"./is-samsung":14}],17:[function(o,d,h){d.exports=o("./dist/is-ios-wkwebview")},{"./dist/is-ios-wkwebview":11}],18:[function(o,d,h){d.exports=o("./dist/is-ios")},{"./dist/is-ios":12}],19:[function(o,d,h){d.exports=o("./dist/supports-popups")},{"./dist/supports-popups":16}],20:[function(o,d,h){"use strict";var t=typeof Promise<"u"?Promise:null,a=function(){function r(n){var s=this;if(typeof n=="function"){this._promise=new r.Promise(n);return}this._promise=new r.Promise(function(u,i){s._resolveFunction=u,s._rejectFunction=i}),n=n||{},this._onResolve=n.onResolve||r.defaultOnResolve,this._onReject=n.onReject||r.defaultOnReject,r.shouldCatchExceptions(n)&&this._promise.catch(function(){}),this._resetState()}return r.defaultOnResolve=function(n){return r.Promise.resolve(n)},r.defaultOnReject=function(n){return r.Promise.reject(n)},r.setPromise=function(n){r.Promise=n},r.shouldCatchExceptions=function(n){return n.hasOwnProperty("suppressUnhandledPromiseMessage")?!!n.suppressUnhandledPromiseMessage:!!r.suppressUnhandledPromiseMessage},r.all=function(n){return r.Promise.all(n)},r.allSettled=function(n){return r.Promise.allSettled(n)},r.race=function(n){return r.Promise.race(n)},r.reject=function(n){return r.Promise.reject(n)},r.resolve=function(n){return r.Promise.resolve(n)},r.prototype.then=function(){for(var n,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(n=this._promise).then.apply(n,s)},r.prototype.catch=function(){for(var n,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(n=this._promise).catch.apply(n,s)},r.prototype.resolve=function(n){var s=this;return this.isFulfilled?this:(this._setResolved(),r.Promise.resolve().then(function(){return s._onResolve(n)}).then(function(u){s._resolveFunction(u)}).catch(function(u){s._resetState(),s.reject(u)}),this)},r.prototype.reject=function(n){var s=this;return this.isFulfilled?this:(this._setRejected(),r.Promise.resolve().then(function(){return s._onReject(n)}).then(function(u){s._setResolved(),s._resolveFunction(u)}).catch(function(u){return s._rejectFunction(u)}),this)},r.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},r.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},r.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},r.Promise=t,r}();d.exports=a},{}],21:[function(o,d,h){"use strict";var t=o("./lib/set-attributes"),a=o("./lib/default-attributes"),r=o("./lib/assign");d.exports=function(s){s===void 0&&(s={});var u=document.createElement("iframe"),i=r.assign({},a.defaultAttributes,s);return i.style&&typeof i.style!="string"&&(r.assign(u.style,i.style),delete i.style),t.setAttributes(u,i),u.getAttribute("id")||(u.id=u.name),u}},{"./lib/assign":22,"./lib/default-attributes":23,"./lib/set-attributes":24}],22:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.assign=void 0;function t(a){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.forEach(function(s){typeof s=="object"&&Object.keys(s).forEach(function(u){a[u]=s[u]})}),a}h.assign=t},{}],23:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.defaultAttributes=void 0,h.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],24:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.setAttributes=void 0;function t(a,r){for(var n in r)if(r.hasOwnProperty(n)){var s=r[n];s==null?a.removeAttribute(n):a.setAttribute(n,s)}}h.setAttributes=t},{}],25:[function(o,d,h){"use strict";function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var r=Math.random()*16|0,n=a==="x"?r:r&3|8;return n.toString(16)})}d.exports=t},{}],26:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];setTimeout(function(){try{a.apply(void 0,r)}catch(s){console.log("Error in callback function"),console.log(s)}},1)}}h.deferred=t},{}],27:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){var r=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];r||(r=!0,a.apply(void 0,n))}}h.once=t},{}],28:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a,r){if(!r)return a;a.then(function(n){return r(null,n)}).catch(function(n){return r(n)})}h.promiseOrCallback=t},{}],29:[function(o,d,h){"use strict";var t=o("./lib/deferred"),a=o("./lib/once"),r=o("./lib/promise-or-callback");function n(s){return function(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];var l,p=u[u.length-1];return typeof p=="function"&&(l=u.pop(),l=a.once(t.deferred(l))),r.promiseOrCallback(s.apply(this,u),l)}}n.wrapPrototype=function(s,u){u===void 0&&(u={});var i=u.ignoreMethods||[],l=u.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(s.prototype).filter(function(f){var T,R=f!=="constructor"&&typeof s.prototype[f]=="function",I=i.indexOf(f)===-1;return l?T=!0:T=f.charAt(0)!=="_",R&&T&&I});return p.forEach(function(f){var T=s.prototype[f];s.prototype[f]=n(T)}),s},d.exports=n},{"./lib/deferred":26,"./lib/once":27,"./lib/promise-or-callback":28}],30:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.Framebus=void 0;var t=o("./lib/is-not-string"),a=o("./lib/subscription-args-invalid"),r=o("./lib/broadcast"),n=o("./lib/package-payload"),s=o("./lib/send-message"),u=o("./lib/constants"),i=typeof window<"u"&&window.Promise,l=function(){function p(f){f===void 0&&(f={}),this.origin=f.origin||"*",this.channel=f.channel||"",this.verifyDomain=f.verifyDomain,this.targetFrames=f.targetFrames||[],this.limitBroadcastToFramesArray=!!f.targetFrames,this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=!!(this.verifyDomain||this.limitBroadcastToFramesArray)}return p.setPromise=function(f){p.Promise=f},p.target=function(f){return new p(f)},p.prototype.addTargetFrame=function(f){this.limitBroadcastToFramesArray&&this.targetFrames.push(f)},p.prototype.include=function(f){return f==null||f.Window==null||f.constructor!==f.Window?!1:(u.childWindows.push(f),!0)},p.prototype.target=function(f){return p.target(f)},p.prototype.emit=function(f,T,R){if(this.isDestroyed)return!1;var I=this.origin;if(f=this.namespaceEvent(f),(0,t.isntString)(f)||(0,t.isntString)(I))return!1;typeof T=="function"&&(R=T,T=void 0);var e=(0,n.packagePayload)(f,I,T,R);return e?(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(c){(0,s.sendMessage)(c,e,I)}):(0,r.broadcast)(e,{origin:I,frame:window.top||window.self}),!0):!1},p.prototype.emitAsPromise=function(f,T){var R=this;return new p.Promise(function(I,e){var c=R.emit(f,T,function(m){I(m)});c||e(new Error('Listener not added for "'.concat(f,'"')))})},p.prototype.on=function(f,T){if(this.isDestroyed)return!1;var R=this,I=this.origin,e=T;return f=this.namespaceEvent(f),(0,a.subscriptionArgsInvalid)(f,e,I)?!1:(this.hasAdditionalChecksForOnListeners&&(e=function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];R.passesVerifyDomainCheck(this&&this.origin)&&R.hasMatchingTargetFrame(this&&this.source)&&T.apply(void 0,c)}),this.listeners.push({eventName:f,handler:e,originalHandler:T}),u.subscribers[I]=u.subscribers[I]||{},u.subscribers[I][f]=u.subscribers[I][f]||[],u.subscribers[I][f].push(e),!0)},p.prototype.off=function(f,T){var R=T;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var I=0;I<this.listeners.length;I++){var e=this.listeners[I];e.originalHandler===T&&(R=e.handler)}f=this.namespaceEvent(f);var c=this.origin;if((0,a.subscriptionArgsInvalid)(f,R,c))return!1;var m=u.subscribers[c]&&u.subscribers[c][f];if(!m)return!1;for(var I=0;I<m.length;I++)if(m[I]===R)return m.splice(I,1),!0;return!1},p.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var f=0;f<this.listeners.length;f++){var T=this.listeners[f];this.off(T.eventName,T.handler)}this.listeners.length=0}},p.prototype.passesVerifyDomainCheck=function(f){return this.verifyDomain?this.checkOrigin(f):!0},p.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(f){return f instanceof HTMLIFrameElement?f.contentWindow:f}).filter(function(f){return f}):[]},p.prototype.hasMatchingTargetFrame=function(f){if(!this.limitBroadcastToFramesArray)return!0;var T=this.targetFramesAsWindows().find(function(R){return R===f});return!!T},p.prototype.checkOrigin=function(f){var T,R=document.createElement("a");R.href=location.href,R.protocol==="https:"?T=R.host.replace(/:443$/,""):R.protocol==="http:"?T=R.host.replace(/:80$/,""):T=R.host;var I=R.protocol+"//"+T;return I===f?!0:this.verifyDomain?this.verifyDomain(f):!0},p.prototype.namespaceEvent=function(f){return this.channel?"".concat(this.channel,":").concat(f):f},p.Promise=i,p}();h.Framebus=l},{"./lib/broadcast":34,"./lib/constants":35,"./lib/is-not-string":38,"./lib/package-payload":40,"./lib/send-message":41,"./lib/subscription-args-invalid":43}],31:[function(o,d,h){"use strict";var t=o("./lib/attach"),a=o("./framebus");(0,t.attach)(),d.exports=a.Framebus},{"./framebus":30,"./lib/attach":32}],32:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.detach=h.attach=void 0;var t=o("./message"),a=!1;function r(){a||typeof window>"u"||(a=!0,window.addEventListener("message",t.onmessage,!1))}h.attach=r;function n(){a=!1,window.removeEventListener("message",t.onmessage,!1)}h.detach=n},{"./message":39}],33:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.broadcastToChildWindows=void 0;var t=o("./broadcast"),a=o("./constants");function r(n,s,u){for(var i=a.childWindows.length-1;i>=0;i--){var l=a.childWindows[i];l.closed?a.childWindows.splice(i,1):u!==l&&(0,t.broadcast)(n,{origin:s,frame:l.top})}}h.broadcastToChildWindows=r},{"./broadcast":34,"./constants":35}],34:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.broadcast=void 0;var t=o("./has-opener");function a(r,n){var s=0,u,i=n.origin,l=n.frame;try{for(l.postMessage(r,i),(0,t.hasOpener)(l)&&l.opener.top!==window.top&&a(r,{origin:i,frame:l.opener.top});u=l.frames[s];)a(r,{origin:i,frame:u}),s++}catch{}}h.broadcast=a},{"./has-opener":37}],35:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.subscribers=h.childWindows=h.prefix=void 0,h.prefix="/*framebus*/",h.childWindows=[],h.subscribers={}},{}],36:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.dispatch=void 0;var t=o("./constants");function a(r,n,s,u,i){if(t.subscribers[r]&&t.subscribers[r][n]){var l=[];s&&l.push(s),u&&l.push(u);for(var p=0;p<t.subscribers[r][n].length;p++)t.subscribers[r][n][p].apply(i,l)}}h.dispatch=a},{"./constants":35}],37:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.hasOpener=void 0;function t(a){return!(a.top!==a||a.opener==null||a.opener===a||a.opener.closed===!0)}h.hasOpener=t},{}],38:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.isntString=void 0;function t(a){return typeof a!="string"}h.isntString=t},{}],39:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.onmessage=void 0;var t=o("./is-not-string"),a=o("./unpack-payload"),r=o("./dispatch"),n=o("./broadcast-to-child-windows");function s(u){if(!(0,t.isntString)(u.data)){var i=(0,a.unpackPayload)(u);if(i){var l=i.eventData,p=i.reply;(0,r.dispatch)("*",i.event,l,p,u),(0,r.dispatch)(u.origin,i.event,l,p,u),(0,n.broadcastToChildWindows)(u.data,i.origin,u.source)}}}h.onmessage=s},{"./broadcast-to-child-windows":33,"./dispatch":36,"./is-not-string":38,"./unpack-payload":44}],40:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.packagePayload=void 0;var t=o("./subscribe-replier"),a=o("./constants");function r(n,s,u,i){var l,p={event:n,origin:s};typeof i=="function"&&(p.reply=(0,t.subscribeReplier)(i,s)),p.eventData=u;try{l=a.prefix+JSON.stringify(p)}catch(f){throw new Error("Could not stringify event: ".concat(f.message))}return l}h.packagePayload=r},{"./constants":35,"./subscribe-replier":42}],41:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.sendMessage=void 0;function t(a,r,n){try{a.postMessage(r,n)}catch{}}h.sendMessage=t},{}],42:[function(o,d,h){"use strict";var t=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(h,"__esModule",{value:!0}),h.subscribeReplier=void 0;var a=o("../framebus"),r=t(o("@braintree/uuid"));function n(s,u){var i=(0,r.default)();function l(p,f){s(p,f),a.Framebus.target({origin:u}).off(i,l)}return a.Framebus.target({origin:u}).on(i,l),i}h.subscribeReplier=n},{"../framebus":30,"@braintree/uuid":25}],43:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.subscriptionArgsInvalid=void 0;var t=o("./is-not-string");function a(r,n,s){return(0,t.isntString)(r)||typeof n!="function"?!0:(0,t.isntString)(s)}h.subscriptionArgsInvalid=a},{"./is-not-string":38}],44:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.unpackPayload=void 0;var t=o("./constants"),a=o("./package-payload");function r(n){var s;if(n.data.slice(0,t.prefix.length)!==t.prefix)return!1;try{s=JSON.parse(n.data.slice(t.prefix.length))}catch{return!1}if(s.reply){var u=n.origin,i=n.source,l=s.reply;s.reply=function(f){if(i){var T=(0,a.packagePayload)(l,u,f);T&&i.postMessage(T,u)}}}return s}h.unpackPayload=r},{"./constants":35,"./package-payload":40}],45:[function(o,d,h){"use strict";function t(e){var c=this.constructor;return this.then(function(m){return c.resolve(e()).then(function(){return m})},function(m){return c.resolve(e()).then(function(){return c.reject(m)})})}function a(e){var c=this;return new c(function(m,y){if(!(e&&typeof e.length<"u"))return y(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(e);if(E.length===0)return m([]);var A=E.length;function v(_,b){if(b&&(typeof b=="object"||typeof b=="function")){var N=b.then;if(typeof N=="function"){N.call(b,function(O){v(_,O)},function(O){E[_]={status:"rejected",reason:O},--A===0&&m(E)});return}}E[_]={status:"fulfilled",value:b},--A===0&&m(E)}for(var g=0;g<E.length;g++)v(g,E[g])})}var r=setTimeout;function n(e){return!!(e&&typeof e.length<"u")}function s(){}function u(e,c){return function(){e.apply(c,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],I(e,this)}function l(e,c){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(c);return}e._handled=!0,i._immediateFn(function(){var m=e._state===1?c.onFulfilled:c.onRejected;if(m===null){(e._state===1?p:f)(c.promise,e._value);return}var y;try{y=m(e._value)}catch(E){f(c.promise,E);return}p(c.promise,y)})}function p(e,c){try{if(c===e)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var m=c.then;if(c instanceof i){e._state=3,e._value=c,T(e);return}else if(typeof m=="function"){I(u(m,c),e);return}}e._state=1,e._value=c,T(e)}catch(y){f(e,y)}}function f(e,c){e._state=2,e._value=c,T(e)}function T(e){e._state===2&&e._deferreds.length===0&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var c=0,m=e._deferreds.length;c<m;c++)l(e,e._deferreds[c]);e._deferreds=null}function R(e,c,m){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof c=="function"?c:null,this.promise=m}function I(e,c){var m=!1;try{e(function(y){m||(m=!0,p(c,y))},function(y){m||(m=!0,f(c,y))})}catch(y){if(m)return;m=!0,f(c,y)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,c){var m=new this.constructor(s);return l(this,new R(e,c,m)),m},i.prototype.finally=t,i.all=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(e);if(y.length===0)return c([]);var E=y.length;function A(g,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var b=_.then;if(typeof b=="function"){b.call(_,function(N){A(g,N)},m);return}}y[g]=_,--E===0&&c(y)}catch(N){m(N)}}for(var v=0;v<y.length;v++)A(v,y[v])})},i.allSettled=a,i.resolve=function(e){return e&&typeof e=="object"&&e.constructor===i?e:new i(function(c){c(e)})},i.reject=function(e){return new i(function(c,m){m(e)})},i.race=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.race accepts an array"));for(var y=0,E=e.length;y<E;y++)i.resolve(e[y]).then(c,m)})},i._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){r(e,0)},i._unhandledRejectionFn=function(c){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",c)},d.exports=i},{}],46:[function(o,d,h){"use strict";var t=o("./create-authorization-data"),a=o("./json-clone"),r=o("./constants");function n(s,u){var i,l=u?a(u):{},p=t(s.authorization).attrs,f=a(s.analyticsMetadata);l.braintreeLibraryVersion=r.BRAINTREE_LIBRARY_VERSION;for(i in l._meta)l._meta.hasOwnProperty(i)&&(f[i]=l._meta[i]);return l._meta=f,p.tokenizationKey?l.tokenizationKey=p.tokenizationKey:l.authorizationFingerprint=p.authorizationFingerprint,l}d.exports=n},{"./constants":52,"./create-authorization-data":56,"./json-clone":71}],47:[function(o,d,h){"use strict";var t=o("./constants"),a=o("./add-metadata");function r(n,s,u){var i=Date.now();return Promise.resolve(n).then(function(l){var p=Date.now(),f=l.getConfiguration(),T=l._request,R=f.gatewayConfiguration.analytics.url,I={analytics:[{kind:t.ANALYTICS_PREFIX+s,isAsync:Math.floor(p/1e3)!==Math.floor(i/1e3),timestamp:i}]};T({url:R,method:"post",data:a(f,I),timeout:t.ANALYTICS_REQUEST_TIMEOUT_MS},u)}).catch(function(l){u&&u(l)})}d.exports={sendEvent:r}},{"./add-metadata":46,"./constants":52}],48:[function(o,d,h){"use strict";var t=o("@braintree/asset-loader/load-script");d.exports={loadScript:t}},{"@braintree/asset-loader/load-script":3}],49:[function(o,d,h){"use strict";var t=typeof Object.assign=="function"?Object.assign:a;function a(r){var n,s,u;for(n=1;n<arguments.length;n++){s=arguments[n];for(u in s)s.hasOwnProperty(u)&&(r[u]=s[u])}return r}d.exports={assign:t,_assign:a}},{}],50:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./errors"),r="3.94.0";function n(s){var u,i,l;return s?(l=s.name,u=s.client,i=s.authorization,!u&&!i?Promise.reject(new t({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!i&&u.getVersion()!==r?Promise.reject(new t({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+u.getVersion()+") and "+l+" (version "+r+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new t({type:a.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:a.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:n}},{"./braintree-error":51,"./errors":59}],51:[function(o,d,h){"use strict";var t=o("./enumerate");function a(r){if(!a.types.hasOwnProperty(r.type))throw new Error(r.type+" is not a valid type.");if(!r.code)throw new Error("Error code required.");if(!r.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=r.code,this.message=r.message,this.type=r.type,this.details=r.details}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.types=t(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),a.findRootError=function(r){return r instanceof a&&r.details&&r.details.originalError?a.findRootError(r.details.originalError):r},d.exports=a},{"./enumerate":58}],52:[function(o,d,h){"use strict";var t="3.94.0",a="web",r={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},n={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},s={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:a+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:n,CLIENT_API_URLS:r,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:s,INTEGRATION_TIMEOUT_MS:6e4,VERSION:t,INTEGRATION:"custom",SOURCE:"client",PLATFORM:a,BRAINTREE_LIBRARY_VERSION:"braintree/"+a+"/"+t}},{}],53:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./errors");d.exports=function(r,n){n.forEach(function(s){r[s]=function(){throw new t({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:s+" cannot be called after teardown."})}})}},{"./braintree-error":51,"./errors":59}],54:[function(o,d,h){"use strict";var t=o("./braintree-error");function a(r,n){return r instanceof t?r:new t({type:n.type,code:n.code,message:n.message,details:{originalError:r}})}d.exports=a},{"./braintree-error":51}],55:[function(o,d,h){"use strict";var t=o("./constants").ASSETS_URLS;function a(r){return t.production}d.exports={create:a}},{"./constants":52}],56:[function(o,d,h){"use strict";var t=o("../lib/vendor/polyfill").atob,a=o("../lib/constants").CLIENT_API_URLS;function r(u){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(u)}function n(u){var i=u.split("_"),l=i[0],p=i.slice(2).join("_");return{merchantId:p,environment:l}}function s(u){var i,l,p={attrs:{},configUrl:""};return r(u)?(l=n(u),p.environment=l.environment,p.attrs.tokenizationKey=u,p.configUrl=a[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(i=JSON.parse(t(u)),p.environment=i.environment,p.attrs.authorizationFingerprint=i.authorizationFingerprint,p.configUrl=i.configUrl,p.graphQL=i.graphQL),p}d.exports=s},{"../lib/constants":52,"../lib/vendor/polyfill":75}],57:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./assets"),r=o("./errors"),n="3.94.0";function s(u){var i=Promise.resolve();return u.client?Promise.resolve(u.client):(window.braintree&&window.braintree.client||(i=a.loadScript({src:u.assetsUrl+"/web/"+n+"/js/client.min.js"}).catch(function(l){return Promise.reject(new t({type:r.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:r.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:r.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),i.then(function(){return window.braintree.client.VERSION!==n?Promise.reject(new t({type:r.INCOMPATIBLE_VERSIONS.type,code:r.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+u.name+" (version "+n+") components must be from the same SDK version."})):window.braintree.client.create({authorization:u.authorization,debug:u.debug})}))}d.exports={create:s}},{"./assets":48,"./braintree-error":51,"./errors":59}],58:[function(o,d,h){"use strict";function t(a,r){return r=r??"",a.reduce(function(n,s){return n[s]=r+s,n},{})}d.exports=t},{}],59:[function(o,d,h){"use strict";var t=o("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:t.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:t.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:t.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:t.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":51}],60:[function(o,d,h){"use strict";var t=o("./strategies/popup"),a=o("./strategies/popup-bridge"),r=o("./strategies/modal"),n=o("framebus"),s=o("../shared/events"),u=o("../shared/errors"),i=o("../shared/constants"),l=o("@braintree/uuid"),p=o("@braintree/iframer"),f=o("../../braintree-error"),T=o("../shared/browser-detection"),R=o("./../../assign").assign,I=o("../../constants").BUS_CONFIGURATION_REQUEST_EVENT,e=["name","dispatchFrameUrl","openFrameUrl"];function c(){}function m(E){if(!E)throw new Error("Valid configuration is required");if(e.forEach(function(A){if(!E.hasOwnProperty(A))throw new Error("A valid frame "+A+" must be provided")}),!/^[\w_]+$/.test(E.name))throw new Error("A valid frame name must be provided")}function y(E){m(E),this._serviceId=l().replace(/-/g,""),this._options={name:E.name+"_"+this._serviceId,dispatchFrameUrl:E.dispatchFrameUrl,openFrameUrl:E.openFrameUrl,height:E.height,width:E.width,top:E.top,left:E.left},this.state=E.state||{},this._bus=new n({channel:this._serviceId}),this._setBusEvents()}y.prototype.initialize=function(E){var A=function(){E(),this._bus.off(s.DISPATCH_FRAME_READY,A)}.bind(this);this._bus.on(s.DISPATCH_FRAME_READY,A),this._writeDispatchFrame()},y.prototype._writeDispatchFrame=function(){var E=i.DISPATCH_FRAME_NAME+"_"+this._serviceId,A=this._options.dispatchFrameUrl;this._dispatchFrame=p({"aria-hidden":!0,name:E,title:E,src:A,class:i.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},y.prototype._setBusEvents=function(){this._bus.on(s.DISPATCH_FRAME_REPORT,function(E,A){this._onCompleteCallback&&this._onCompleteCallback.call(null,E.err,E.payload),this._frame.close(),this._onCompleteCallback=null,A&&A()}.bind(this)),this._bus.on(I,function(E){E(this.state)}.bind(this))},y.prototype.open=function(E,A){if(E=E||{},this._frame=this._getFrameForEnvironment(E),this._frame.initialize(A),!(this._frame instanceof a)){if(R(this.state,E.state),this._onCompleteCallback=A,this._frame.open(),this.isFrameClosed()){this._cleanupFrame(),A&&A(new f(u.FRAME_SERVICE_FRAME_OPEN_FAILED));return}this._pollForPopupClose()}},y.prototype.redirect=function(E){this._frame&&!this.isFrameClosed()&&this._frame.redirect(E)},y.prototype.close=function(){this.isFrameClosed()||this._frame.close()},y.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},y.prototype.createHandler=function(E){return E=E||{},{close:function(){E.beforeClose&&E.beforeClose(),this.close()}.bind(this),focus:function(){E.beforeFocus&&E.beforeFocus(),this.focus()}.bind(this)}},y.prototype.createNoopHandler=function(){return{close:c,focus:c}},y.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},y.prototype.isFrameClosed=function(){return this._frame==null||this._frame.isClosed()},y.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},y.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new f(u.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),i.POPUP_POLL_INTERVAL),this._popupInterval},y.prototype._getFrameForEnvironment=function(E){var A=T.supportsPopups(),v=!!window.popupBridge,g=R({},this._options,E);return v?new a(g):A?new t(g):new r(g)},d.exports=y},{"../../braintree-error":51,"../../constants":52,"../shared/browser-detection":67,"../shared/constants":68,"../shared/errors":69,"../shared/events":70,"./../../assign":49,"./strategies/modal":62,"./strategies/popup":65,"./strategies/popup-bridge":63,"@braintree/iframer":21,"@braintree/uuid":25,framebus:31}],61:[function(o,d,h){"use strict";var t=o("./frame-service");d.exports={create:function(r,n){var s=new t(r);s.initialize(function(){n(s)})}}},{"./frame-service":60}],62:[function(o,d,h){"use strict";var t=o("@braintree/iframer"),a=o("../../../assign").assign,r=o("../../shared/browser-detection"),n={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function s(){}function u(i){this._closed=null,this._frame=null,this._options=i||{},this._container=this._options.container||document.body}u.prototype.initialize=s,u.prototype.open=function(){var i={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:a({},n),title:"Lightbox Frame"};r.isIos()?(r.isIosWKWebview()&&(this._lockScrolling(),i.style={}),this._el=document.createElement("div"),a(this._el.style,n,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=t(i),this._el.appendChild(this._frame)):this._el=this._frame=t(i),this._closed=!1,this._container.appendChild(this._el)},u.prototype.focus=s,u.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,r.isIosWKWebview()&&this._unlockScrolling()},u.prototype.isClosed=function(){return!!this._closed},u.prototype.redirect=function(i){this._frame.src=i},u.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,window.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},u.prototype._lockScrolling=function(){var i=document.documentElement;this._savedBodyProperties={left:(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0),top:(window.pageYOffset||i.scrollTop)-(i.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",window.scrollTo(0,0)},d.exports=u},{"../../../assign":49,"../../shared/browser-detection":67,"@braintree/iframer":21}],63:[function(o,d,h){"use strict";var t=o("../../../braintree-error"),a=o("../../shared/errors");function r(){}function n(s){this._closed=null,this._options=s}n.prototype.initialize=function(s){var u=this;window.popupBridge.onComplete=function(i,l){var p=!l&&!i;if(u._closed=!0,i||p){s(new t(a.FRAME_SERVICE_FRAME_CLOSED));return}s(null,l)}},n.prototype.open=function(s){var u;s=s||{},u=s.openFrameUrl||this._options.openFrameUrl,this._closed=!1,window.popupBridge.open(u)},n.prototype.focus=r,n.prototype.close=r,n.prototype.isClosed=function(){return!!this._closed},n.prototype.redirect=function(s){this.open({openFrameUrl:s})},d.exports=n},{"../../../braintree-error":51,"../../shared/errors":69}],64:[function(o,d,h){"use strict";var t=o("../../../shared/constants"),a=o("./position");function r(n,s,u){return typeof s<"u"?s:a[n](u)}d.exports=function(s){var u=s.height||t.DEFAULT_POPUP_HEIGHT,i=s.width||t.DEFAULT_POPUP_WIDTH,l=r("top",s.top,u),p=r("left",s.left,i);return[t.POPUP_BASE_OPTIONS,"height="+u,"width="+i,"top="+l,"left="+p].join(",")}},{"../../../shared/constants":68,"./position":66}],65:[function(o,d,h){"use strict";var t=o("./compose-options");function a(){}function r(n){this._frame=null,this._options=n||{}}r.prototype.initialize=a,r.prototype.open=function(){this._frame=window.open(this._options.openFrameUrl,this._options.name,t(this._options))},r.prototype.focus=function(){this._frame.focus()},r.prototype.close=function(){this._frame.closed||this._frame.close()},r.prototype.isClosed=function(){return!this._frame||!!this._frame.closed},r.prototype.redirect=function(n){this._frame.location.href=n},d.exports=r},{"./compose-options":64}],66:[function(o,d,h){"use strict";function t(n){var s=window.outerHeight||document.documentElement.clientHeight,u=window.screenY==null?window.screenTop:window.screenY;return r(s,n,u)}function a(n){var s=window.outerWidth||document.documentElement.clientWidth,u=window.screenX==null?window.screenLeft:window.screenX;return r(s,n,u)}function r(n,s,u){return(n-s)/2+u}d.exports={top:t,left:a,center:r}},{}],67:[function(o,d,h){"use strict";d.exports={isIos:o("@braintree/browser-detection/is-ios"),isIosWKWebview:o("@braintree/browser-detection/is-ios-wkwebview"),supportsPopups:o("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ios":18,"@braintree/browser-detection/is-ios-wkwebview":17,"@braintree/browser-detection/supports-popups":19}],68:[function(o,d,h){"use strict";d.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],69:[function(o,d,h){"use strict";var t=o("../../braintree-error");d.exports={FRAME_SERVICE_FRAME_CLOSED:{type:t.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:t.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."}}},{"../../braintree-error":51}],70:[function(o,d,h){"use strict";var t=o("../../enumerate");d.exports=t(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":58}],71:[function(o,d,h){"use strict";d.exports=function(t){return JSON.parse(JSON.stringify(t))}},{}],72:[function(o,d,h){"use strict";d.exports=function(t){return Object.keys(t).filter(function(a){return typeof t[a]=="function"})}},{}],73:[function(o,d,h){"use strict";function t(i){var l;for(l in i)if(i.hasOwnProperty(l))return!0;return!1}function a(i){return i&&typeof i=="object"&&typeof i.length=="number"&&Object.prototype.toString.call(i)==="[object Array]"||!1}function r(i){return i=i||window.location.href,/\?/.test(i)}function n(i){var l,p;return i=i||window.location.href,r(i)?(l=i.split("?")[1]||"",l=l.replace(/#.*$/,"").split("&"),p=l.reduce(function(f,T){var R=T.split("="),I=decodeURIComponent(R[0]),e=decodeURIComponent(R[1]);return f[I]=e,f},{}),p):{}}function s(i,l){var p,f,T,R=[];for(T in i)i.hasOwnProperty(T)&&(f=i[T],l?a(i)?p=l+"[]":p=l+"["+T+"]":p=T,typeof f=="object"?R.push(s(f,p)):R.push(encodeURIComponent(p)+"="+encodeURIComponent(f)));return R.join("&")}function u(i,l){return i=i||"",l!=null&&typeof l=="object"&&t(l)&&(i+=i.indexOf("?")===-1?"?":"",i+=i.indexOf("=")!==-1?"&":"",i+=s(l)),i}d.exports={parse:n,stringify:s,queryify:u,hasQueryParams:r}},{}],74:[function(o,d,h){"use strict";function t(a){return a?"":".min"}d.exports=t},{}],75:[function(o,d,h){"use strict";var t=typeof atob=="function"?atob:a;function a(r){var n,s,u,i,l,p,f,T,R=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="";if(!R.test(r))throw new Error("Non base64 encoded input passed to window.atob polyfill");T=0;do i=I.indexOf(r.charAt(T++)),l=I.indexOf(r.charAt(T++)),p=I.indexOf(r.charAt(T++)),f=I.indexOf(r.charAt(T++)),n=(i&63)<<2|l>>4&3,s=(l&15)<<4|p>>2&15,u=(p&3)<<6|f&63,e+=String.fromCharCode(n)+(s?String.fromCharCode(s):"")+(u?String.fromCharCode(u):"");while(T<r.length);return e}d.exports={atob:function(r){return t.call(window,r)},_atob:a}},{}],76:[function(o,d,h){"use strict";var t=o("../lib/braintree-error");d.exports={PAYPAL_NOT_ENABLED:{type:t.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:t.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developer.paypal.com/braintree/docs/guides/paypal/testing-go-live#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:t.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:t.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED:{type:t.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED"},PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED:{type:t.types.NETWORK,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED",message:"Something went wrong when setting up the checkout workflow."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED:{type:t.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED:{type:t.types.CUSTOMER,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS:{type:t.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS",message:"Vault initiated checkout already in progress."},PAYPAL_INVALID_PAYMENT_OPTION:{type:t.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."},PAYPAL_MISSING_REQUIRED_OPTION:{type:t.types.MERCHANT,code:"PAYPAL_MISSING_REQUIRED_OPTION",message:"Missing required option."}}},{"../lib/braintree-error":51}],77:[function(o,d,h){"use strict";var t=o("../lib/basic-component-verification"),a=o("@braintree/wrap-promise"),r=o("./paypal-checkout"),n="3.94.0";function s(i){var l="PayPal Checkout";return t.verify({name:l,client:i.client,authorization:i.authorization}).then(function(){var p=new r(i);return p._initialize(i)})}function u(){return!0}d.exports={create:a(s),isSupported:u,VERSION:n}},{"../lib/basic-component-verification":50,"./paypal-checkout":78,"@braintree/wrap-promise":29}],78:[function(o,d,h){"use strict";var t=o("../lib/analytics"),a=o("../lib/assign").assign,r=o("../lib/create-deferred-client"),n=o("../lib/create-assets-url"),s=o("@braintree/extended-promise"),u=o("@braintree/wrap-promise"),i=o("../lib/braintree-error"),l=o("../lib/convert-to-braintree-error"),p=o("./errors"),f=o("../paypal/shared/constants"),T=o("../lib/frame-service/external"),R=o("../lib/create-authorization-data"),I=o("../lib/methods"),e=o("../lib/use-min"),c=o("../lib/convert-methods-to-error"),m=o("../lib/querystring"),y="3.94.0",E=o("../lib/constants").INTEGRATION_TIMEOUT_MS,A=["amount","currency","vaultInitiatedCheckoutPaymentMethodToken"],v="https://www.{ENV}paypal.com/smart/buttons/preload";s.suppressUnhandledPromiseMessage=!0;function g(_){this._merchantAccountId=_.merchantAccountId,this._autoSetDataUserIdToken=!!_.autoSetDataUserIdToken}g.prototype._initialize=function(_){var b;return _.client?(b=_.client.getConfiguration(),this._authorizationInformation={fingerprint:b.authorizationFingerprint,environment:b.gatewayConfiguration.environment}):(b=R(_.authorization),this._authorizationInformation={fingerprint:b.attrs.authorizationFingerprint,environment:b.environment}),this._clientPromise=r.create({authorization:_.authorization,client:_.client,debug:_.debug,assetsUrl:n.create(_.authorization),name:"PayPal Checkout"}).then(function(N){return this._configuration=N.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?this._configuration.gatewayConfiguration.paypal.environmentNoNetwork===!0&&(this._setupError=new i(p.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new i(p.PAYPAL_NOT_ENABLED)),this._setupError?Promise.reject(this._setupError):(t.sendEvent(N,"paypal-checkout.initialized"),this._frameServicePromise=this._setupFrameService(N),N)}.bind(this)),_.client?this._clientPromise.then(function(){return this}.bind(this)):Promise.resolve(this)},g.prototype._setupFrameService=function(_){var b=new s,N=_.getConfiguration(),O=setTimeout(function(){t.sendEvent(_,"paypal-checkout.frame-service.timed-out"),b.reject(new i(p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED))},E);return this._assetsUrl=N.gatewayConfiguration.paypal.assetsUrl+"/web/"+y,this._isDebug=N.isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+e(this._isDebug)+".html",T.create({name:"braintreepaypallanding",dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame"+e(this._isDebug)+".html",openFrameUrl:this._loadingFrameUrl},function(S){this._frameService=S,clearTimeout(O),b.resolve()}.bind(this)),b},g.prototype.createPayment=function(_){return!_||!f.FLOW_ENDPOINTS.hasOwnProperty(_.flow)?Promise.reject(new i(p.PAYPAL_FLOW_OPTION_REQUIRED)):(t.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),this._createPaymentResource(_).then(function(b){var N;return _.flow==="checkout"?N=b.paymentResource.redirectUrl.match(/EC-\w+/)[0]:N=b.agreementSetup.tokenId,N}))},g.prototype._createPaymentResource=function(_,b){var N=this,O="paypal_hermes/"+f.FLOW_ENDPOINTS[_.flow];return delete this.intentFromCreatePayment,b=b||{},_.offerCredit===!0&&t.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then(function(S){return S.request({endpoint:O,method:"post",data:N._formatPaymentResourceData(_,b)}).then(function(P){return N.intentFromCreatePayment=_.intent,P})}).catch(function(S){var P;return N._setupError?Promise.reject(N._setupError):(P=S.details&&S.details.httpStatus,P===422?Promise.reject(new i({type:p.PAYPAL_INVALID_PAYMENT_OPTION.type,code:p.PAYPAL_INVALID_PAYMENT_OPTION.code,message:p.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:S}})):Promise.reject(l(S,{type:p.PAYPAL_FLOW_FAILED.type,code:p.PAYPAL_FLOW_FAILED.code,message:p.PAYPAL_FLOW_FAILED.message})))})},g.prototype.updatePayment=function(_){var b=this,N="paypal_hermes/patch_payment_resource";return!_||this._hasMissingOption(_,f.REQUIRED_OPTIONS)?(t.sendEvent(b._clientPromise,"paypal-checkout.updatePayment.missing-options"),Promise.reject(new i(p.PAYPAL_MISSING_REQUIRED_OPTION))):this._verifyConsistentCurrency(_)?(t.sendEvent(this._clientPromise,"paypal-checkout.updatePayment"),this._clientPromise.then(function(O){return O.request({endpoint:N,method:"post",data:b._formatUpdatePaymentData(_)})}).catch(function(O){var S=O.details&&O.details.httpStatus;return S===422?(t.sendEvent(b._clientPromise,"paypal-checkout.updatePayment.invalid"),Promise.reject(new i({type:p.PAYPAL_INVALID_PAYMENT_OPTION.type,code:p.PAYPAL_INVALID_PAYMENT_OPTION.code,message:p.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:O}}))):(t.sendEvent(b._clientPromise,"paypal-checkout.updatePayment."+p.PAYPAL_FLOW_FAILED.code),Promise.reject(l(O,{type:p.PAYPAL_FLOW_FAILED.type,code:p.PAYPAL_FLOW_FAILED.code,message:p.PAYPAL_FLOW_FAILED.message})))})):(t.sendEvent(b._clientPromise,"paypal-checkout.updatePayment.inconsistent-currencies"),Promise.reject(new i({type:p.PAYPAL_INVALID_PAYMENT_OPTION.type,code:p.PAYPAL_INVALID_PAYMENT_OPTION.code,message:p.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:new Error("One or more shipping option currencies differ from checkout currency.")}})))},g.prototype.startVaultInitiatedCheckout=function(_){var b,N=this;return this._vaultInitiatedCheckoutInProgress?(t.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress"),Promise.reject(new i(p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS))):(A.forEach(function(O){_.hasOwnProperty(O)||(b=O)}),b?Promise.reject(new i({type:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,code:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,message:"Required param "+b+" is missing."})):(this._vaultInitiatedCheckoutInProgress=!0,this._addModalBackdrop(_),_=a({},_,{flow:"checkout"}),t.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.started"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){var O=new s,S=N._createPaymentResource(_,{returnUrl:N._constructVaultCheckutUrl("redirect-frame"),cancelUrl:N._constructVaultCheckutUrl("cancel-frame")}).then(function(P){var C=P.paymentResource.redirectUrl;return N._frameService.redirect(C),O});return N._frameService.open({},N._createFrameServiceCallback(O)),S}).catch(function(O){return N._vaultInitiatedCheckoutInProgress=!1,N._removeModalBackdrop(),O.code==="FRAME_SERVICE_FRAME_CLOSED"?(t.sendEvent(N._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer"),Promise.reject(new i(p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED))):(N._frameService&&N._frameService.close(),O.code&&O.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(t.sendEvent(N._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened"),Promise.reject(new i({code:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.code,type:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.type,message:p.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.message,details:{originalError:O}}))):Promise.reject(O))}).then(function(O){return N._frameService.close(),N._vaultInitiatedCheckoutInProgress=!1,N._removeModalBackdrop(),t.sendEvent(N._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.succeeded"),Promise.resolve(O)})))},g.prototype._addModalBackdrop=function(_){_.optOutOfModalBackdrop||(this._modalBackdrop||(this._modalBackdrop=document.createElement("div"),this._modalBackdrop.setAttribute("data-braintree-paypal-vault-initiated-checkout-modal",!0),this._modalBackdrop.style.position="fixed",this._modalBackdrop.style.top=0,this._modalBackdrop.style.bottom=0,this._modalBackdrop.style.left=0,this._modalBackdrop.style.right=0,this._modalBackdrop.style.zIndex=9999,this._modalBackdrop.style.background="black",this._modalBackdrop.style.opacity="0.7",this._modalBackdrop.addEventListener("click",function(){this.focusVaultInitiatedCheckoutWindow()}.bind(this))),document.body.appendChild(this._modalBackdrop))},g.prototype._removeModalBackdrop=function(){this._modalBackdrop&&this._modalBackdrop.parentNode&&this._modalBackdrop.parentNode.removeChild(this._modalBackdrop)},g.prototype.closeVaultInitiatedCheckoutWindow=function(){return this._vaultInitiatedCheckoutInProgress&&t.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.close()}.bind(this))},g.prototype.focusVaultInitiatedCheckoutWindow=function(){return this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.focus()}.bind(this))},g.prototype._createFrameServiceCallback=function(_){var b=this;return function(N,O){N?_.reject(N):O&&(b._frameService.redirect(b._loadingFrameUrl),b.tokenizePayment({paymentToken:O.token,payerID:O.PayerID,paymentID:O.paymentId}).then(function(S){_.resolve(S)}).catch(function(S){_.reject(S)}))}},g.prototype._waitForVaultInitiatedCheckoutDependencies=function(){var _=this;return this._clientPromise.then(function(){return _._frameServicePromise})},g.prototype._constructVaultCheckutUrl=function(_){var b=this._frameService._serviceId;return this._assetsUrl+"/html/"+_+e(this._isDebug)+".html?channel="+b},g.prototype.tokenizePayment=function(_){var b=this,N=!0,O,S={flow:_.billingToken&&!_.paymentID?"vault":"checkout",intent:_.intent||this.intentFromCreatePayment},P={ecToken:_.paymentToken,billingToken:_.billingToken,payerId:_.payerID,paymentId:_.paymentID,shippingOptionsId:_.shippingOptionsId};return _.hasOwnProperty("vault")&&(N=_.vault),S.vault=N,t.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then(function(C){return C.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:b._formatTokenizeData(S,P)})}).then(function(C){return O=b._formatTokenizePayload(C),t.sendEvent(b._clientPromise,"paypal-checkout.tokenization.success"),O.creditFinancingOffered&&t.sendEvent(b._clientPromise,"paypal-checkout.credit.accepted"),O}).catch(function(C){return b._setupError?Promise.reject(b._setupError):(t.sendEvent(b._clientPromise,"paypal-checkout.tokenization.failed"),Promise.reject(l(C,{type:p.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:p.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:p.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))})},g.prototype.getClientId=function(){return this._clientPromise.then(function(_){return _.getConfiguration().gatewayConfiguration.paypal.clientId})},g.prototype.loadPayPalSDK=function(_){var b,N,O=new s,S=_&&_.dataAttributes||{},P=S["user-id-token"]||S["data-user-id-token"];return P||(P=this._authorizationInformation.fingerprint&&this._authorizationInformation.fingerprint.split("?")[0]),this._paypalScript=document.createElement("script"),_=a({},{components:"buttons"},_),delete _.dataAttributes,_.vault?_.intent=_.intent||"tokenize":(_.intent=_.intent||"authorize",_.currency=_.currency||"USD"),N="https://www.paypal.com/sdk/js?",this._paypalScript.onload=function(){O.resolve()},Object.keys(S).forEach(function(C){this._paypalScript.setAttribute("data-"+C.replace(/^data\-/,""),S[C])}.bind(this)),_["client-id"]?b=Promise.resolve(_["client-id"]):b=this.getClientId(),b.then(function(C){_["client-id"]=C,this._autoSetDataUserIdToken&&P&&(this._paypalScript.setAttribute("data-user-id-token",P),this._attachPreloadPixel({id:C,userIdToken:P,amount:S.amount,currency:_.currency,merchantId:_["merchant-id"]})),this._paypalScript.src=m.queryify(N,_),document.head.insertBefore(this._paypalScript,document.head.firstElementChild)}.bind(this)),O.then(function(){return this}.bind(this))},g.prototype._attachPreloadPixel=function(_){var b,N=_.id,O=_.userIdToken,S=this._authorizationInformation.environment,P=S==="production"?"":"sandbox.",C=v.replace("{ENV}",P),L={"client-id":N,"user-id-token":O};_.amount&&(L.amount=_.amount),_.currency&&(L.currency=_.currency),_.merchantId&&(L["merchant-id"]=_.merchantId),b=new XMLHttpRequest,b.open("GET",m.queryify(C,L)),b.send()},g.prototype._formatPaymentResourceData=function(_,b){var N,O=this._configuration.gatewayConfiguration,S=_.intent,P={returnUrl:b.returnUrl||"https://www.paypal.com/checkoutnow/error",cancelUrl:b.cancelUrl||"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:_.offerCredit===!0,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:_.displayName||O.paypal.displayName,localeCode:_.locale,noShipping:(!_.enableShippingAddress).toString(),addressOverride:_.shippingAddressEditable===!1,landingPageType:_.landingPageType},shippingOptions:_.shippingOptions};if(_.flow==="checkout"){P.amount=_.amount,P.currencyIsoCode=_.currency,P.requestBillingAgreement=_.requestBillingAgreement,S&&(S==="capture"&&(S="sale"),P.intent=S),_.hasOwnProperty("lineItems")&&(P.lineItems=_.lineItems),_.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(P.vaultInitiatedCheckoutPaymentMethodToken=_.vaultInitiatedCheckoutPaymentMethodToken),_.hasOwnProperty("shippingOptions")&&(P.shippingOptions=_.shippingOptions);for(N in _.shippingAddressOverride)_.shippingAddressOverride.hasOwnProperty(N)&&(P[N]=_.shippingAddressOverride[N]);_.hasOwnProperty("billingAgreementDetails")&&(P.billingAgreementDetails=_.billingAgreementDetails)}else P.shippingAddress=_.shippingAddressOverride,_.billingAgreementDescription&&(P.description=_.billingAgreementDescription);return this._riskCorrelationId=_.riskCorrelationId,_.riskCorrelationId&&(P.correlationId=this._riskCorrelationId),P},g.prototype._verifyConsistentCurrency=function(_){return _.currency&&_.hasOwnProperty("shippingOptions")&&Array.isArray(_.shippingOptions)?_.shippingOptions.every(function(b){return b.amount&&b.amount.currency&&_.currency.toLowerCase()===b.amount.currency.toLowerCase()}):!0},g.prototype._hasMissingOption=function(_,b){var N,O;if(b=b||[],!_.hasOwnProperty("amount")&&!_.hasOwnProperty("lineItems"))return!0;for(N=0;N<b.length;N++)if(O=b[N],!_.hasOwnProperty(O))return!0;return!1},g.prototype._formatUpdatePaymentData=function(_){var b=this,N={merchantAccountId:this._merchantAccountId,paymentId:_.paymentId,currencyIsoCode:_.currency};return _.hasOwnProperty("amount")&&(N.amount=_.amount),_.hasOwnProperty("lineItems")&&(N.lineItems=_.lineItems),_.hasOwnProperty("shippingOptions")&&(N.shippingOptions=_.shippingOptions),_.hasOwnProperty("shippingAddress")&&(t.sendEvent(b._clientPromise,"paypal-checkout.updatePayment.shippingAddress.provided.by-the-merchant"),N.line1=_.shippingAddress.line1,_.shippingAddress.hasOwnProperty("line2")&&(N.line2=_.shippingAddress.line2),N.city=_.shippingAddress.city,N.state=_.shippingAddress.state,N.postalCode=_.shippingAddress.postalCode,N.countryCode=_.shippingAddress.countryCode,_.shippingAddress.hasOwnProperty("phone")&&(N.phone=_.shippingAddress.phone),_.shippingAddress.hasOwnProperty("recipientName")&&(N.recipientName=_.shippingAddress.recipientName)),N},g.prototype._formatTokenizeData=function(_,b){var N=this._configuration,O=N.gatewayConfiguration,S=N.authorizationType==="TOKENIZATION_KEY",P=_.flow==="vault",C=this._riskCorrelationId||b.billingToken||b.ecToken,L={paypalAccount:{correlationId:C,options:{validate:P&&!S&&_.vault}}};return P?L.paypalAccount.billingAgreementToken=b.billingToken:(L.paypalAccount.paymentToken=b.paymentId,L.paypalAccount.payerId=b.payerId,L.paypalAccount.unilateral=O.paypal.unvettedMerchant,_.intent&&(L.paypalAccount.intent=_.intent)),this._merchantAccountId&&(L.merchantAccountId=this._merchantAccountId),L},g.prototype._formatTokenizePayload=function(_){var b,N={};return _.paypalAccounts&&(N=_.paypalAccounts[0]),b={nonce:N.nonce,details:{},type:N.type},N.details&&N.details.payerInfo&&(b.details=N.details.payerInfo),N.details&&N.details.creditFinancingOffered&&(b.creditFinancingOffered=N.details.creditFinancingOffered),N.details&&N.details.shippingOptionId&&(b.shippingOptionId=N.details.shippingOptionId),N.details&&N.details.cobrandedCardLabel&&(b.cobrandedCardLabel=N.details.cobrandedCardLabel),b},g.prototype.teardown=function(){var _=this;return c(this,I(g.prototype)),this._paypalScript&&this._paypalScript.parentNode&&this._paypalScript.parentNode.removeChild(this._paypalScript),this._frameServicePromise.catch(function(){}).then(function(){return _._frameService?_._frameService.teardown():Promise.resolve()})},d.exports=u.wrapPrototype(g)},{"../lib/analytics":47,"../lib/assign":49,"../lib/braintree-error":51,"../lib/constants":52,"../lib/convert-methods-to-error":53,"../lib/convert-to-braintree-error":54,"../lib/create-assets-url":55,"../lib/create-authorization-data":56,"../lib/create-deferred-client":57,"../lib/frame-service/external":61,"../lib/methods":72,"../lib/querystring":73,"../lib/use-min":74,"../paypal/shared/constants":79,"./errors":76,"@braintree/extended-promise":20,"@braintree/wrap-promise":29}],79:[function(o,d,h){"use strict";d.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"},REQUIRED_OPTIONS:["paymentId","currency"]}},{}]},{},[77])(77)})})(Y,Y.exports);var ue=Y.exports;const le=W(ue);var Z={exports:{}},Ne=Z.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function o(d,h,t){function a(s,u){if(!h[s]){if(!d[s]){var i=typeof x=="function"&&x;if(!u&&i)return i(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=h[s]={exports:{}};d[s][0].call(p.exports,function(f){var T=d[s][1][f];return a(T||f)},p,p.exports,o,d,h,t)}return h[s].exports}for(var r=typeof x=="function"&&x,n=0;n<t.length;n++)a(t[n]);return a}return o}()({1:[function(o,d,h){"use strict";var t=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(h,"__esModule",{value:!0}),h.PromiseGlobal=void 0;var a=t(o("promise-polyfill")),r=typeof Promise<"u"?Promise:a.default;h.PromiseGlobal=r},{"promise-polyfill":8}],2:[function(o,d,h){"use strict";var t=o("./lib/promise"),a={};function r(n){var s,u=JSON.stringify(n);if(!n.forceScriptReload&&(s=a[u],s))return s;var i=document.createElement("script"),l=n.dataAttributes||{},p=n.container||document.head;return i.src=n.src,i.id=n.id||"",i.async=!0,n.crossorigin&&i.setAttribute("crossorigin",""+n.crossorigin),Object.keys(l).forEach(function(f){i.setAttribute("data-"+f,""+l[f])}),s=new t.PromiseGlobal(function(f,T){i.addEventListener("load",function(){f(i)}),i.addEventListener("error",function(){T(new Error(n.src+" failed to load."))}),i.addEventListener("abort",function(){T(new Error(n.src+" has aborted."))}),p.appendChild(i)}),a[u]=s,s}r.clearCache=function(){a={}},d.exports=r},{"./lib/promise":1}],3:[function(o,d,h){d.exports=o("./dist/load-script")},{"./dist/load-script":2}],4:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];setTimeout(function(){try{a.apply(void 0,r)}catch(s){console.log("Error in callback function"),console.log(s)}},1)}}h.deferred=t},{}],5:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){var r=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];r||(r=!0,a.apply(void 0,n))}}h.once=t},{}],6:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a,r){if(!r)return a;a.then(function(n){return r(null,n)}).catch(function(n){return r(n)})}h.promiseOrCallback=t},{}],7:[function(o,d,h){"use strict";var t=o("./lib/deferred"),a=o("./lib/once"),r=o("./lib/promise-or-callback");function n(s){return function(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];var l,p=u[u.length-1];return typeof p=="function"&&(l=u.pop(),l=a.once(t.deferred(l))),r.promiseOrCallback(s.apply(this,u),l)}}n.wrapPrototype=function(s,u){u===void 0&&(u={});var i=u.ignoreMethods||[],l=u.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(s.prototype).filter(function(f){var T,R=f!=="constructor"&&typeof s.prototype[f]=="function",I=i.indexOf(f)===-1;return l?T=!0:T=f.charAt(0)!=="_",R&&T&&I});return p.forEach(function(f){var T=s.prototype[f];s.prototype[f]=n(T)}),s},d.exports=n},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(o,d,h){"use strict";function t(e){var c=this.constructor;return this.then(function(m){return c.resolve(e()).then(function(){return m})},function(m){return c.resolve(e()).then(function(){return c.reject(m)})})}function a(e){var c=this;return new c(function(m,y){if(!(e&&typeof e.length<"u"))return y(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(e);if(E.length===0)return m([]);var A=E.length;function v(_,b){if(b&&(typeof b=="object"||typeof b=="function")){var N=b.then;if(typeof N=="function"){N.call(b,function(O){v(_,O)},function(O){E[_]={status:"rejected",reason:O},--A===0&&m(E)});return}}E[_]={status:"fulfilled",value:b},--A===0&&m(E)}for(var g=0;g<E.length;g++)v(g,E[g])})}var r=setTimeout;function n(e){return!!(e&&typeof e.length<"u")}function s(){}function u(e,c){return function(){e.apply(c,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],I(e,this)}function l(e,c){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(c);return}e._handled=!0,i._immediateFn(function(){var m=e._state===1?c.onFulfilled:c.onRejected;if(m===null){(e._state===1?p:f)(c.promise,e._value);return}var y;try{y=m(e._value)}catch(E){f(c.promise,E);return}p(c.promise,y)})}function p(e,c){try{if(c===e)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var m=c.then;if(c instanceof i){e._state=3,e._value=c,T(e);return}else if(typeof m=="function"){I(u(m,c),e);return}}e._state=1,e._value=c,T(e)}catch(y){f(e,y)}}function f(e,c){e._state=2,e._value=c,T(e)}function T(e){e._state===2&&e._deferreds.length===0&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var c=0,m=e._deferreds.length;c<m;c++)l(e,e._deferreds[c]);e._deferreds=null}function R(e,c,m){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof c=="function"?c:null,this.promise=m}function I(e,c){var m=!1;try{e(function(y){m||(m=!0,p(c,y))},function(y){m||(m=!0,f(c,y))})}catch(y){if(m)return;m=!0,f(c,y)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,c){var m=new this.constructor(s);return l(this,new R(e,c,m)),m},i.prototype.finally=t,i.all=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(e);if(y.length===0)return c([]);var E=y.length;function A(g,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var b=_.then;if(typeof b=="function"){b.call(_,function(N){A(g,N)},m);return}}y[g]=_,--E===0&&c(y)}catch(N){m(N)}}for(var v=0;v<y.length;v++)A(v,y[v])})},i.allSettled=a,i.resolve=function(e){return e&&typeof e=="object"&&e.constructor===i?e:new i(function(c){c(e)})},i.reject=function(e){return new i(function(c,m){m(e)})},i.race=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.race accepts an array"));for(var y=0,E=e.length;y<E;y++)i.resolve(e[y]).then(c,m)})},i._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){r(e,0)},i._unhandledRejectionFn=function(c){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",c)},d.exports=i},{}],9:[function(o,d,h){"use strict";var t=o("./create-authorization-data"),a=o("./json-clone"),r=o("./constants");function n(s,u){var i,l=u?a(u):{},p=t(s.authorization).attrs,f=a(s.analyticsMetadata);l.braintreeLibraryVersion=r.BRAINTREE_LIBRARY_VERSION;for(i in l._meta)l._meta.hasOwnProperty(i)&&(f[i]=l._meta[i]);return l._meta=f,p.tokenizationKey?l.tokenizationKey=p.tokenizationKey:l.authorizationFingerprint=p.authorizationFingerprint,l}d.exports=n},{"./constants":14,"./create-authorization-data":17,"./json-clone":21}],10:[function(o,d,h){"use strict";var t=o("./constants"),a=o("./add-metadata");function r(n,s,u){var i=Date.now();return Promise.resolve(n).then(function(l){var p=Date.now(),f=l.getConfiguration(),T=l._request,R=f.gatewayConfiguration.analytics.url,I={analytics:[{kind:t.ANALYTICS_PREFIX+s,isAsync:Math.floor(p/1e3)!==Math.floor(i/1e3),timestamp:i}]};T({url:R,method:"post",data:a(f,I),timeout:t.ANALYTICS_REQUEST_TIMEOUT_MS},u)}).catch(function(l){u&&u(l)})}d.exports={sendEvent:r}},{"./add-metadata":9,"./constants":14}],11:[function(o,d,h){"use strict";var t=o("@braintree/asset-loader/load-script");d.exports={loadScript:t}},{"@braintree/asset-loader/load-script":3}],12:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./errors"),r="3.94.0";function n(s){var u,i,l;return s?(l=s.name,u=s.client,i=s.authorization,!u&&!i?Promise.reject(new t({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!i&&u.getVersion()!==r?Promise.reject(new t({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+u.getVersion()+") and "+l+" (version "+r+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new t({type:a.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:a.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:n}},{"./braintree-error":13,"./errors":20}],13:[function(o,d,h){"use strict";var t=o("./enumerate");function a(r){if(!a.types.hasOwnProperty(r.type))throw new Error(r.type+" is not a valid type.");if(!r.code)throw new Error("Error code required.");if(!r.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=r.code,this.message=r.message,this.type=r.type,this.details=r.details}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.types=t(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),a.findRootError=function(r){return r instanceof a&&r.details&&r.details.originalError?a.findRootError(r.details.originalError):r},d.exports=a},{"./enumerate":19}],14:[function(o,d,h){"use strict";var t="3.94.0",a="web",r={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},n={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},s={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:a+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:n,CLIENT_API_URLS:r,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:s,INTEGRATION_TIMEOUT_MS:6e4,VERSION:t,INTEGRATION:"custom",SOURCE:"client",PLATFORM:a,BRAINTREE_LIBRARY_VERSION:"braintree/"+a+"/"+t}},{}],15:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./errors");d.exports=function(r,n){n.forEach(function(s){r[s]=function(){throw new t({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:s+" cannot be called after teardown."})}})}},{"./braintree-error":13,"./errors":20}],16:[function(o,d,h){"use strict";var t=o("./constants").ASSETS_URLS;function a(r){return t.production}d.exports={create:a}},{"./constants":14}],17:[function(o,d,h){"use strict";var t=o("../lib/vendor/polyfill").atob,a=o("../lib/constants").CLIENT_API_URLS;function r(u){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(u)}function n(u){var i=u.split("_"),l=i[0],p=i.slice(2).join("_");return{merchantId:p,environment:l}}function s(u){var i,l,p={attrs:{},configUrl:""};return r(u)?(l=n(u),p.environment=l.environment,p.attrs.tokenizationKey=u,p.configUrl=a[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(i=JSON.parse(t(u)),p.environment=i.environment,p.attrs.authorizationFingerprint=i.authorizationFingerprint,p.configUrl=i.configUrl,p.graphQL=i.graphQL),p}d.exports=s},{"../lib/constants":14,"../lib/vendor/polyfill":24}],18:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./assets"),r=o("./errors"),n="3.94.0";function s(u){var i=Promise.resolve();return u.client?Promise.resolve(u.client):(window.braintree&&window.braintree.client||(i=a.loadScript({src:u.assetsUrl+"/web/"+n+"/js/client.min.js"}).catch(function(l){return Promise.reject(new t({type:r.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:r.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:r.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),i.then(function(){return window.braintree.client.VERSION!==n?Promise.reject(new t({type:r.INCOMPATIBLE_VERSIONS.type,code:r.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+u.name+" (version "+n+") components must be from the same SDK version."})):window.braintree.client.create({authorization:u.authorization,debug:u.debug})}))}d.exports={create:s}},{"./assets":11,"./braintree-error":13,"./errors":20}],19:[function(o,d,h){"use strict";function t(a,r){return r=r??"",a.reduce(function(n,s){return n[s]=r+s,n},{})}d.exports=t},{}],20:[function(o,d,h){"use strict";var t=o("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:t.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:t.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:t.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:t.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":13}],21:[function(o,d,h){"use strict";d.exports=function(t){return JSON.parse(JSON.stringify(t))}},{}],22:[function(o,d,h){"use strict";d.exports=function(t){return Object.keys(t).filter(function(a){return typeof t[a]=="function"})}},{}],23:[function(o,d,h){"use strict";function t(a){var r=!1;return function(){r||(r=!0,a.apply(null,arguments))}}d.exports=t},{}],24:[function(o,d,h){"use strict";var t=typeof atob=="function"?atob:a;function a(r){var n,s,u,i,l,p,f,T,R=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="";if(!R.test(r))throw new Error("Non base64 encoded input passed to window.atob polyfill");T=0;do i=I.indexOf(r.charAt(T++)),l=I.indexOf(r.charAt(T++)),p=I.indexOf(r.charAt(T++)),f=I.indexOf(r.charAt(T++)),n=(i&63)<<2|l>>4&3,s=(l&15)<<4|p>>2&15,u=(p&3)<<6|f&63,e+=String.fromCharCode(n)+(s?String.fromCharCode(s):"")+(u?String.fromCharCode(u):"");while(T<r.length);return e}d.exports={atob:function(r){return t.call(window,r)},_atob:a}},{}],25:[function(o,d,h){"use strict";d.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],26:[function(o,d,h){"use strict";var t=o("../lib/braintree-error");d.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:t.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:t.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:t.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:t.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":13}],27:[function(o,d,h){"use strict";var t=o("../lib/basic-component-verification"),a=o("../lib/braintree-error"),r=o("../lib/create-deferred-client"),n=o("../lib/create-assets-url"),s=o("./errors"),u=o("./us-bank-account"),i="3.94.0",l=o("@braintree/wrap-promise");function p(f){var T="US Bank Account";return t.verify({name:T,client:f.client,authorization:f.authorization}).then(function(){return r.create({authorization:f.authorization,client:f.client,debug:f.debug,assetsUrl:n.create(f.authorization),name:T})}).then(function(R){var I;return f.client=R,I=f.client.getConfiguration().gatewayConfiguration.usBankAccount,I?new u(f):Promise.reject(new a(s.US_BANK_ACCOUNT_NOT_ENABLED))})}d.exports={create:l(p),VERSION:i}},{"../lib/basic-component-verification":12,"../lib/braintree-error":13,"../lib/create-assets-url":16,"../lib/create-deferred-client":18,"./errors":26,"./us-bank-account":28,"@braintree/wrap-promise":7}],28:[function(o,d,h){"use strict";var t=o("../lib/braintree-error"),a=o("./constants"),r=o("./errors"),n=o("../lib/errors"),s=o("../lib/analytics"),u=o("../lib/once"),i=o("../lib/convert-methods-to-error"),l=o("../lib/methods"),p=o("@braintree/wrap-promise"),f=E("UsBankAccount"),T=E("UsBankLogin");function R(A){this._client=A.client,this._isTokenizingBankLogin=!1,s.sendEvent(this._client,"usbankaccount.initialized")}R.prototype.tokenize=function(A){return A=A||{},A.mandateText?A.bankDetails&&A.bankLogin?Promise.reject(new t({type:r.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:r.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):A.bankDetails?this._tokenizeBankDetails(A):A.bankLogin?this._tokenizeBankLogin(A):Promise.reject(new t({type:r.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:r.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):Promise.reject(new t({type:r.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:r.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},R.prototype._tokenizeBankDetails=function(A){var v=this._client,g=A.bankDetails,_={achMandate:A.mandateText,routingNumber:g.routingNumber,accountNumber:g.accountNumber,accountType:g.accountType.toUpperCase(),billingAddress:m(g.billingAddress||{})};return y(_,g),v.request({api:"graphQLApi",data:{query:f,variables:{input:{usBankAccount:_}}}}).then(function(b){return s.sendEvent(v,"usbankaccount.bankdetails.tokenization.succeeded"),Promise.resolve(e(b,"tokenizeUsBankAccount"))}).catch(function(b){var N=I(b);return s.sendEvent(v,"usbankaccount.bankdetails.tokenization.failed"),Promise.reject(N)})},R.prototype._tokenizeBankLogin=function(A){var v=this,g=this._client,_=g.getConfiguration().gatewayConfiguration,b=_.environment==="production",N=_.usBankAccount.plaid;return A.bankLogin.displayName?N?this._isTokenizingBankLogin?Promise.reject(new t(r.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new Promise(function(O,S){v._loadPlaid(function(P,C){if(P){S(P);return}C.create({clientName:A.bankLogin.displayName,apiVersion:"v2",env:b?"production":"sandbox",key:N.publicKey,product:"auth",selectAccount:!0,onExit:function(){v._isTokenizingBankLogin=!1,s.sendEvent(g,"usbankaccount.banklogin.tokenization.closed.by-user"),S(new t(r.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(L,w){var D=A.bankLogin,U={publicToken:L,accountId:b?w.account_id:"plaid_account_id",accountType:w.account.subtype.toUpperCase(),achMandate:A.mandateText,billingAddress:m(D.billingAddress||{})};y(U,D),g.request({api:"graphQLApi",data:{query:T,variables:{input:{usBankLogin:U}}}}).then(function(B){v._isTokenizingBankLogin=!1,s.sendEvent(g,"usbankaccount.banklogin.tokenization.succeeded"),O(e(B,"tokenizeUsBankLogin"))}).catch(function(B){var V;v._isTokenizingBankLogin=!1,V=I(B),s.sendEvent(g,"usbankaccount.banklogin.tokenization.failed"),S(V)})}}).open(),s.sendEvent(g,"usbankaccount.banklogin.tokenization.started")})})):Promise.reject(new t(r.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):Promise.reject(new t({type:r.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:r.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))};function I(A){var v,g=A.details&&A.details.httpStatus;return g===401?v=new t(n.BRAINTREE_API_ACCESS_RESTRICTED):g<500?v=new t(r.US_BANK_ACCOUNT_FAILED_TOKENIZATION):v=new t(r.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR),v.details={originalError:A},v}function e(A,v){var g=A.data[v].paymentMethod,_=g.details.last4,b="US bank account ending in - "+_;return{nonce:g.id,details:{},description:b,type:"us_bank_account"}}R.prototype._loadPlaid=function(A){var v,g;if(A=u(A),window.Plaid){A(null,window.Plaid);return}v=document.querySelector('script[src="'+a.PLAID_LINK_JS+'"]'),v?c(v,A):(g=document.createElement("script"),g.src=a.PLAID_LINK_JS,g.async=!0,c(g,A),document.body.appendChild(g),this._plaidScript=g)};function c(A,v){function g(){var N=this.readyState;(!N||N==="loaded"||N==="complete")&&(b(),v(null,window.Plaid))}function _(){A.parentNode.removeChild(A),v(new t(r.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}function b(){A.removeEventListener("error",_),A.removeEventListener("load",g),A.removeEventListener("readystatechange",g)}A.addEventListener("error",_),A.addEventListener("load",g),A.addEventListener("readystatechange",g)}function m(A){return{streetAddress:A.streetAddress,extendedAddress:A.extendedAddress,city:A.locality,state:A.region,zipCode:A.postalCode}}function y(A,v){v.ownershipType==="personal"?A.individualOwner={firstName:v.firstName,lastName:v.lastName}:v.ownershipType==="business"&&(A.businessOwner={businessName:v.businessName})}function E(A){return"mutation Tokenize"+A+"($input: Tokenize"+A+"Input!) {  tokenize"+A+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}R.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),i(this,l(R.prototype)),Promise.resolve()},d.exports=p.wrapPrototype(R)},{"../lib/analytics":10,"../lib/braintree-error":13,"../lib/convert-methods-to-error":15,"../lib/errors":20,"../lib/methods":22,"../lib/once":23,"./constants":25,"./errors":26,"@braintree/wrap-promise":7}]},{},[27])(27)})})(Z,Z.exports);var de=Z.exports;const fe=W(de);var J={exports:{}},Re=J.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function o(d,h,t){function a(s,u){if(!h[s]){if(!d[s]){var i=typeof x=="function"&&x;if(!u&&i)return i(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=h[s]={exports:{}};d[s][0].call(p.exports,function(f){var T=d[s][1][f];return a(T||f)},p,p.exports,o,d,h,t)}return h[s].exports}for(var r=typeof x=="function"&&x,n=0;n<t.length;n++)a(t[n]);return a}return o}()({1:[function(o,d,h){"use strict";var t=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(h,"__esModule",{value:!0}),h.PromiseGlobal=void 0;var a=t(o("promise-polyfill")),r=typeof Promise<"u"?Promise:a.default;h.PromiseGlobal=r},{"promise-polyfill":8}],2:[function(o,d,h){"use strict";var t=o("./lib/promise"),a={};function r(n){var s,u=JSON.stringify(n);if(!n.forceScriptReload&&(s=a[u],s))return s;var i=document.createElement("script"),l=n.dataAttributes||{},p=n.container||document.head;return i.src=n.src,i.id=n.id||"",i.async=!0,n.crossorigin&&i.setAttribute("crossorigin",""+n.crossorigin),Object.keys(l).forEach(function(f){i.setAttribute("data-"+f,""+l[f])}),s=new t.PromiseGlobal(function(f,T){i.addEventListener("load",function(){f(i)}),i.addEventListener("error",function(){T(new Error(n.src+" failed to load."))}),i.addEventListener("abort",function(){T(new Error(n.src+" has aborted."))}),p.appendChild(i)}),a[u]=s,s}r.clearCache=function(){a={}},d.exports=r},{"./lib/promise":1}],3:[function(o,d,h){d.exports=o("./dist/load-script")},{"./dist/load-script":2}],4:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];setTimeout(function(){try{a.apply(void 0,r)}catch(s){console.log("Error in callback function"),console.log(s)}},1)}}h.deferred=t},{}],5:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){var r=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];r||(r=!0,a.apply(void 0,n))}}h.once=t},{}],6:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a,r){if(!r)return a;a.then(function(n){return r(null,n)}).catch(function(n){return r(n)})}h.promiseOrCallback=t},{}],7:[function(o,d,h){"use strict";var t=o("./lib/deferred"),a=o("./lib/once"),r=o("./lib/promise-or-callback");function n(s){return function(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];var l,p=u[u.length-1];return typeof p=="function"&&(l=u.pop(),l=a.once(t.deferred(l))),r.promiseOrCallback(s.apply(this,u),l)}}n.wrapPrototype=function(s,u){u===void 0&&(u={});var i=u.ignoreMethods||[],l=u.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(s.prototype).filter(function(f){var T,R=f!=="constructor"&&typeof s.prototype[f]=="function",I=i.indexOf(f)===-1;return l?T=!0:T=f.charAt(0)!=="_",R&&T&&I});return p.forEach(function(f){var T=s.prototype[f];s.prototype[f]=n(T)}),s},d.exports=n},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(o,d,h){"use strict";function t(e){var c=this.constructor;return this.then(function(m){return c.resolve(e()).then(function(){return m})},function(m){return c.resolve(e()).then(function(){return c.reject(m)})})}function a(e){var c=this;return new c(function(m,y){if(!(e&&typeof e.length<"u"))return y(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(e);if(E.length===0)return m([]);var A=E.length;function v(_,b){if(b&&(typeof b=="object"||typeof b=="function")){var N=b.then;if(typeof N=="function"){N.call(b,function(O){v(_,O)},function(O){E[_]={status:"rejected",reason:O},--A===0&&m(E)});return}}E[_]={status:"fulfilled",value:b},--A===0&&m(E)}for(var g=0;g<E.length;g++)v(g,E[g])})}var r=setTimeout;function n(e){return!!(e&&typeof e.length<"u")}function s(){}function u(e,c){return function(){e.apply(c,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],I(e,this)}function l(e,c){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(c);return}e._handled=!0,i._immediateFn(function(){var m=e._state===1?c.onFulfilled:c.onRejected;if(m===null){(e._state===1?p:f)(c.promise,e._value);return}var y;try{y=m(e._value)}catch(E){f(c.promise,E);return}p(c.promise,y)})}function p(e,c){try{if(c===e)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var m=c.then;if(c instanceof i){e._state=3,e._value=c,T(e);return}else if(typeof m=="function"){I(u(m,c),e);return}}e._state=1,e._value=c,T(e)}catch(y){f(e,y)}}function f(e,c){e._state=2,e._value=c,T(e)}function T(e){e._state===2&&e._deferreds.length===0&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var c=0,m=e._deferreds.length;c<m;c++)l(e,e._deferreds[c]);e._deferreds=null}function R(e,c,m){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof c=="function"?c:null,this.promise=m}function I(e,c){var m=!1;try{e(function(y){m||(m=!0,p(c,y))},function(y){m||(m=!0,f(c,y))})}catch(y){if(m)return;m=!0,f(c,y)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,c){var m=new this.constructor(s);return l(this,new R(e,c,m)),m},i.prototype.finally=t,i.all=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(e);if(y.length===0)return c([]);var E=y.length;function A(g,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var b=_.then;if(typeof b=="function"){b.call(_,function(N){A(g,N)},m);return}}y[g]=_,--E===0&&c(y)}catch(N){m(N)}}for(var v=0;v<y.length;v++)A(v,y[v])})},i.allSettled=a,i.resolve=function(e){return e&&typeof e=="object"&&e.constructor===i?e:new i(function(c){c(e)})},i.reject=function(e){return new i(function(c,m){m(e)})},i.race=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.race accepts an array"));for(var y=0,E=e.length;y<E;y++)i.resolve(e[y]).then(c,m)})},i._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){r(e,0)},i._unhandledRejectionFn=function(c){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",c)},d.exports=i},{}],9:[function(o,d,h){"use strict";var t=o("../lib/braintree-error");d.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:t.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:t.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:t.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":16}],10:[function(o,d,h){"use strict";var t=o("../lib/constants").FRAUDNET_FNCLS,a=o("../lib/constants").FRAUDNET_SOURCE,r=o("../lib/constants").FRAUDNET_URL,n=o("../lib/assets").loadScript,s;function u(I){var e=new l;return I=I||{},!I.sessionId&&s?(e.sessionId=s,Promise.resolve(e)):e.initialize(I)}function i(){s=null}function l(){}l.prototype.initialize=function(I){var e=I.environment,c=this;return this.sessionId=I.sessionId||f(),I.sessionId||(s=this.sessionId),this._beaconId=T(this.sessionId),this._parameterBlock=R(this.sessionId,this._beaconId,e),n({src:r}).then(function(m){return c._thirdPartyBlock=m,c}).catch(function(){return null})},l.prototype.teardown=function(){p(document.querySelector('iframe[title="ppfniframe"]')),p(document.querySelector('iframe[title="pbf"]')),p(this._parameterBlock),p(this._thirdPartyBlock)};function p(I){I&&I.parentNode&&I.parentNode.removeChild(I)}function f(){var I,e="";for(I=0;I<32;I++)e+=Math.floor(Math.random()*16).toString(16);return e}function T(I){var e=new Date().getTime()/1e3;return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+I+"&t="+e+"&a=14"}function R(I,e,c){var m=document.body.appendChild(document.createElement("script")),y={f:I,s:a,b:e};return c!=="production"&&(y.sandbox=!0),m.type="application/json",m.setAttribute("fncls",t),m.text=JSON.stringify(y),m}d.exports={setup:u,clearSessionIdCache:i}},{"../lib/assets":14,"../lib/constants":18}],11:[function(o,d,h){"use strict";var t=o("./kount"),a=o("./fraudnet"),r=o("../lib/braintree-error"),n=o("../lib/basic-component-verification"),s=o("../lib/create-deferred-client"),u=o("../lib/create-assets-url"),i=o("../lib/methods"),l=o("../lib/convert-methods-to-error"),p="3.94.0",f=o("@braintree/wrap-promise"),T=o("./errors");function R(c){var m="Data Collector",y={_instances:[]},E;return n.verify({name:m,client:c.client,authorization:c.authorization}).then(function(){return y._instantiatedWithAClient=!c.useDeferredClient,y._createPromise=s.create({authorization:c.authorization,client:c.client,debug:c.debug,assetsUrl:u.create(c.authorization),name:m}).then(function(A){var v,g=A.getConfiguration();if(c.kount===!0&&g.gatewayConfiguration.kount){try{v=t.setup({environment:g.gatewayConfiguration.environment,merchantId:g.gatewayConfiguration.kount.kountMerchantId})}catch(_){return Promise.reject(new r({type:T.DATA_COLLECTOR_KOUNT_ERROR.type,code:T.DATA_COLLECTOR_KOUNT_ERROR.code,message:_.message}))}E=v.deviceData,y._instances.push(v)}else E={};return Promise.resolve(A)}).then(function(A){return a.setup({sessionId:c.riskCorrelationId||c.clientMetadataId||c.correlationId,environment:A.getConfiguration().gatewayConfiguration.environment}).then(function(v){v&&(E.correlation_id=v.sessionId,y._instances.push(v))})}).then(function(){return y._instances.length===0?Promise.reject(new r(T.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(y.deviceData=JSON.stringify(E),y.rawDeviceData=E,y)}),y.teardown=I(y),y.getDeviceData=e(y),y._instantiatedWithAClient?y._createPromise:y})}function I(c){return f(function(){return c._createPromise.then(function(){c._instances.forEach(function(y){y&&y.teardown()}),l(c,i(c))})})}function e(c){return f(function(y){return y=y||{},c._createPromise.then(function(){return y.raw?Promise.resolve(c.rawDeviceData):Promise.resolve(c.deviceData)})})}d.exports={create:f(R),VERSION:p}},{"../lib/basic-component-verification":15,"../lib/braintree-error":16,"../lib/convert-methods-to-error":19,"../lib/create-assets-url":20,"../lib/create-deferred-client":21,"../lib/methods":24,"./errors":9,"./fraudnet":10,"./kount":12,"@braintree/wrap-promise":7}],12:[function(o,d,h){"use strict";var t=o("./vendor/sjcl"),a=o("../lib/camel-case-to-snake-case"),r="https://assets.qa.braintreepayments.com/data",n="braintreeDataFrame-",s={development:r,qa:r,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},u={};function i(p){var f=p??{};return new l(f)}function l(p){var f=l.getCachedDeviceData(p.merchantId);if(f){this.deviceData=f,this._isCached=!0;return}this._currentEnvironment=this._initializeEnvironment(p),t.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),l.setCachedDeviceData(p.merchantId,this.deviceData),this._iframe=this._setupIFrame()}l.getCachedDeviceData=function(p){return u[p]},l.setCachedDeviceData=function(p,f){u[p]=f},l.prototype.teardown=function(){this._isCached||(t.random.stopCollectors(),this._removeIframe())},l.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},l.prototype._getDeviceData=function(){return a({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},l.prototype._generateDeviceSessionId=function(){var p,f;return p=t.random.randomWords(4,0),f=t.codec.hex.fromBits(p),f},l.prototype._setupIFrame=function(){var p,f,T=this;return p="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,f=document.createElement("iframe"),f.width=1,f.id=n+this._deviceSessionId,f.height=1,f.frameBorder=0,f.scrolling="no",f.style.position="fixed",f.style.left="-999999px",f.style.top="-999999px",f.title="Braintree-Kount-iframe",f.setAttribute("aria-hidden","true"),document.body.appendChild(f),setTimeout(function(){f.src=T._currentEnvironment.url+"/logo.htm"+p,f.innerHTML='<img src="'+T._currentEnvironment.url+"/logo.gif"+p+'" alt="" />'},10),f},l.prototype._initializeEnvironment=function(p){var f=s[p.environment];if(f==null)throw new Error(p.environment+" is not a valid environment for kount.environment");return{url:f,name:p.environment,id:p.merchantId}},d.exports={setup:i,Kount:l,environmentUrls:s}},{"../lib/camel-case-to-snake-case":17,"./vendor/sjcl":13}],13:[function(o,d,h){"use strict";var t={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};t.cipher.aes=function(e){this.l[0][0][0]||this.G();var c,m,y,E,A=this.l[0][4],v=this.l[1];c=e.length;var g=1;if(c!==4&&c!==6&&c!==8)throw new t.exception.invalid("invalid aes key size");for(this.b=[y=e.slice(0),E=[]],e=c;e<4*c+28;e++)m=y[e-1],(e%c===0||c===8&&e%c===4)&&(m=A[m>>>24]<<24^A[m>>16&255]<<16^A[m>>8&255]<<8^A[m&255],e%c===0&&(m=m<<8^m>>>24^g<<24,g=g<<1^283*(g>>7))),y[e]=y[e-c]^m;for(c=0;e;c++,e--)m=y[c&3?e:e-4],E[c]=4>=e||4>c?m:v[0][A[m>>>24]]^v[1][A[m>>16&255]]^v[2][A[m>>8&255]]^v[3][A[m&255]]},t.cipher.aes.prototype={encrypt:function(e){return a(this,e,0)},decrypt:function(e){return a(this,e,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var e=this.l[0],c=this.l[1],m=e[4],y=c[4],E,A,v,g=[],_=[],b,N,O,S;for(E=0;256>E;E++)_[(g[E]=E<<1^283*(E>>7))^E]=E;for(A=v=0;!m[A];A^=b||1,v=_[v]||1)for(O=v^v<<1^v<<2^v<<3^v<<4,O=O>>8^O&255^99,m[A]=O,y[O]=A,N=g[E=g[b=g[A]]],S=16843009*N^65537*E^257*b^16843008*A,N=257*g[O]^16843008*O,E=0;4>E;E++)e[E][A]=N=N<<24^N>>>8,c[E][O]=S=S<<24^S>>>8;for(E=0;5>E;E++)e[E]=e[E].slice(0),c[E]=c[E].slice(0)}};function a(e,c,m){if(c.length!==4)throw new t.exception.invalid("invalid aes block size");var y=e.b[m],E=c[0]^y[0],A=c[m?3:1]^y[1],v=c[2]^y[2];c=c[m?1:3]^y[3];var g,_,b,N=y.length/4-2,O,S=4,P=[0,0,0,0];g=e.l[m],e=g[0];var C=g[1],L=g[2],w=g[3],D=g[4];for(O=0;O<N;O++)g=e[E>>>24]^C[A>>16&255]^L[v>>8&255]^w[c&255]^y[S],_=e[A>>>24]^C[v>>16&255]^L[c>>8&255]^w[E&255]^y[S+1],b=e[v>>>24]^C[c>>16&255]^L[E>>8&255]^w[A&255]^y[S+2],c=e[c>>>24]^C[E>>16&255]^L[A>>8&255]^w[v&255]^y[S+3],S+=4,E=g,A=_,v=b;for(O=0;4>O;O++)P[m?3&-O:O]=D[E>>>24]<<24^D[A>>16&255]<<16^D[v>>8&255]<<8^D[c&255]^y[S++],g=E,E=A,A=v,v=c,c=g;return P}t.bitArray={bitSlice:function(e,c,m){return e=t.bitArray.M(e.slice(c/32),32-(c&31)).slice(1),m===void 0?e:t.bitArray.clamp(e,m-c)},extract:function(e,c,m){var y=Math.floor(-c-m&31);return((c+m-1^c)&-32?e[c/32|0]<<32-y^e[c/32+1|0]>>>y:e[c/32|0]>>>y)&(1<<m)-1},concat:function(e,c){if(e.length===0||c.length===0)return e.concat(c);var m=e[e.length-1],y=t.bitArray.getPartial(m);return y===32?e.concat(c):t.bitArray.M(c,y,m|0,e.slice(0,e.length-1))},bitLength:function(e){var c=e.length;return c===0?0:32*(c-1)+t.bitArray.getPartial(e[c-1])},clamp:function(e,c){if(32*e.length<c)return e;e=e.slice(0,Math.ceil(c/32));var m=e.length;return c=c&31,0<m&&c&&(e[m-1]=t.bitArray.partial(c,e[m-1]&2147483648>>c-1,1)),e},partial:function(e,c,m){return e===32?c:(m?c|0:c<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,c){if(t.bitArray.bitLength(e)!==t.bitArray.bitLength(c))return!1;var m=0,y;for(y=0;y<e.length;y++)m|=e[y]^c[y];return m===0},M:function(e,c,m,y){var E;for(E=0,y===void 0&&(y=[]);32<=c;c-=32)y.push(m),m=0;if(c===0)return y.concat(e);for(E=0;E<e.length;E++)y.push(m|e[E]>>>c),m=e[E]<<32-c;return E=e.length?e[e.length-1]:0,e=t.bitArray.getPartial(E),y.push(t.bitArray.partial(c+e&31,32<c+e?m:y.pop(),1)),y},Y:function(e,c){return[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]},byteswapM:function(e){var c,m;for(c=0;c<e.length;++c)m=e[c],e[c]=m>>>24|m>>>8&65280|(m&65280)<<8|m<<24;return e}},t.codec.utf8String={fromBits:function(e){var c="",m=t.bitArray.bitLength(e),y,E;for(y=0;y<m/8;y++)!(y&3)&&(E=e[y/4]),c+=String.fromCharCode(E>>>8>>>8>>>8),E<<=8;return decodeURIComponent(escape(c))},toBits:function(e){e=unescape(encodeURIComponent(e));var c=[],m,y=0;for(m=0;m<e.length;m++)y=y<<8|e.charCodeAt(m),(m&3)===3&&(c.push(y),y=0);return m&3&&c.push(t.bitArray.partial(8*(m&3),y)),c}},t.codec.hex={fromBits:function(e){var c="",m;for(m=0;m<e.length;m++)c+=((e[m]|0)+0xf00000000000).toString(16).substr(4);return c.substr(0,t.bitArray.bitLength(e)/4)},toBits:function(e){var c,m=[],y;for(e=e.replace(/\s|0x/g,""),y=e.length,e=e+"00000000",c=0;c<e.length;c+=8)m.push(parseInt(e.substr(c,8),16)^0);return t.bitArray.clamp(m,4*y)}},t.hash.sha256=function(e){this.b[0]||this.G(),e?(this.u=e.u.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},t.hash.sha256.hash=function(e){return new t.hash.sha256().update(e).finalize()},t.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(e){typeof e=="string"&&(e=t.codec.utf8String.toBits(e));var c,m=this.o=t.bitArray.concat(this.o,e);if(c=this.h,e=this.h=c+t.bitArray.bitLength(e),9007199254740991<e)throw new t.exception.invalid("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array<"u"){var y=new Uint32Array(m),E=0;for(c=512+c-(512+c&511);c<=e;c+=512)r(this,y.subarray(16*E,16*(E+1))),E+=1;m.splice(0,16*E)}else for(c=512+c-(512+c&511);c<=e;c+=512)r(this,m.splice(0,16));return this},finalize:function(){var e,m=this.o,c=this.u,m=t.bitArray.concat(m,[t.bitArray.partial(1,1)]);for(e=m.length+2;e&15;e++)m.push(0);for(m.push(Math.floor(this.h/4294967296)),m.push(this.h|0);m.length;)r(this,m.splice(0,16));return this.reset(),c},K:[],b:[],G:function(){function e(A){return 4294967296*(A-Math.floor(A))|0}for(var c=0,m=2,y,E;64>c;m++){for(E=!0,y=2;y*y<=m;y++)if(m%y===0){E=!1;break}E&&(8>c&&(this.K[c]=e(Math.pow(m,.5))),this.b[c]=e(Math.pow(m,1/3)),c++)}}};function r(e,c){var m,y,E,A=e.u,v=e.b,g=A[0],_=A[1],b=A[2],N=A[3],O=A[4],S=A[5],P=A[6],C=A[7];for(m=0;64>m;m++)16>m?y=c[m]:(y=c[m+1&15],E=c[m+14&15],y=c[m&15]=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(E>>>17^E>>>19^E>>>10^E<<15^E<<13)+c[m&15]+c[m+9&15]|0),y=y+C+(O>>>6^O>>>11^O>>>25^O<<26^O<<21^O<<7)+(P^O&(S^P))+v[m],C=P,P=S,S=O,O=N+y|0,N=b,b=_,_=g,g=y+(_&b^N&(_^b))+(_>>>2^_>>>13^_>>>22^_<<30^_<<19^_<<10)|0;A[0]=A[0]+g|0,A[1]=A[1]+_|0,A[2]=A[2]+b|0,A[3]=A[3]+N|0,A[4]=A[4]+O|0,A[5]=A[5]+S|0,A[6]=A[6]+P|0,A[7]=A[7]+C|0}t.prng=function(e){this.c=[new t.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=e,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},t.prng.prototype={randomWords:function(e,c){var m=[],y;y=this.isReady(c);var E;if(y===this.m)throw new t.exception.notReady("generator isn't seeded");if(y&this.A){y=!(y&this.w),E=[];var A=0,v;for(this.L=E[0]=new Date().valueOf()+this.P,v=0;16>v;v++)E.push(4294967296*Math.random()|0);for(v=0;v<this.c.length&&(E=E.concat(this.c[v].finalize()),A+=this.i[v],this.i[v]=0,y||!(this.H&1<<v));v++);for(this.H>=1<<this.c.length&&(this.c.push(new t.hash.sha256),this.i.push(0)),this.f-=A,A>this.j&&(this.j=A),this.H++,this.b=t.hash.sha256.hash(this.b.concat(E)),this.C=new t.cipher.aes(this.b),y=0;4>y&&(this.g[y]=this.g[y]+1|0,!this.g[y]);y++);}for(y=0;y<e;y+=4)(y+1)%this.O===0&&u(this),E=i(this),m.push(E[0],E[1],E[2],E[3]);return u(this),m.slice(0,e)},setDefaultParanoia:function(e,c){if(e===0&&c!=="Setting paranoia=0 will ruin your security; use it only for testing")throw new t.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=e},addEntropy:function(e,c,m){m=m||"user";var y,E,A=new Date().valueOf(),v=this.v[m],g=this.isReady(),_=0;switch(y=this.J[m],y===void 0&&(y=this.J[m]=this.T++),v===void 0&&(v=this.v[m]=0),this.v[m]=(this.v[m]+1)%this.c.length,typeof e){case"number":c===void 0&&(c=1),this.c[v].update([y,this.F++,1,c,A,1,e|0]);break;case"object":if(m=Object.prototype.toString.call(e),m==="[object Uint32Array]"){for(E=[],m=0;m<e.length;m++)E.push(e[m]);e=E}else for(m!=="[object Array]"&&(_=1),m=0;m<e.length&&!_;m++)typeof e[m]!="number"&&(_=1);if(!_){if(c===void 0)for(m=c=0;m<e.length;m++)for(E=e[m];0<E;)c++,E=E>>>1;this.c[v].update([y,this.F++,2,c,A,e.length].concat(e))}break;case"string":c===void 0&&(c=e.length),this.c[v].update([y,this.F++,3,c,A,e.length]),this.c[v].update(e);break;default:_=1}if(_)throw new t.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[v]+=c,this.f+=c,g===this.m&&(this.isReady()!==this.m&&n("seeded",Math.max(this.j,this.f)),n("progress",this.getProgress()))},isReady:function(e){return e=this.I[e!==void 0?e:this.D],this.j&&this.j>=e?this.i[0]>this.N&&new Date().valueOf()>this.L?this.A|this.w:this.w:this.f>=e?this.A|this.m:this.m},getProgress:function(e){return e=this.I[e||this.D],this.j>=e||this.f>e?1:this.f/e},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:l(this,this.V),mouseCollector:l(this,this.W),keyboardCollector:l(this,this.U),accelerometerCollector:l(this,this.R),touchCollector:l(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new t.exception.bug("can't attach event");this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(e,c){this.B[e][this.S++]=c},removeEventListener:function(e,c){var m,y,E=this.B[e],A=[];for(y in E)E.hasOwnProperty(y)&&E[y]===c&&A.push(y);for(m=0;m<A.length;m++)y=A[m],delete E[y]},U:function(){s(this,1)},W:function(e){var c,m;try{c=e.x||e.clientX||e.offsetX||0,m=e.y||e.clientY||e.offsetY||0}catch{m=c=0}c!=0&&m!=0&&this.addEntropy([c,m],2,"mouse"),s(this,0)},X:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),s(this,0)},V:function(){s(this,2)},R:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var c=window.orientation;typeof c=="number"&&this.addEntropy(c,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),s(this,0)}};function n(e,c){var m,y=t.random.B[e],E=[];for(m in y)y.hasOwnProperty(m)&&E.push(y[m]);for(m=0;m<E.length;m++)E[m](c)}function s(e,c){typeof window<"u"&&window.performance&&typeof window.performance.now=="function"?e.addEntropy(window.performance.now(),c,"loadtime"):e.addEntropy(new Date().valueOf(),c,"loadtime")}function u(e){e.b=i(e).concat(i(e)),e.C=new t.cipher.aes(e.b)}function i(e){for(var c=0;4>c&&(e.g[c]=e.g[c]+1|0,!e.g[c]);c++);return e.C.encrypt(e.g)}function l(e,c){return function(){c.apply(e,arguments)}}t.random=new t.prng(6);e:try{var p,f,T,R;if(R=typeof d<"u"&&d.exports){var I;try{I=o("crypto")}catch{I=null}R=f=I}if(R&&f.randomBytes)p=f.randomBytes(128),p=new Uint32Array(new Uint8Array(p).buffer),t.random.addEntropy(p,1024,"crypto['randomBytes']");else if(typeof window<"u"&&typeof Uint32Array<"u"){if(T=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(T);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(T);else break e;t.random.addEntropy(T,1024,"crypto['getRandomValues']")}}catch(e){typeof window<"u"&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}typeof d<"u"&&d.exports&&(d.exports=t),typeof F=="function"&&F([],function(){return t})},{crypto:void 0}],14:[function(o,d,h){"use strict";var t=o("@braintree/asset-loader/load-script");d.exports={loadScript:t}},{"@braintree/asset-loader/load-script":3}],15:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./errors"),r="3.94.0";function n(s){var u,i,l;return s?(l=s.name,u=s.client,i=s.authorization,!u&&!i?Promise.reject(new t({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!i&&u.getVersion()!==r?Promise.reject(new t({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+u.getVersion()+") and "+l+" (version "+r+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new t({type:a.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:a.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:n}},{"./braintree-error":16,"./errors":23}],16:[function(o,d,h){"use strict";var t=o("./enumerate");function a(r){if(!a.types.hasOwnProperty(r.type))throw new Error(r.type+" is not a valid type.");if(!r.code)throw new Error("Error code required.");if(!r.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=r.code,this.message=r.message,this.type=r.type,this.details=r.details}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.types=t(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),a.findRootError=function(r){return r instanceof a&&r.details&&r.details.originalError?a.findRootError(r.details.originalError):r},d.exports=a},{"./enumerate":22}],17:[function(o,d,h){"use strict";function t(a){return a.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}d.exports=function(a){return Object.keys(a).reduce(function(r,n){var s=t(n);return r[s]=a[n],r},{})}},{}],18:[function(o,d,h){"use strict";var t="3.94.0",a="web",r={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},n={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},s={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:a+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:n,CLIENT_API_URLS:r,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:s,INTEGRATION_TIMEOUT_MS:6e4,VERSION:t,INTEGRATION:"custom",SOURCE:"client",PLATFORM:a,BRAINTREE_LIBRARY_VERSION:"braintree/"+a+"/"+t}},{}],19:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./errors");d.exports=function(r,n){n.forEach(function(s){r[s]=function(){throw new t({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:s+" cannot be called after teardown."})}})}},{"./braintree-error":16,"./errors":23}],20:[function(o,d,h){"use strict";var t=o("./constants").ASSETS_URLS;function a(r){return t.production}d.exports={create:a}},{"./constants":18}],21:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./assets"),r=o("./errors"),n="3.94.0";function s(u){var i=Promise.resolve();return u.client?Promise.resolve(u.client):(window.braintree&&window.braintree.client||(i=a.loadScript({src:u.assetsUrl+"/web/"+n+"/js/client.min.js"}).catch(function(l){return Promise.reject(new t({type:r.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:r.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:r.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),i.then(function(){return window.braintree.client.VERSION!==n?Promise.reject(new t({type:r.INCOMPATIBLE_VERSIONS.type,code:r.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+u.name+" (version "+n+") components must be from the same SDK version."})):window.braintree.client.create({authorization:u.authorization,debug:u.debug})}))}d.exports={create:s}},{"./assets":14,"./braintree-error":16,"./errors":23}],22:[function(o,d,h){"use strict";function t(a,r){return r=r??"",a.reduce(function(n,s){return n[s]=r+s,n},{})}d.exports=t},{}],23:[function(o,d,h){"use strict";var t=o("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:t.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:t.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:t.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:t.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":16}],24:[function(o,d,h){"use strict";d.exports=function(t){return Object.keys(t).filter(function(a){return typeof t[a]=="function"})}},{}]},{},[11])(11)})})(J,J.exports);var pe=J.exports;const he=W(pe);var q={exports:{}},Oe=q.exports;(function(k,j){(function(F){if(!0)k.exports=F();else var M})(function(){var F,M,K;return function(){function o(d,h,t){function a(s,u){if(!h[s]){if(!d[s]){var i=typeof x=="function"&&x;if(!u&&i)return i(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var p=h[s]={exports:{}};d[s][0].call(p.exports,function(f){var T=d[s][1][f];return a(T||f)},p,p.exports,o,d,h,t)}return h[s].exports}for(var r=typeof x=="function"&&x,n=0;n<t.length;n++)a(t[n]);return a}return o}()({1:[function(o,d,h){"use strict";var t=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(h,"__esModule",{value:!0}),h.PromiseGlobal=void 0;var a=t(o("promise-polyfill")),r=typeof Promise<"u"?Promise:a.default;h.PromiseGlobal=r},{"promise-polyfill":30}],2:[function(o,d,h){"use strict";var t=o("./lib/promise"),a={};function r(n){var s,u=JSON.stringify(n);if(!n.forceScriptReload&&(s=a[u],s))return s;var i=document.createElement("script"),l=n.dataAttributes||{},p=n.container||document.head;return i.src=n.src,i.id=n.id||"",i.async=!0,n.crossorigin&&i.setAttribute("crossorigin",""+n.crossorigin),Object.keys(l).forEach(function(f){i.setAttribute("data-"+f,""+l[f])}),s=new t.PromiseGlobal(function(f,T){i.addEventListener("load",function(){f(i)}),i.addEventListener("error",function(){T(new Error(n.src+" failed to load."))}),i.addEventListener("abort",function(){T(new Error(n.src+" has aborted."))}),p.appendChild(i)}),a[u]=s,s}r.clearCache=function(){a={}},d.exports=r},{"./lib/promise":1}],3:[function(o,d,h){d.exports=o("./dist/load-script")},{"./dist/load-script":2}],4:[function(o,d,h){"use strict";var t=function(){function a(){this._events={}}return a.prototype.on=function(r,n){this._events[r]?this._events[r].push(n):this._events[r]=[n]},a.prototype.off=function(r,n){var s=this._events[r];if(s){var u=s.indexOf(n);s.splice(u,1)}},a.prototype._emit=function(r){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var u=this._events[r];u&&u.forEach(function(i){i.apply(void 0,n)})},a.prototype.hasListener=function(r){var n=this._events[r];return n?n.length>0:!1},a.createChild=function(r){r.prototype=Object.create(a.prototype,{constructor:r})},a}();d.exports=t},{}],5:[function(o,d,h){"use strict";var t=typeof Promise<"u"?Promise:null,a=function(){function r(n){var s=this;if(typeof n=="function"){this._promise=new r.Promise(n);return}this._promise=new r.Promise(function(u,i){s._resolveFunction=u,s._rejectFunction=i}),n=n||{},this._onResolve=n.onResolve||r.defaultOnResolve,this._onReject=n.onReject||r.defaultOnReject,r.shouldCatchExceptions(n)&&this._promise.catch(function(){}),this._resetState()}return r.defaultOnResolve=function(n){return r.Promise.resolve(n)},r.defaultOnReject=function(n){return r.Promise.reject(n)},r.setPromise=function(n){r.Promise=n},r.shouldCatchExceptions=function(n){return n.hasOwnProperty("suppressUnhandledPromiseMessage")?!!n.suppressUnhandledPromiseMessage:!!r.suppressUnhandledPromiseMessage},r.all=function(n){return r.Promise.all(n)},r.allSettled=function(n){return r.Promise.allSettled(n)},r.race=function(n){return r.Promise.race(n)},r.reject=function(n){return r.Promise.reject(n)},r.resolve=function(n){return r.Promise.resolve(n)},r.prototype.then=function(){for(var n,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(n=this._promise).then.apply(n,s)},r.prototype.catch=function(){for(var n,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return(n=this._promise).catch.apply(n,s)},r.prototype.resolve=function(n){var s=this;return this.isFulfilled?this:(this._setResolved(),r.Promise.resolve().then(function(){return s._onResolve(n)}).then(function(u){s._resolveFunction(u)}).catch(function(u){s._resetState(),s.reject(u)}),this)},r.prototype.reject=function(n){var s=this;return this.isFulfilled?this:(this._setRejected(),r.Promise.resolve().then(function(){return s._onReject(n)}).then(function(u){s._setResolved(),s._resolveFunction(u)}).catch(function(u){return s._rejectFunction(u)}),this)},r.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},r.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},r.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},r.Promise=t,r}();d.exports=a},{}],6:[function(o,d,h){"use strict";var t=o("./lib/set-attributes"),a=o("./lib/default-attributes"),r=o("./lib/assign");d.exports=function(s){s===void 0&&(s={});var u=document.createElement("iframe"),i=r.assign({},a.defaultAttributes,s);return i.style&&typeof i.style!="string"&&(r.assign(u.style,i.style),delete i.style),t.setAttributes(u,i),u.getAttribute("id")||(u.id=u.name),u}},{"./lib/assign":7,"./lib/default-attributes":8,"./lib/set-attributes":9}],7:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.assign=void 0;function t(a){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.forEach(function(s){typeof s=="object"&&Object.keys(s).forEach(function(u){a[u]=s[u]})}),a}h.assign=t},{}],8:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.defaultAttributes=void 0,h.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],9:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.setAttributes=void 0;function t(a,r){for(var n in r)if(r.hasOwnProperty(n)){var s=r[n];s==null?a.removeAttribute(n):a.setAttribute(n,s)}}h.setAttributes=t},{}],10:[function(o,d,h){"use strict";function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var r=Math.random()*16|0,n=a==="x"?r:r&3|8;return n.toString(16)})}d.exports=t},{}],11:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];setTimeout(function(){try{a.apply(void 0,r)}catch(s){console.log("Error in callback function"),console.log(s)}},1)}}h.deferred=t},{}],12:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a){var r=!1;return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];r||(r=!0,a.apply(void 0,n))}}h.once=t},{}],13:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function t(a,r){if(!r)return a;a.then(function(n){return r(null,n)}).catch(function(n){return r(n)})}h.promiseOrCallback=t},{}],14:[function(o,d,h){"use strict";var t=o("./lib/deferred"),a=o("./lib/once"),r=o("./lib/promise-or-callback");function n(s){return function(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];var l,p=u[u.length-1];return typeof p=="function"&&(l=u.pop(),l=a.once(t.deferred(l))),r.promiseOrCallback(s.apply(this,u),l)}}n.wrapPrototype=function(s,u){u===void 0&&(u={});var i=u.ignoreMethods||[],l=u.transformPrivateMethods===!0,p=Object.getOwnPropertyNames(s.prototype).filter(function(f){var T,R=f!=="constructor"&&typeof s.prototype[f]=="function",I=i.indexOf(f)===-1;return l?T=!0:T=f.charAt(0)!=="_",R&&T&&I});return p.forEach(function(f){var T=s.prototype[f];s.prototype[f]=n(T)}),s},d.exports=n},{"./lib/deferred":11,"./lib/once":12,"./lib/promise-or-callback":13}],15:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.Framebus=void 0;var t=o("./lib/is-not-string"),a=o("./lib/subscription-args-invalid"),r=o("./lib/broadcast"),n=o("./lib/package-payload"),s=o("./lib/send-message"),u=o("./lib/constants"),i=typeof window<"u"&&window.Promise,l=function(){function p(f){f===void 0&&(f={}),this.origin=f.origin||"*",this.channel=f.channel||"",this.verifyDomain=f.verifyDomain,this.targetFrames=f.targetFrames||[],this.limitBroadcastToFramesArray=!!f.targetFrames,this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=!!(this.verifyDomain||this.limitBroadcastToFramesArray)}return p.setPromise=function(f){p.Promise=f},p.target=function(f){return new p(f)},p.prototype.addTargetFrame=function(f){this.limitBroadcastToFramesArray&&this.targetFrames.push(f)},p.prototype.include=function(f){return f==null||f.Window==null||f.constructor!==f.Window?!1:(u.childWindows.push(f),!0)},p.prototype.target=function(f){return p.target(f)},p.prototype.emit=function(f,T,R){if(this.isDestroyed)return!1;var I=this.origin;if(f=this.namespaceEvent(f),(0,t.isntString)(f)||(0,t.isntString)(I))return!1;typeof T=="function"&&(R=T,T=void 0);var e=(0,n.packagePayload)(f,I,T,R);return e?(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(c){(0,s.sendMessage)(c,e,I)}):(0,r.broadcast)(e,{origin:I,frame:window.top||window.self}),!0):!1},p.prototype.emitAsPromise=function(f,T){var R=this;return new p.Promise(function(I,e){var c=R.emit(f,T,function(m){I(m)});c||e(new Error('Listener not added for "'.concat(f,'"')))})},p.prototype.on=function(f,T){if(this.isDestroyed)return!1;var R=this,I=this.origin,e=T;return f=this.namespaceEvent(f),(0,a.subscriptionArgsInvalid)(f,e,I)?!1:(this.hasAdditionalChecksForOnListeners&&(e=function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];R.passesVerifyDomainCheck(this&&this.origin)&&R.hasMatchingTargetFrame(this&&this.source)&&T.apply(void 0,c)}),this.listeners.push({eventName:f,handler:e,originalHandler:T}),u.subscribers[I]=u.subscribers[I]||{},u.subscribers[I][f]=u.subscribers[I][f]||[],u.subscribers[I][f].push(e),!0)},p.prototype.off=function(f,T){var R=T;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var I=0;I<this.listeners.length;I++){var e=this.listeners[I];e.originalHandler===T&&(R=e.handler)}f=this.namespaceEvent(f);var c=this.origin;if((0,a.subscriptionArgsInvalid)(f,R,c))return!1;var m=u.subscribers[c]&&u.subscribers[c][f];if(!m)return!1;for(var I=0;I<m.length;I++)if(m[I]===R)return m.splice(I,1),!0;return!1},p.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var f=0;f<this.listeners.length;f++){var T=this.listeners[f];this.off(T.eventName,T.handler)}this.listeners.length=0}},p.prototype.passesVerifyDomainCheck=function(f){return this.verifyDomain?this.checkOrigin(f):!0},p.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(f){return f instanceof HTMLIFrameElement?f.contentWindow:f}).filter(function(f){return f}):[]},p.prototype.hasMatchingTargetFrame=function(f){if(!this.limitBroadcastToFramesArray)return!0;var T=this.targetFramesAsWindows().find(function(R){return R===f});return!!T},p.prototype.checkOrigin=function(f){var T,R=document.createElement("a");R.href=location.href,R.protocol==="https:"?T=R.host.replace(/:443$/,""):R.protocol==="http:"?T=R.host.replace(/:80$/,""):T=R.host;var I=R.protocol+"//"+T;return I===f?!0:this.verifyDomain?this.verifyDomain(f):!0},p.prototype.namespaceEvent=function(f){return this.channel?"".concat(this.channel,":").concat(f):f},p.Promise=i,p}();h.Framebus=l},{"./lib/broadcast":19,"./lib/constants":20,"./lib/is-not-string":23,"./lib/package-payload":25,"./lib/send-message":26,"./lib/subscription-args-invalid":28}],16:[function(o,d,h){"use strict";var t=o("./lib/attach"),a=o("./framebus");(0,t.attach)(),d.exports=a.Framebus},{"./framebus":15,"./lib/attach":17}],17:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.detach=h.attach=void 0;var t=o("./message"),a=!1;function r(){a||typeof window>"u"||(a=!0,window.addEventListener("message",t.onmessage,!1))}h.attach=r;function n(){a=!1,window.removeEventListener("message",t.onmessage,!1)}h.detach=n},{"./message":24}],18:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.broadcastToChildWindows=void 0;var t=o("./broadcast"),a=o("./constants");function r(n,s,u){for(var i=a.childWindows.length-1;i>=0;i--){var l=a.childWindows[i];l.closed?a.childWindows.splice(i,1):u!==l&&(0,t.broadcast)(n,{origin:s,frame:l.top})}}h.broadcastToChildWindows=r},{"./broadcast":19,"./constants":20}],19:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.broadcast=void 0;var t=o("./has-opener");function a(r,n){var s=0,u,i=n.origin,l=n.frame;try{for(l.postMessage(r,i),(0,t.hasOpener)(l)&&l.opener.top!==window.top&&a(r,{origin:i,frame:l.opener.top});u=l.frames[s];)a(r,{origin:i,frame:u}),s++}catch{}}h.broadcast=a},{"./has-opener":22}],20:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.subscribers=h.childWindows=h.prefix=void 0,h.prefix="/*framebus*/",h.childWindows=[],h.subscribers={}},{}],21:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.dispatch=void 0;var t=o("./constants");function a(r,n,s,u,i){if(t.subscribers[r]&&t.subscribers[r][n]){var l=[];s&&l.push(s),u&&l.push(u);for(var p=0;p<t.subscribers[r][n].length;p++)t.subscribers[r][n][p].apply(i,l)}}h.dispatch=a},{"./constants":20}],22:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.hasOpener=void 0;function t(a){return!(a.top!==a||a.opener==null||a.opener===a||a.opener.closed===!0)}h.hasOpener=t},{}],23:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.isntString=void 0;function t(a){return typeof a!="string"}h.isntString=t},{}],24:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.onmessage=void 0;var t=o("./is-not-string"),a=o("./unpack-payload"),r=o("./dispatch"),n=o("./broadcast-to-child-windows");function s(u){if(!(0,t.isntString)(u.data)){var i=(0,a.unpackPayload)(u);if(i){var l=i.eventData,p=i.reply;(0,r.dispatch)("*",i.event,l,p,u),(0,r.dispatch)(u.origin,i.event,l,p,u),(0,n.broadcastToChildWindows)(u.data,i.origin,u.source)}}}h.onmessage=s},{"./broadcast-to-child-windows":18,"./dispatch":21,"./is-not-string":23,"./unpack-payload":29}],25:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.packagePayload=void 0;var t=o("./subscribe-replier"),a=o("./constants");function r(n,s,u,i){var l,p={event:n,origin:s};typeof i=="function"&&(p.reply=(0,t.subscribeReplier)(i,s)),p.eventData=u;try{l=a.prefix+JSON.stringify(p)}catch(f){throw new Error("Could not stringify event: ".concat(f.message))}return l}h.packagePayload=r},{"./constants":20,"./subscribe-replier":27}],26:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.sendMessage=void 0;function t(a,r,n){try{a.postMessage(r,n)}catch{}}h.sendMessage=t},{}],27:[function(o,d,h){"use strict";var t=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(h,"__esModule",{value:!0}),h.subscribeReplier=void 0;var a=o("../framebus"),r=t(o("@braintree/uuid"));function n(s,u){var i=(0,r.default)();function l(p,f){s(p,f),a.Framebus.target({origin:u}).off(i,l)}return a.Framebus.target({origin:u}).on(i,l),i}h.subscribeReplier=n},{"../framebus":15,"@braintree/uuid":10}],28:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.subscriptionArgsInvalid=void 0;var t=o("./is-not-string");function a(r,n,s){return(0,t.isntString)(r)||typeof n!="function"?!0:(0,t.isntString)(s)}h.subscriptionArgsInvalid=a},{"./is-not-string":23}],29:[function(o,d,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.unpackPayload=void 0;var t=o("./constants"),a=o("./package-payload");function r(n){var s;if(n.data.slice(0,t.prefix.length)!==t.prefix)return!1;try{s=JSON.parse(n.data.slice(t.prefix.length))}catch{return!1}if(s.reply){var u=n.origin,i=n.source,l=s.reply;s.reply=function(f){if(i){var T=(0,a.packagePayload)(l,u,f);T&&i.postMessage(T,u)}}}return s}h.unpackPayload=r},{"./constants":20,"./package-payload":25}],30:[function(o,d,h){"use strict";function t(e){var c=this.constructor;return this.then(function(m){return c.resolve(e()).then(function(){return m})},function(m){return c.resolve(e()).then(function(){return c.reject(m)})})}function a(e){var c=this;return new c(function(m,y){if(!(e&&typeof e.length<"u"))return y(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var E=Array.prototype.slice.call(e);if(E.length===0)return m([]);var A=E.length;function v(_,b){if(b&&(typeof b=="object"||typeof b=="function")){var N=b.then;if(typeof N=="function"){N.call(b,function(O){v(_,O)},function(O){E[_]={status:"rejected",reason:O},--A===0&&m(E)});return}}E[_]={status:"fulfilled",value:b},--A===0&&m(E)}for(var g=0;g<E.length;g++)v(g,E[g])})}var r=setTimeout;function n(e){return!!(e&&typeof e.length<"u")}function s(){}function u(e,c){return function(){e.apply(c,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],I(e,this)}function l(e,c){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(c);return}e._handled=!0,i._immediateFn(function(){var m=e._state===1?c.onFulfilled:c.onRejected;if(m===null){(e._state===1?p:f)(c.promise,e._value);return}var y;try{y=m(e._value)}catch(E){f(c.promise,E);return}p(c.promise,y)})}function p(e,c){try{if(c===e)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var m=c.then;if(c instanceof i){e._state=3,e._value=c,T(e);return}else if(typeof m=="function"){I(u(m,c),e);return}}e._state=1,e._value=c,T(e)}catch(y){f(e,y)}}function f(e,c){e._state=2,e._value=c,T(e)}function T(e){e._state===2&&e._deferreds.length===0&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var c=0,m=e._deferreds.length;c<m;c++)l(e,e._deferreds[c]);e._deferreds=null}function R(e,c,m){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof c=="function"?c:null,this.promise=m}function I(e,c){var m=!1;try{e(function(y){m||(m=!0,p(c,y))},function(y){m||(m=!0,f(c,y))})}catch(y){if(m)return;m=!0,f(c,y)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,c){var m=new this.constructor(s);return l(this,new R(e,c,m)),m},i.prototype.finally=t,i.all=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.all accepts an array"));var y=Array.prototype.slice.call(e);if(y.length===0)return c([]);var E=y.length;function A(g,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var b=_.then;if(typeof b=="function"){b.call(_,function(N){A(g,N)},m);return}}y[g]=_,--E===0&&c(y)}catch(N){m(N)}}for(var v=0;v<y.length;v++)A(v,y[v])})},i.allSettled=a,i.resolve=function(e){return e&&typeof e=="object"&&e.constructor===i?e:new i(function(c){c(e)})},i.reject=function(e){return new i(function(c,m){m(e)})},i.race=function(e){return new i(function(c,m){if(!n(e))return m(new TypeError("Promise.race accepts an array"));for(var y=0,E=e.length;y<E;y++)i.resolve(e[y]).then(c,m)})},i._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){r(e,0)},i._unhandledRejectionFn=function(c){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",c)},d.exports=i},{}],31:[function(o,d,h){"use strict";var t=o("./create-authorization-data"),a=o("./json-clone"),r=o("./constants");function n(s,u){var i,l=u?a(u):{},p=t(s.authorization).attrs,f=a(s.analyticsMetadata);l.braintreeLibraryVersion=r.BRAINTREE_LIBRARY_VERSION;for(i in l._meta)l._meta.hasOwnProperty(i)&&(f[i]=l._meta[i]);return l._meta=f,p.tokenizationKey?l.tokenizationKey=p.tokenizationKey:l.authorizationFingerprint=p.authorizationFingerprint,l}d.exports=n},{"./constants":37,"./create-authorization-data":41,"./json-clone":48}],32:[function(o,d,h){"use strict";var t=o("./constants"),a=o("./add-metadata");function r(n,s,u){var i=Date.now();return Promise.resolve(n).then(function(l){var p=Date.now(),f=l.getConfiguration(),T=l._request,R=f.gatewayConfiguration.analytics.url,I={analytics:[{kind:t.ANALYTICS_PREFIX+s,isAsync:Math.floor(p/1e3)!==Math.floor(i/1e3),timestamp:i}]};T({url:R,method:"post",data:a(f,I),timeout:t.ANALYTICS_REQUEST_TIMEOUT_MS},u)}).catch(function(l){u&&u(l)})}d.exports={sendEvent:r}},{"./add-metadata":31,"./constants":37}],33:[function(o,d,h){"use strict";var t=o("@braintree/asset-loader/load-script");d.exports={loadScript:t}},{"@braintree/asset-loader/load-script":3}],34:[function(o,d,h){"use strict";var t=typeof Object.assign=="function"?Object.assign:a;function a(r){var n,s,u;for(n=1;n<arguments.length;n++){s=arguments[n];for(u in s)s.hasOwnProperty(u)&&(r[u]=s[u])}return r}d.exports={assign:t,_assign:a}},{}],35:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./errors"),r="3.94.0";function n(s){var u,i,l;return s?(l=s.name,u=s.client,i=s.authorization,!u&&!i?Promise.reject(new t({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+l+"."})):!i&&u.getVersion()!==r?Promise.reject(new t({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+u.getVersion()+") and "+l+" (version "+r+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new t({type:a.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:a.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:n}},{"./braintree-error":36,"./errors":45}],36:[function(o,d,h){"use strict";var t=o("./enumerate");function a(r){if(!a.types.hasOwnProperty(r.type))throw new Error(r.type+" is not a valid type.");if(!r.code)throw new Error("Error code required.");if(!r.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=r.code,this.message=r.message,this.type=r.type,this.details=r.details}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.types=t(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),a.findRootError=function(r){return r instanceof a&&r.details&&r.details.originalError?a.findRootError(r.details.originalError):r},d.exports=a},{"./enumerate":44}],37:[function(o,d,h){"use strict";var t="3.94.0",a="web",r={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},n={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},s={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:a+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:n,CLIENT_API_URLS:r,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:s,INTEGRATION_TIMEOUT_MS:6e4,VERSION:t,INTEGRATION:"custom",SOURCE:"client",PLATFORM:a,BRAINTREE_LIBRARY_VERSION:"braintree/"+a+"/"+t}},{}],38:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./errors");d.exports=function(r,n){n.forEach(function(s){r[s]=function(){throw new t({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:s+" cannot be called after teardown."})}})}},{"./braintree-error":36,"./errors":45}],39:[function(o,d,h){"use strict";var t=o("./braintree-error");function a(r,n){return r instanceof t?r:new t({type:n.type,code:n.code,message:n.message,details:{originalError:r}})}d.exports=a},{"./braintree-error":36}],40:[function(o,d,h){"use strict";var t=o("./constants").ASSETS_URLS;function a(r){return t.production}d.exports={create:a}},{"./constants":37}],41:[function(o,d,h){"use strict";var t=o("../lib/vendor/polyfill").atob,a=o("../lib/constants").CLIENT_API_URLS;function r(u){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(u)}function n(u){var i=u.split("_"),l=i[0],p=i.slice(2).join("_");return{merchantId:p,environment:l}}function s(u){var i,l,p={attrs:{},configUrl:""};return r(u)?(l=n(u),p.environment=l.environment,p.attrs.tokenizationKey=u,p.configUrl=a[l.environment]+"/merchants/"+l.merchantId+"/client_api/v1/configuration"):(i=JSON.parse(t(u)),p.environment=i.environment,p.attrs.authorizationFingerprint=i.authorizationFingerprint,p.configUrl=i.configUrl,p.graphQL=i.graphQL),p}d.exports=s},{"../lib/constants":37,"../lib/vendor/polyfill":51}],42:[function(o,d,h){"use strict";var t=o("./braintree-error"),a=o("./assets"),r=o("./errors"),n="3.94.0";function s(u){var i=Promise.resolve();return u.client?Promise.resolve(u.client):(window.braintree&&window.braintree.client||(i=a.loadScript({src:u.assetsUrl+"/web/"+n+"/js/client.min.js"}).catch(function(l){return Promise.reject(new t({type:r.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:r.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:r.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:l}}))})),i.then(function(){return window.braintree.client.VERSION!==n?Promise.reject(new t({type:r.INCOMPATIBLE_VERSIONS.type,code:r.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+u.name+" (version "+n+") components must be from the same SDK version."})):window.braintree.client.create({authorization:u.authorization,debug:u.debug})}))}d.exports={create:s}},{"./assets":33,"./braintree-error":36,"./errors":45}],43:[function(o,d,h){"use strict";d.exports=function(t){return function(){var a=arguments;setTimeout(function(){t.apply(null,a)},1)}}},{}],44:[function(o,d,h){"use strict";function t(a,r){return r=r??"",a.reduce(function(n,s){return n[s]=r+s,n},{})}d.exports=t},{}],45:[function(o,d,h){"use strict";var t=o("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:t.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:t.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:t.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:t.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":36}],46:[function(o,d,h){"use strict";function t(a){return a=a||window.location.protocol,a==="https:"}d.exports={isHTTPS:t}},{}],47:[function(o,d,h){"use strict";var t,a={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};function r(s){return s.split(".").slice(-2).join(".")}function n(s){var u;return s=s.toLowerCase(),/^https:/.test(s)?(t=t||document.createElement("a"),t.href=s,u=r(t.hostname),a.hasOwnProperty(u)):!1}d.exports=n},{}],48:[function(o,d,h){"use strict";d.exports=function(t){return JSON.parse(JSON.stringify(t))}},{}],49:[function(o,d,h){"use strict";d.exports=function(t){return Object.keys(t).filter(function(a){return typeof t[a]=="function"})}},{}],50:[function(o,d,h){"use strict";function t(a){return a?"":".min"}d.exports=t},{}],51:[function(o,d,h){"use strict";var t=typeof atob=="function"?atob:a;function a(r){var n,s,u,i,l,p,f,T,R=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="";if(!R.test(r))throw new Error("Non base64 encoded input passed to window.atob polyfill");T=0;do i=I.indexOf(r.charAt(T++)),l=I.indexOf(r.charAt(T++)),p=I.indexOf(r.charAt(T++)),f=I.indexOf(r.charAt(T++)),n=(i&63)<<2|l>>4&3,s=(l&15)<<4|p>>2&15,u=(p&3)<<6|f&63,e+=String.fromCharCode(n)+(s?String.fromCharCode(s):"")+(u?String.fromCharCode(u):"");while(T<r.length);return e}d.exports={atob:function(r){return t.call(window,r)},_atob:a}},{}],52:[function(o,d,h){"use strict";var t=o("../../../lib/assign").assign,a=o("../../../lib/analytics"),r=o("../../../lib/braintree-error"),n=o("../../../lib/is-verified-domain"),s=o("@braintree/extended-promise"),u=o("@braintree/event-emitter"),i=o("../../shared/errors"),l=o("@braintree/iframer"),p=o("framebus"),f=o("../../shared/constants"),T=o("@braintree/uuid"),R=o("../../shared/events"),I=o("../../../lib/use-min"),e=o("../../../lib/constants").BUS_CONFIGURATION_REQUEST_EVENT,c="3.94.0",m=400,y=400;s.suppressUnhandledPromiseMessage=!0;function E(A){u.call(this),this._client=A.client,this._createPromise=A.createPromise,this._createOptions=A,this._client?(this._isDebug=this._client.getConfiguration().isDebug,this._assetsUrl=this._client.getConfiguration().gatewayConfiguration.assetsUrl):(this._isDebug=!!A.isDebug,this._assetsUrl=A.assetsUrl),this._assetsUrl=this._assetsUrl+"/web/"+c}u.createChild(E),E.prototype._waitForClient=function(){return this._client?Promise.resolve():this._createPromise.then(function(A){this._client=A}.bind(this))},E.prototype.setUpEventListeners=function(){throw new r(i.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},E.prototype.verifyCard=function(A,v){var g,_,b=this;return v=v||{},_=this._checkForVerifyCardError(A,v),_?Promise.reject(_):(this._verifyCardInProgress=!0,g=this._formatVerifyCardOptions(A),this._formatLookupData(g).then(function(N){return a.sendEvent(b._createPromise,"three-d-secure.verification-flow.started"),b._performLookup(g.nonce,N)}).then(function(N){return a.sendEvent(b._createPromise,"three-d-secure.verification-flow.3ds-version."+N.lookup.threeDSecureVersion),b._onLookupComplete(N,g)}).then(function(N){return b.initializeChallengeWithLookupResponse(N,g)}).then(function(N){return b._resetVerificationState(),a.sendEvent(b._createPromise,"three-d-secure.verification-flow.completed"),N}).catch(function(N){return b._resetVerificationState(),a.sendEvent(b._createPromise,"three-d-secure.verification-flow.failed"),Promise.reject(N)}))},E.prototype._checkForFrameworkSpecificVerifyCardErrors=function(){throw new r(i.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},E.prototype._presentChallenge=function(){throw new r(i.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},E.prototype.prepareLookup=function(){throw new r(i.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},E.prototype._resetVerificationState=function(){this._verifyCardInProgress=!1,this._verifyCardPromisePlus=null},E.prototype._performLookup=function(A,v){var g=this,_="payment_methods/"+A+"/three_d_secure/lookup";return this._waitForClient().then(function(){return g._client.request({endpoint:_,method:"post",data:v}).catch(function(b){var N=b&&b.details&&b.details.httpStatus,O="three-d-secure.verification-flow.lookup-failed",S;return N===404?(S=i.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR,O+=".404"):N===422?(S=i.THREEDS_LOOKUP_VALIDATION_ERROR,O+=".422"):S=i.THREEDS_LOOKUP_ERROR,a.sendEvent(g._createPromise,O),Promise.reject(new r({type:S.type,code:S.code,message:S.message,details:{originalError:b}}))})})},E.prototype._checkForVerifyCardError=function(A,v){var g;return this._verifyCardInProgress===!0?new r(i.THREEDS_AUTHENTICATION_IN_PROGRESS):(A.nonce?A.amount||(g="an amount"):g="a nonce",g||(g=this._checkForFrameworkSpecificVerifyCardErrors(A,v)),g?new r({type:i.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:i.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+g+"."}):null)},E.prototype.initializeChallengeWithLookupResponse=function(A,v){var g=this;return v=v||{},this._lookupPaymentMethod=A.paymentMethod,g._verifyCardPromisePlus=g._verifyCardPromisePlus||new s,g._handleLookupResponse(A,v),g._verifyCardPromisePlus.then(function(_){return a.sendEvent(g._createPromise,"three-d-secure.verification-flow.liability-shifted."+String(_.liabilityShifted)),a.sendEvent(g._createPromise,"three-d-secure.verification-flow.liability-shift-possible."+String(_.liabilityShiftPossible)),_})},E.prototype._handleLookupResponse=function(A,v){var g=!!(A.lookup&&A.lookup.acsUrl),_;a.sendEvent(this._createPromise,"three-d-secure.verification-flow.challenge-presented."+String(g)),g?this._presentChallenge(A,v):(_=this._formatAuthResponse(A.paymentMethod,A.threeDSecureInfo),_.verificationDetails=A.threeDSecureInfo,this._verifyCardPromisePlus.resolve(_))},E.prototype._onLookupComplete=function(A){return this._lookupPaymentMethod=A.paymentMethod,this._verifyCardPromisePlus=new s,Promise.resolve(A)},E.prototype._formatAuthResponse=function(A,v){return{nonce:A.nonce,type:A.type,binData:A.binData,details:A.details,description:A.description&&A.description.replace(/\+/g," "),liabilityShifted:v&&v.liabilityShifted,liabilityShiftPossible:v&&v.liabilityShiftPossible,threeDSecureInfo:A.threeDSecureInfo}},E.prototype._formatVerifyCardOptions=function(A){return t({},A)},E.prototype._formatLookupData=function(A){var v={amount:A.amount};return A.collectDeviceData===!0&&(v.browserColorDepth=window.screen.colorDepth,v.browserJavaEnabled=window.navigator.javaEnabled(),v.browserJavascriptEnabled=!0,v.browserLanguage=window.navigator.language,v.browserScreenHeight=window.screen.height,v.browserScreenWidth=window.screen.width,v.browserTimeZone=new Date().getTimezoneOffset(),v.deviceChannel="Browser"),Promise.resolve(v)},E.prototype._handleV1AuthResponse=function(A){var v=JSON.parse(A.auth_response);v.success?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(v.paymentMethod,v.threeDSecureInfo)):v.threeDSecureInfo&&v.threeDSecureInfo.liabilityShiftPossible?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(this._lookupPaymentMethod,v.threeDSecureInfo)):this._verifyCardPromisePlus.reject(new r({type:r.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:v.error.message}))},E.prototype.cancelVerifyCard=function(){var A,v;return this._verifyCardInProgress=!1,this._lookupPaymentMethod?(v=this._lookupPaymentMethod.threeDSecureInfo,A=t({},this._lookupPaymentMethod,{liabilityShiftPossible:v&&v.liabilityShiftPossible,liabilityShifted:v&&v.liabilityShifted,verificationDetails:v&&v.verificationDetails}),Promise.resolve(A)):Promise.reject(new r(i.THREEDS_NO_VERIFICATION_PAYLOAD))},E.prototype._setupV1Bus=function(A){var v=this._client.getConfiguration(),g=window.location.href.split("#")[0],_=A.lookupResponse,b=T(),N=new p({channel:b,verifyDomain:n}),O=this._assetsUrl+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(b)+"&";return N.on(e,function(S){S({clientConfiguration:v,nonce:A.nonce,acsUrl:_.acsUrl,pareq:_.pareq,termUrl:_.termUrl+"&three_d_secure_version="+c+"&authentication_complete_base_url="+encodeURIComponent(O),md:_.md,parentUrl:g})}),N.on(R.AUTHENTICATION_COMPLETE,A.handleAuthResponse),N},E.prototype._setupV1Iframe=function(A){var v=this._assetsUrl+"/html/three-d-secure-bank-frame"+I(this._isDebug)+".html?showLoader="+A.showLoader,g=l({src:v,height:m,width:y,name:f.LANDING_FRAME_NAME+"_"+this._v1Bus.channel,title:"3D Secure Authorization Frame"});return g},E.prototype._setupV1Elements=function(A){this._v1Bus=this._setupV1Bus(A),this._v1Iframe=this._setupV1Iframe(A)},E.prototype._teardownV1Elements=function(){this._v1Bus&&(this._v1Bus.teardown(),this._v1Bus=null),this._v1Iframe&&this._v1Iframe.parentNode&&(this._v1Iframe.parentNode.removeChild(this._v1Iframe),this._v1Iframe=null),this._onV1Keyup&&(document.removeEventListener("keyup",this._onV1Keyup),this._onV1Keyup=null)},E.prototype.teardown=function(){return a.sendEvent(this._createPromise,"three-d-secure.teardown-completed"),this._teardownV1Elements(),Promise.resolve()},d.exports=E},{"../../../lib/analytics":32,"../../../lib/assign":34,"../../../lib/braintree-error":36,"../../../lib/constants":37,"../../../lib/is-verified-domain":47,"../../../lib/use-min":50,"../../shared/constants":61,"../../shared/errors":62,"../../shared/events":63,"@braintree/event-emitter":4,"@braintree/extended-promise":5,"@braintree/iframer":6,"@braintree/uuid":10,framebus:16}],53:[function(o,d,h){"use strict";var t=o("./songbird");function a(r){t.call(this,r)}a.prototype=Object.create(t.prototype,{constructor:t}),a.prototype._createV1IframeModalElement=function(r){var n=document.createElement("div");return n.innerHTML='<div class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="CCAFrameModal-label" aria-hidden="true" style="display: block;"><div class="modal-dialog" style="width:440px;z-index:999999;"><div class="modal-content"><div class="modal-body" data-braintree-v1-fallback-iframe-container><button type="button" data-braintree-v1-fallback-close-button class="close" data-dismiss="modal" aria-hidden="true">×</button></div></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;cursor: pointer;z-index: 999998;top: 0;left: 0;width: 100%;height: 100%;"></div></div>',n.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(r),n},a.prototype._createCardinalConfigurationOptions=function(r){var n=t.prototype._createCardinalConfigurationOptions.call(this,r);return n.payment.framework="bootstrap3",n},d.exports=a},{"./songbird":58}],54:[function(o,d,h){"use strict";var t=o("./songbird");function a(r){t.call(this,r)}a.prototype=Object.create(t.prototype,{constructor:t}),a.prototype._createV1IframeModalElement=function(r){var n=document.createElement("div"),s=!!(this._createOptions&&this._createOptions.cardinalSDKConfig&&this._createOptions.cardinalSDKConfig.payment&&this._createOptions.cardinalSDKConfig.payment.displayExitButton);return n.innerHTML=`<div style="position: fixed;z-index: 999999;top: 50%;left: 50%;padding: 24px 20px;transform: translate(-50%,-50%);border-radius: 2px;background: #fff;max-width: 100%;overflow: auto;"><div><button data-braintree-v1-fallback-close-button style="font-family: Helvetica,Arial,sans-serif;font-size: 25px;line-height: 12px;position: absolute;top: 2px;right: 0px;cursor: pointer;color: #999;border: 0;outline: none;background: none;" onMouseOver="this.style.color='#000'" onMouseOut="this.style.color='#999'">×</button></div><div data-braintree-v1-fallback-iframe-container style="height: 400px;"></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;z-index: 999998;cursor: pointer;top: 0;left: 0;width: 100%;height: 100%;transition: opacity 1ms ease;background: rgba(0,0,0,.6);"></div>`,s||(n.querySelector("[data-braintree-v1-fallback-close-button]").style.display="none"),n.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(r),n},d.exports=a},{"./songbird":58}],55:[function(o,d,h){"use strict";var t=o("./legacy"),a=o("./cardinal-modal"),r=o("./bootstrap3-modal"),n=o("./inline-iframe");d.exports={legacy:t,"cardinal-modal":a,"bootstrap3-modal":r,"inline-iframe":n}},{"./bootstrap3-modal":53,"./cardinal-modal":54,"./inline-iframe":56,"./legacy":57}],56:[function(o,d,h){"use strict";var t=o("./songbird"),a=o("../../../lib/braintree-error"),r=o("../../shared/errors"),n=o("../../../lib/enumerate");function s(u){t.call(this,u)}s.prototype=Object.create(t.prototype,{constructor:t}),s.events=n(["AUTHENTICATION_IFRAME_AVAILABLE"],"inline-iframe-framework:"),s.prototype.setUpEventListeners=function(u){t.prototype.setUpEventListeners.call(this,u),this.on(s.events.AUTHENTICATION_IFRAME_AVAILABLE,function(i,l){u("authentication-iframe-available",i,l)})},s.prototype._createCardinalConfigurationOptions=function(u){var i=t.prototype._createCardinalConfigurationOptions.call(this,u);return i.payment.framework="inline",i},s.prototype._addV1IframeToPage=function(){this._emit(s.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:this._v1Modal},function(){})},s.prototype._setupFrameworkSpecificListeners=function(){this.setCardinalListener("ui.inline.setup",this._onInlineSetup.bind(this))},s.prototype._onInlineSetup=function(u,i,l,p){var f,T;if(!u||!i||i.paymentType!=="CCA"?T=!0:i.data.mode==="suppress"||i.data.mode==="static"||(T=!0),T){p(new a(r.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT));return}f=document.createElement("div"),f.innerHTML=u,i.data.mode==="suppress"?(f.style.display="none",document.body.appendChild(f),l()):i.data.mode==="static"&&this._emit(s.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:f},function(){l()})},d.exports=s},{"../../../lib/braintree-error":36,"../../../lib/enumerate":44,"../../shared/errors":62,"./songbird":58}],57:[function(o,d,h){"use strict";var t=o("./base"),a=o("../../../lib/deferred");function r(n){t.call(this,n)}r.prototype=Object.create(t.prototype,{constructor:r}),r.prototype.setUpEventListeners=function(){},r.prototype.transformV1CustomerBillingAddress=function(n){return n.billingAddress.line1=n.billingAddress.streetAddress,n.billingAddress.line2=n.billingAddress.extendedAddress,n.billingAddress.city=n.billingAddress.locality,n.billingAddress.state=n.billingAddress.region,n.billingAddress.countryCode=n.billingAddress.countryCodeAlpha2,delete n.billingAddress.streetAddress,delete n.billingAddress.extendedAddress,delete n.billingAddress.locality,delete n.billingAddress.region,delete n.billingAddress.countryCodeAlpha2,n},r.prototype._createIframe=function(n){var s=this;return this._setupV1Elements({nonce:n.nonce,lookupResponse:n.lookupResponse,showLoader:n.showLoader,handleAuthResponse:function(u){s._handleAuthResponse(u,n)}}),this._v1Iframe},r.prototype._handleAuthResponse=function(n,s){this._v1Bus.teardown(),s.removeFrame(),a(function(){this._handleV1AuthResponse(n)}.bind(this))()},r.prototype._checkForFrameworkSpecificVerifyCardErrors=function(n){var s;return typeof n.addFrame!="function"?s="an addFrame function":typeof n.removeFrame!="function"&&(s="a removeFrame function"),s},r.prototype._formatVerifyCardOptions=function(n){var s=t.prototype._formatVerifyCardOptions.call(this,n);return s.addFrame=a(n.addFrame),s.removeFrame=a(n.removeFrame),s.showLoader=n.showLoader!==!1,s},r.prototype._formatLookupData=function(n){var s=this;return t.prototype._formatLookupData.call(this,n).then(function(u){return n.customer&&n.customer.billingAddress&&(u.customer=s.transformV1CustomerBillingAddress(n.customer)),u})},r.prototype._presentChallenge=function(n,s){s.addFrame(null,this._createIframe({showLoader:s.showLoader,lookupResponse:n.lookup,nonce:n.paymentMethod.nonce,removeFrame:s.removeFrame}))},d.exports=r},{"../../../lib/deferred":43,"./base":52}],58:[function(o,d,h){"use strict";var t=o("./base"),a=o("../../../lib/assign").assign,r=o("../../../lib/deferred"),n=o("../../../lib/braintree-error"),s=o("../../../lib/convert-to-braintree-error"),u=o("../../../lib/analytics"),i=o("../../../lib/assets"),l=o("../../shared/errors"),p=o("../../../lib/enumerate"),f=o("../../shared/constants"),T=o("@braintree/extended-promise"),R=o("../../../lib/constants").INTEGRATION_TIMEOUT_MS,I=o("../../../lib/constants").PLATFORM,e="3.94.0",c="01",m=["ui.close","ui.render","ui.renderHidden","ui.loading.close","ui.loading.render"],y=["low_value","transaction_risk_analysis"];T.suppressUnhandledPromiseMessage=!0;function E(v){t.call(this,v),this._useV1Fallback=!1,this._clientMetadata={requestedThreeDSecureVersion:"2",sdkVersion:I+"/"+e},this._getDfReferenceIdPromisePlus=new T,this.setupSongbird(v),this._cardinalEvents=[]}E.prototype=Object.create(t.prototype,{constructor:E}),E.events=p(["LOOKUP_COMPLETE","CUSTOMER_CANCELED","UI.CLOSE","UI.RENDER","UI.RENDERHIDDEN","UI.LOADING.CLOSE","UI.LOADING.RENDER"],"songbird-framework:"),E.prototype.setUpEventListeners=function(v){this.on(E.events.LOOKUP_COMPLETE,function(g,_){v("lookup-complete",g,_)}),this.on(E.events.CUSTOMER_CANCELED,function(){v("customer-canceled")}),this.on(E.events["UI.CLOSE"],function(){v("authentication-modal-close")}),this.on(E.events["UI.RENDER"],function(){v("authentication-modal-render")}),this.on(E.events["UI.RENDERHIDDEN"],function(){v("authentication-modal-render-hidden")}),this.on(E.events["UI.LOADING.CLOSE"],function(){v("authentication-modal-loader-close")}),this.on(E.events["UI.LOADING.RENDER"],function(){v("authentication-modal-loader-render")})},E.prototype.prepareLookup=function(v){var g=a({},v),_=this;return this.getDfReferenceId().then(function(b){g.dfReferenceId=b}).then(function(){return _._triggerCardinalBinProcess(v.bin)}).catch(function(){}).then(function(){return _._waitForClient()}).then(function(){return g.clientMetadata=_._clientMetadata,g.authorizationFingerprint=_._client.getConfiguration().authorizationFingerprint,g.braintreeLibraryVersion="braintree/web/"+e,g})},E.prototype.initializeChallengeWithLookupResponse=function(v,g){return this.setupSongbird().then(function(){return t.prototype.initializeChallengeWithLookupResponse.call(this,v,g)}.bind(this))},E.prototype.initiateV1Fallback=function(v){this._useV1Fallback=!0,this._removeSongbirdListeners(),u.sendEvent(this._createPromise,"three-d-secure.v1-fallback."+v),this._songbirdPromise&&this._songbirdPromise.resolve()},E.prototype._triggerCardinalBinProcess=function(v){var g=this,_=Date.now();return window.Cardinal.trigger("bin.process",v).then(function(b){g._clientMetadata.issuerDeviceDataCollectionTimeElapsed=Date.now()-_,g._clientMetadata.issuerDeviceDataCollectionResult=b&&b.Status})},E.prototype.transformBillingAddress=function(v,g){return g&&(A(g,v,"billing"),v.billingPhoneNumber=g.phoneNumber,v.billingGivenName=g.givenName,v.billingSurname=g.surname),v},E.prototype.transformShippingAddress=function(v){var g=v.shippingAddress;return g&&(A(g,v,"shipping"),delete v.shippingAddress),v},E.prototype._createV1IframeModalElement=function(v){var g=document.createElement("div");return g.innerHTML='<div data-braintree-v1-fallback-iframe-container="true" style="height: 400px;"></div>',g.querySelector('[data-braintree-v1-fallback-iframe-container="true"]').appendChild(v),g},E.prototype._createV1IframeModal=function(v){var g=this._createV1IframeModalElement(v),_=g.querySelector("[data-braintree-v1-fallback-close-button]"),b=g.querySelector("[data-braintree-v1-fallback-backdrop]"),N=this;function O(){g.parentNode.removeChild(g),N.cancelVerifyCard(l.THREEDS_CARDINAL_SDK_CANCELED),document.removeEventListener("keyup",N._onV1Keyup),N._onV1Keyup=null}return this._onV1Keyup=function(S){S.key==="Escape"&&g.parentNode&&O()},_&&_.addEventListener("click",O),b&&b.addEventListener("click",O),document.addEventListener("keyup",this._onV1Keyup),g},E.prototype._addV1IframeToPage=function(){document.body.appendChild(this._v1Modal)},E.prototype._handleAuthResponseFromV1Fallback=function(v){this._teardownV1Elements(),this._v1Modal.parentNode.removeChild(this._v1Modal),this._handleV1AuthResponse(v)},E.prototype._presentChallengeWithV1Fallback=function(v){var g=this;this._setupV1Elements({lookupResponse:v,showLoader:!0,handleAuthResponse:function(_){g._handleAuthResponseFromV1Fallback(_)}}),this._v1Modal=this._createV1IframeModal(this._v1Iframe),this._addV1IframeToPage()},E.prototype.setupSongbird=function(v){var g=this,_=Date.now();return this._songbirdPromise?this._songbirdPromise:(v=v||{},this._songbirdPromise=new T,this._v2SetupFailureReason="reason-unknown",g._loadCardinalScript(v).then(function(){return window.Cardinal?g._configureCardinalSdk({setupOptions:v,setupStartTime:_}):(g._v2SetupFailureReason="cardinal-global-unavailable",Promise.reject(new n(l.THREEDS_CARDINAL_SDK_SETUP_FAILED)))}).catch(function(b){var N=s(b,{type:l.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,code:l.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,message:l.THREEDS_CARDINAL_SDK_SETUP_FAILED.message});g._getDfReferenceIdPromisePlus.reject(N),window.clearTimeout(g._songbirdSetupTimeoutReference),u.sendEvent(g._client,"three-d-secure.cardinal-sdk.init.setup-failed"),g.initiateV1Fallback("cardinal-sdk-setup-failed."+g._v2SetupFailureReason)}),this._songbirdPromise)},E.prototype._configureCardinalSdk=function(v){var g=this;return this._waitForClient().then(function(){var _=g._client.getConfiguration().gatewayConfiguration.threeDSecure;return _}).then(function(_){var b=_.cardinalAuthenticationJWT,N=v.setupOptions,O=v.setupStartTime,S=g._createCardinalConfigurationOptions(N);m.forEach(function(P){g.setCardinalListener(P,function(){g._emit(E.events[P.toUpperCase()])})}),g.setCardinalListener("payments.setupComplete",g._createPaymentsSetupCompleteCallback()),g._setupFrameworkSpecificListeners(),window.Cardinal.configure(S),window.Cardinal.setup("init",{jwt:b}),g._clientMetadata.cardinalDeviceDataCollectionTimeElapsed=Date.now()-O,g.setCardinalListener("payments.validated",g._createPaymentsValidatedCallback())}).catch(function(_){return g._v2SetupFailureReason="cardinal-configuration-threw-error",Promise.reject(_)})},E.prototype.setCardinalListener=function(v,g){this._cardinalEvents.push(v),window.Cardinal.on(v,g)},E.prototype._setupFrameworkSpecificListeners=function(){},E.prototype._createCardinalConfigurationOptions=function(v){var g=v.cardinalSDKConfig||{},_=g.payment||{};return!g.logging&&v.loggingEnabled&&(g.logging={level:"verbose"}),g.payment={},_.hasOwnProperty("displayLoading")&&(g.payment.displayLoading=_.displayLoading),_.hasOwnProperty("displayExitButton")&&(g.payment.displayExitButton=_.displayExitButton),g},E.prototype._loadCardinalScript=function(v){var g=this,_=f.CARDINAL_SCRIPT_SOURCE.sandbox;return this._waitForClient().then(function(){var b=g._client.getConfiguration().gatewayConfiguration.environment==="production";return g._songbirdSetupTimeoutReference=window.setTimeout(function(){u.sendEvent(g._client,"three-d-secure.cardinal-sdk.init.setup-timeout"),g.initiateV1Fallback("cardinal-sdk-setup-timeout")},v.timeout||R),b&&(_=f.CARDINAL_SCRIPT_SOURCE.production),i.loadScript({src:_})}).catch(function(b){return g._v2SetupFailureReason="songbird-js-failed-to-load",Promise.reject(s(b,l.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED))})},E.prototype._createPaymentsSetupCompleteCallback=function(){var v=this;return function(g){v._getDfReferenceIdPromisePlus.resolve(g.sessionId),window.clearTimeout(v._songbirdSetupTimeoutReference),u.sendEvent(v._createPromise,"three-d-secure.cardinal-sdk.init.setup-completed"),v._songbirdPromise.resolve()}},E.prototype.getDfReferenceId=function(){return this._getDfReferenceIdPromisePlus},E.prototype._performJWTValidation=function(v,g){var _=this,b=this._lookupPaymentMethod.nonce,N="payment_methods/"+b+"/three_d_secure/authenticate_from_jwt",O=v&&v.Payment&&v.Payment.ExtendedData&&v.Payment.ExtendedData.ChallengeCancel;return O&&(u.sendEvent(this._createPromise,"three-d-secure.verification-flow.cardinal-sdk.cancel-code."+O),O===c&&this._emit(E.events.CUSTOMER_CANCELED)),u.sendEvent(this._createPromise,"three-d-secure.verification-flow.upgrade-payment-method.started"),this._waitForClient().then(function(){return _._client.request({method:"post",endpoint:N,data:{jwt:g,paymentMethodNonce:b}})}).then(function(S){var P=S.paymentMethod||_._lookupPaymentMethod,C=_._formatAuthResponse(P,S.threeDSecureInfo);return C.rawCardinalSDKVerificationData=v,u.sendEvent(_._client,"three-d-secure.verification-flow.upgrade-payment-method.succeeded"),Promise.resolve(C)}).catch(function(S){var P=new n({type:l.THREEDS_JWT_AUTHENTICATION_FAILED.type,code:l.THREEDS_JWT_AUTHENTICATION_FAILED.code,message:l.THREEDS_JWT_AUTHENTICATION_FAILED.message,details:{originalError:S}});return u.sendEvent(_._client,"three-d-secure.verification-flow.upgrade-payment-method.errored"),Promise.reject(P)})},E.prototype._createPaymentsValidatedCallback=function(){var v=this;return function(g,_){var b;if(v._useV1Fallback){u.sendEvent(v._createPromise,"three-d-secure.verification-flow.cardinal-sdk.payments-validated-callback-called-in-v1-fallback-flow");return}if(u.sendEvent(v._createPromise,"three-d-secure.verification-flow.cardinal-sdk.action-code."+g.ActionCode.toLowerCase()),!v._verifyCardPromisePlus){v.initiateV1Fallback("cardinal-sdk-setup-error.number-"+g.ErrorNumber);return}switch(g.ActionCode){case"SUCCESS":case"NOACTION":case"FAILURE":v._performJWTValidation(g,_).then(function(N){v._verifyCardPromisePlus.resolve(N)}).catch(function(N){v._verifyCardPromisePlus.reject(N)});break;case"ERROR":switch(u.sendEvent(v._createPromise,"three-d-secure.verification-flow.cardinal-sdk-error."+g.ErrorNumber),g.ErrorNumber){case 10001:case 10002:b=new n(l.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT);break;case 10003:case 10007:case 10009:b=new n(l.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT);break;case 10005:case 10006:b=new n(l.THREEDS_CARDINAL_SDK_BAD_CONFIG);break;case 10008:case 10010:b=new n(l.THREEDS_CARDINAL_SDK_BAD_JWT);break;case 10011:u.sendEvent(v._createPromise,"three-d-secure.verification-flow.canceled"),b=new n(l.THREEDS_CARDINAL_SDK_CANCELED);break;default:b=new n(l.THREEDS_CARDINAL_SDK_ERROR)}b.details={originalError:{code:g.ErrorNumber,description:g.ErrorDescription}},v._verifyCardPromisePlus.reject(b);break;default:}}},E.prototype._checkForVerifyCardError=function(v,g){return v.bin?t.prototype._checkForVerifyCardError.call(this,v,g):new n({type:l.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:l.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include a BIN."})},E.prototype._checkForFrameworkSpecificVerifyCardErrors=function(v,g){var _;return typeof v.onLookupComplete!="function"&&!g.ignoreOnLookupCompleteRequirement&&(_="an onLookupComplete function"),_},E.prototype._formatVerifyCardOptions=function(v){var g=t.prototype._formatVerifyCardOptions.call(this,v),_=g.additionalInformation||{};return _=this.transformBillingAddress(_,v.billingAddress),_=this.transformShippingAddress(_),v.onLookupComplete&&(g.onLookupComplete=r(v.onLookupComplete)),v.email&&(_.email=v.email),v.mobilePhoneNumber&&(_.mobilePhoneNumber=v.mobilePhoneNumber),g.additionalInformation=_,g},E.prototype._onLookupComplete=function(v,g){var _=this;return t.prototype._onLookupComplete.call(this,v).then(function(b){return new Promise(function(N,O){b.requiresUserAuthentication=!!(b.lookup&&b.lookup.acsUrl);function S(){N(b)}_._verifyCardPromisePlus.catch(O),g.onLookupComplete?g.onLookupComplete(b,S):_._emit(E.events.LOOKUP_COMPLETE,b,S)})})},E.prototype._presentChallenge=function(v){if(this._useV1Fallback||!v.lookup.transactionId){this._presentChallengeWithV1Fallback(v.lookup);return}window.Cardinal.continue("cca",{AcsUrl:v.lookup.acsUrl,Payload:v.lookup.pareq},{OrderDetails:{TransactionId:v.lookup.transactionId}})},E.prototype._formatLookupData=function(v){var g=this;return t.prototype._formatLookupData.call(this,v).then(function(_){if(_.additionalInfo=v.additionalInformation,v.accountType&&(_.accountType=v.accountType),v.challengeRequested&&(_.challengeRequested=v.challengeRequested),v.requestedExemptionType){if(!y.includes(v.requestedExemptionType))throw new n({code:l.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.code,type:l.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.type,message:"requestedExemptionType `"+v.requestedExemptionType+"` is not a valid exemption. The accepted values are: `"+y.join("`, `")+"`"});_.requestedExemptionType=v.requestedExemptionType}return v.dataOnlyRequested&&(_.dataOnlyRequested=v.dataOnlyRequested),v.exemptionRequested&&(_.exemptionRequested=v.exemptionRequested),v.bin&&(_.bin=v.bin),v.cardAdd!=null&&(_.cardAdd=v.cardAdd),v.cardAddChallengeRequested!=null&&(_.cardAdd=v.cardAddChallengeRequested),g.prepareLookup(_)})},E.prototype.cancelVerifyCard=function(v){var g=this;return t.prototype.cancelVerifyCard.call(this).then(function(_){return g._verifyCardPromisePlus&&(v=v||new n(l.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT),g._verifyCardPromisePlus.reject(v)),_})},E.prototype._removeSongbirdListeners=function(){this._cardinalEvents.forEach(function(v){window.Cardinal.off(v)}),this._cardinalEvents=[]},E.prototype.teardown=function(){return window.Cardinal&&this._removeSongbirdListeners(),t.prototype.teardown.call(this)};function A(v,g,_){g[_+"Line1"]=v.streetAddress,g[_+"Line2"]=v.extendedAddress,g[_+"Line3"]=v.line3,g[_+"City"]=v.locality,g[_+"State"]=v.region,g[_+"PostalCode"]=v.postalCode,g[_+"CountryCode"]=v.countryCodeAlpha2}d.exports=E},{"../../../lib/analytics":32,"../../../lib/assets":33,"../../../lib/assign":34,"../../../lib/braintree-error":36,"../../../lib/constants":37,"../../../lib/convert-to-braintree-error":39,"../../../lib/deferred":43,"../../../lib/enumerate":44,"../../shared/constants":61,"../../shared/errors":62,"./base":52,"@braintree/extended-promise":5}],59:[function(o,d,h){"use strict";var t=o("@braintree/wrap-promise"),a=o("../../lib/methods"),r=o("../../lib/convert-methods-to-error"),n=o("@braintree/event-emitter"),s=o("./frameworks");function u(i){var l=this,p=s[i.framework];n.call(this),this._framework=new p(i),this._framework.setUpEventListeners(function(){l._emit.apply(l,arguments)})}n.createChild(u),u.prototype.verifyCard=function(i){var l;return this.hasListener("lookup-complete")&&(l={ignoreOnLookupCompleteRequirement:!0}),this._framework.verifyCard(i,l)},u.prototype.initializeChallengeWithLookupResponse=function(i){return typeof i=="string"&&(i=JSON.parse(i)),this._framework.initializeChallengeWithLookupResponse(i)},u.prototype.prepareLookup=function(i){return this._framework.prepareLookup(i).then(function(l){return JSON.stringify(l)})},u.prototype.cancelVerifyCard=function(){return this._framework.cancelVerifyCard()},u.prototype.teardown=function(){var i=a(u.prototype).concat(a(n.prototype));return r(this,i),this._framework.teardown()},d.exports=t.wrapPrototype(u)},{"../../lib/convert-methods-to-error":38,"../../lib/methods":49,"./frameworks":55,"@braintree/event-emitter":4,"@braintree/wrap-promise":14}],60:[function(o,d,h){"use strict";var t=o("./external/three-d-secure"),a=o("../lib/is-https").isHTTPS,r=o("../lib/basic-component-verification"),n=o("../lib/create-deferred-client"),s=o("../lib/create-assets-url"),u=o("../lib/braintree-error"),i=o("../lib/analytics"),l=o("./shared/errors"),p="3.94.0",f=o("@braintree/wrap-promise");function T(I){var e="3D Secure",c=R(I);return r.verify({name:e,client:I.client,authorization:I.authorization}).then(function(){var m=s.create(I.authorization),y=n.create({authorization:I.authorization,client:I.client,debug:I.debug,assetsUrl:m,name:e}).then(function(A){var v,g,_=A.getConfiguration(),b=_.gatewayConfiguration;return I.client=A,b.threeDSecureEnabled||(v=l.THREEDS_NOT_ENABLED),_.authorizationType==="TOKENIZATION_KEY"&&(v=l.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY),g=b.environment==="production",g&&!a()&&(v=l.THREEDS_HTTPS_REQUIRED),c!=="legacy"&&!(b.threeDSecure&&b.threeDSecure.cardinalAuthenticationJWT)&&(i.sendEvent(I.client,"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT"),v=l.THREEDS_NOT_ENABLED_FOR_V2),v?Promise.reject(new u(v)):(i.sendEvent(I.client,"three-d-secure.initialized"),A)}),E=new t({client:I.client,assetsUrl:m,createPromise:y,loggingEnabled:I.loggingEnabled,cardinalSDKConfig:I.cardinalSDKConfig,framework:c});return I.client?y.then(function(){return E}):E})}function R(I){var e=String(I.version||"");if(!e||e==="1")throw new u({code:l.THREEDS_UNSUPPORTED_VERSION.code,type:l.THREEDS_UNSUPPORTED_VERSION.type,message:l.THREEDS_UNSUPPORTED_VERSION.message});switch(e){case"2":case"2-cardinal-modal":return"cardinal-modal";case"2-bootstrap3-modal":return"bootstrap3-modal";case"2-inline-iframe":return"inline-iframe";default:throw new u({code:l.THREEDS_UNRECOGNIZED_VERSION.code,type:l.THREEDS_UNRECOGNIZED_VERSION.type,message:"Version `"+I.version+"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version."})}}d.exports={create:f(T),VERSION:p}},{"../lib/analytics":32,"../lib/basic-component-verification":35,"../lib/braintree-error":36,"../lib/create-assets-url":40,"../lib/create-deferred-client":42,"../lib/is-https":46,"./external/three-d-secure":59,"./shared/errors":62,"@braintree/wrap-promise":14}],61:[function(o,d,h){"use strict";d.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding",CARDINAL_SCRIPT_SOURCE:{production:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",sandbox:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js"}}},{}],62:[function(o,d,h){"use strict";var t=o("../../lib/braintree-error");d.exports={THREEDS_NOT_ENABLED:{type:t.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_CAN_NOT_USE_TOKENIZATION_KEY:{type:t.types.MERCHANT,code:"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",message:"3D Secure can not use a tokenization key for authorization."},THREEDS_HTTPS_REQUIRED:{type:t.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_NOT_ENABLED_FOR_V2:{type:t.types.MERCHANT,code:"THREEDS_NOT_ENABLED_FOR_V2",message:"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/"},THREEDS_UNRECOGNIZED_VERSION:{type:t.types.MERCHANT,code:"THREEDS_UNRECOGNIZED_VERSION"},THREEDS_CARDINAL_SDK_SETUP_FAILED:{type:t.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_FAILED",message:"Something went wrong setting up Cardinal's Songbird.js library."},THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED:{type:t.types.NETWORK,code:"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED",message:"Cardinal's Songbird.js library could not be loaded."},THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT:{type:t.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT",message:"Cardinal's Songbird.js took too long to setup."},THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT:{type:t.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT",message:"Cardinal's API took too long to respond."},THREEDS_CARDINAL_SDK_BAD_CONFIG:{type:t.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_CONFIG",message:"JWT or other required field missing. Please check your setup configuration."},THREEDS_CARDINAL_SDK_BAD_JWT:{type:t.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_JWT",message:"Cardinal JWT missing or malformed. Please check your setup configuration."},THREEDS_CARDINAL_SDK_ERROR:{type:t.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_ERROR",message:"A general error has occurred with Cardinal. See description for more information."},THREEDS_CARDINAL_SDK_CANCELED:{type:t.types.CUSTOMER,code:"THREEDS_CARDINAL_SDK_CANCELED",message:"Canceled by user."},THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT:{type:t.types.MERCHANT,code:"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT",message:"3D Secure verfication canceled by merchant."},THREEDS_AUTHENTICATION_IN_PROGRESS:{type:t.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:t.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_JWT_AUTHENTICATION_FAILED:{type:t.types.UNKNOWN,code:"THREEDS_JWT_AUTHENTICATION_FAILED",message:"Something went wrong authenticating the JWT from Cardinal"},THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR:{type:t.types.MERCHANT,code:"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR",message:"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed"},THREEDS_LOOKUP_VALIDATION_ERROR:{type:t.types.CUSTOMER,code:"THREEDS_LOOKUP_VALIDATION_ERROR",message:"The data passed in `verifyCard` did not pass validation checks. See details for more info"},THREEDS_LOOKUP_ERROR:{type:t.types.UNKNOWN,code:"THREEDS_LOOKUP_ERROR",message:"Something went wrong during the 3D Secure lookup"},THREEDS_INLINE_IFRAME_DETAILS_INCORRECT:{type:t.types.UNKNOWN,code:"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT",message:"Something went wrong when attempting to add the authentication iframe to the page."},THREEDS_NO_VERIFICATION_PAYLOAD:{type:t.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:t.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."},THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED:{type:t.types.INTERNAL,code:"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED",message:"Method not implemented for this framework."},THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID:{type:t.types.MERCHANT,code:"THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID",message:"Requested Exemption Type is invalid."},THREEDS_UNSUPPORTED_VERSION:{type:t.types.MERCHANT,code:"THREEDS_UNSUPPORTED_VERSION",message:"3D Secure `1` is deprecated and no longer supported. See available versions at https://braintree.github.io/braintree-web/current/module-braintree-web_three-d-secure.html#.create"}}},{"../../lib/braintree-error":36}],63:[function(o,d,h){"use strict";var t=o("../../lib/enumerate");d.exports=t(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":44}]},{},[60])(60)})})(q,q.exports);var me=q.exports;const _e=W(me),{log:ve,error:Ee}=oe("bt.service.jsx"),ne={Client:ce,PayPalCheckout:le,USBankAccount:fe,DataCollector:he,ThreeDSecure:_e},Ce=async(k,j)=>{if(!Object.hasOwn(ne,k)){Ee("Braintree client SDK class for "+k+" not setup");return}return ne[k].create(j)},Se=async(k,j,F=[],M={})=>{const K="/api/braintree/sdk/interface",o=localStorage.getItem("authHeader")?{authorization:"Basic "+localStorage.getItem("authHeader")}:{};return(await ae(K,"POST",{resource:k,operation:j,args:F,params:M},o)).json()},Pe=async(k,j)=>{ve(k,j)};export{le as B,Ce as c,Pe as g,Se as s};
//# sourceMappingURL=bt.service-06a51c60.js.map
