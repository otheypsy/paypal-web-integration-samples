import"./client-fe790339.js";import{i as V}from"./index-dda91878.js";import{c as k,d as Y,l as H}from"./LoggerService-4412138b.js";var x={},W={get exports(){return x},set exports(U){x=U}};(function(U,D){(function(r){U.exports=r()})(function(){return function(){function r(c,u,n){function i(o,s){if(!u[o]){if(!c[o]){var a=typeof k=="function"&&k;if(!s&&a)return a(o,!0);if(e)return e(o,!0);var p=new Error("Cannot find module '"+o+"'");throw p.code="MODULE_NOT_FOUND",p}var h=u[o]={exports:{}};c[o][0].call(h.exports,function(f){var m=c[o][1][f];return i(m||f)},h,h.exports,r,c,u,n)}return u[o].exports}for(var e=typeof k=="function"&&k,t=0;t<n.length;t++)i(n[t]);return i}return r}()({1:[function(r,c,u){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(u,"__esModule",{value:!0}),u.PromiseGlobal=void 0;var i=n(r("promise-polyfill")),e=typeof Promise<"u"?Promise:i.default;u.PromiseGlobal=e},{"promise-polyfill":48}],2:[function(r,c,u){var n=r("./lib/promise"),i={};function e(t){var o,s=JSON.stringify(t);if(!t.forceScriptReload&&(o=i[s],o))return o;var a=document.createElement("script"),p=t.dataAttributes||{},h=t.container||document.head;return a.src=t.src,a.id=t.id||"",a.async=!0,t.crossorigin&&a.setAttribute("crossorigin",""+t.crossorigin),Object.keys(p).forEach(function(f){a.setAttribute("data-"+f,""+p[f])}),o=new n.PromiseGlobal(function(f,m){a.addEventListener("load",function(){f(a)}),a.addEventListener("error",function(){m(new Error(t.src+" failed to load."))}),a.addEventListener("abort",function(){m(new Error(t.src+" has aborted."))}),h.appendChild(a)}),i[s]=o,o}e.clearCache=function(){i={}},c.exports=e},{"./lib/promise":1}],3:[function(r,c,u){c.exports=r("./dist/load-script")},{"./dist/load-script":2}],4:[function(r,c,u){c.exports=function(i){return i=i||window.navigator.userAgent,/Android/i.test(i)}},{}],5:[function(r,c,u){var n=r("./is-edge"),i=r("./is-samsung"),e=r("./is-duckduckgo"),t=r("./is-opera"),o=r("./is-silk");c.exports=function(a){return a=a||window.navigator.userAgent,(a.indexOf("Chrome")!==-1||a.indexOf("CriOS")!==-1)&&!n(a)&&!i(a)&&!e(a)&&!t(a)&&!o(a)}},{"./is-duckduckgo":6,"./is-edge":7,"./is-opera":15,"./is-samsung":16,"./is-silk":17}],6:[function(r,c,u){c.exports=function(i){return i=i||window.navigator.userAgent,i.indexOf("DuckDuckGo/")!==-1}},{}],7:[function(r,c,u){c.exports=function(i){return i=i||window.navigator.userAgent,i.indexOf("Edge/")!==-1}},{}],8:[function(r,c,u){var n=r("./is-ie11");c.exports=function(e){return e=e||window.navigator.userAgent,e.indexOf("MSIE")!==-1||n(e)}},{"./is-ie11":9}],9:[function(r,c,u){c.exports=function(i){return i=i||window.navigator.userAgent,i.indexOf("Trident/7")!==-1}},{}],10:[function(r,c,u){c.exports=function(i){return i=i||window.navigator.userAgent,/FxiOS/i.test(i)}},{}],11:[function(r,c,u){var n=r("./is-ios");function i(e){return/\bGSA\b/.test(e)}c.exports=function(t){return t=t||window.navigator.userAgent,n(t)&&i(t)}},{"./is-ios":14}],12:[function(r,c,u){var n=r("./is-ios"),i=r("./is-ios-google-search-app");c.exports=function(t){return t=t||window.navigator.userAgent,n(t)?i(t)?!0:/.+AppleWebKit(?!.*Safari)/i.test(t):!1}},{"./is-ios":14,"./is-ios-google-search-app":11}],13:[function(r,c,u){var n=r("./is-ios-webview");c.exports=function(e,t){return t=typeof t<"u"?t:window.statusbar.visible,n(e)&&t}},{"./is-ios-webview":12}],14:[function(r,c,u){c.exports=function(i){return i=i||window.navigator.userAgent,/iPhone|iPod|iPad/i.test(i)}},{}],15:[function(r,c,u){c.exports=function(i){return i=i||window.navigator.userAgent,i.indexOf("OPR/")!==-1||i.indexOf("Opera/")!==-1||i.indexOf("OPT/")!==-1}},{}],16:[function(r,c,u){c.exports=function(i){return i=i||window.navigator.userAgent,/SamsungBrowser/i.test(i)}},{}],17:[function(r,c,u){c.exports=function(i){return i=i||window.navigator.userAgent,i.indexOf("Silk/")!==-1}},{}],18:[function(r,c,u){var n=48,i=r("./is-android"),e=r("./is-ios-firefox"),t=r("./is-ios-webview"),o=r("./is-chrome"),s=r("./is-samsung"),a=r("./is-duckduckgo");function p(T){T=T||window.navigator.userAgent;var I=T.match(/CriOS\/(\d+)\./);if(!I)return!1;var l=parseInt(I[1],10);return l<n}function h(T){return T=T||window.navigator.userAgent,T.indexOf("Opera Mini")>-1}function f(T){var I=/Version\/[\d.]+/i;return T=T||window.navigator.userAgent,i(T)?I.test(T)&&!h(T)&&!a(T):!1}function m(T){return!o(T)&&!s(T)&&/samsung/i.test(T)}c.exports=function(I){return I=I||window.navigator.userAgent,!(t(I)||e(I)||f(I)||h(I)||p(I)||m(I))}},{"./is-android":4,"./is-chrome":5,"./is-duckduckgo":6,"./is-ios-firefox":10,"./is-ios-webview":12,"./is-samsung":16}],19:[function(r,c,u){c.exports=r("./dist/is-ie")},{"./dist/is-ie":8}],20:[function(r,c,u){c.exports=r("./dist/is-ios-wkwebview")},{"./dist/is-ios-wkwebview":13}],21:[function(r,c,u){c.exports=r("./dist/is-ios")},{"./dist/is-ios":14}],22:[function(r,c,u){c.exports=r("./dist/supports-popups")},{"./dist/supports-popups":18}],23:[function(r,c,u){var n=typeof Promise<"u"?Promise:null,i=function(){function e(t){var o=this;if(typeof t=="function"){this._promise=new e.Promise(t);return}this._promise=new e.Promise(function(s,a){o._resolveFunction=s,o._rejectFunction=a}),t=t||{},this._onResolve=t.onResolve||e.defaultOnResolve,this._onReject=t.onReject||e.defaultOnReject,e.shouldCatchExceptions(t)&&this._promise.catch(function(){}),this._resetState()}return e.defaultOnResolve=function(t){return e.Promise.resolve(t)},e.defaultOnReject=function(t){return e.Promise.reject(t)},e.setPromise=function(t){e.Promise=t},e.shouldCatchExceptions=function(t){return t.hasOwnProperty("suppressUnhandledPromiseMessage")?!!t.suppressUnhandledPromiseMessage:!!e.suppressUnhandledPromiseMessage},e.all=function(t){return e.Promise.all(t)},e.allSettled=function(t){return e.Promise.allSettled(t)},e.race=function(t){return e.Promise.race(t)},e.reject=function(t){return e.Promise.reject(t)},e.resolve=function(t){return e.Promise.resolve(t)},e.prototype.then=function(){for(var t,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(t=this._promise).then.apply(t,o)},e.prototype.catch=function(){for(var t,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(t=this._promise).catch.apply(t,o)},e.prototype.resolve=function(t){var o=this;return this.isFulfilled?this:(this._setResolved(),e.Promise.resolve().then(function(){return o._onResolve(t)}).then(function(s){o._resolveFunction(s)}).catch(function(s){o._resetState(),o.reject(s)}),this)},e.prototype.reject=function(t){var o=this;return this.isFulfilled?this:(this._setRejected(),e.Promise.resolve().then(function(){return o._onReject(t)}).then(function(s){o._setResolved(),o._resolveFunction(s)}).catch(function(s){return o._rejectFunction(s)}),this)},e.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},e.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},e.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},e.Promise=n,e}();c.exports=i},{}],24:[function(r,c,u){var n=r("./lib/set-attributes"),i=r("./lib/default-attributes"),e=r("./lib/assign");c.exports=function(o){o===void 0&&(o={});var s=document.createElement("iframe"),a=e.assign({},i.defaultAttributes,o);return a.style&&typeof a.style!="string"&&(e.assign(s.style,a.style),delete a.style),n.setAttributes(s,a),s.getAttribute("id")||(s.id=s.name),s}},{"./lib/assign":25,"./lib/default-attributes":26,"./lib/set-attributes":27}],25:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.assign=void 0;function n(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(o){typeof o=="object"&&Object.keys(o).forEach(function(s){i[s]=o[s]})}),i}u.assign=n},{}],26:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.defaultAttributes=void 0,u.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],27:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.setAttributes=void 0;function n(i,e){for(var t in e)if(e.hasOwnProperty(t)){var o=e[t];o==null?i.removeAttribute(t):i.setAttribute(t,o)}}u.setAttributes=n},{}],28:[function(r,c,u){function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var e=Math.random()*16|0,t=i==="x"?e:e&3|8;return t.toString(16)})}c.exports=n},{}],29:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0});function n(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];setTimeout(function(){try{i.apply(void 0,e)}catch(o){console.log("Error in callback function"),console.log(o)}},1)}}u.deferred=n},{}],30:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0});function n(i){var e=!1;return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e||(e=!0,i.apply(void 0,t))}}u.once=n},{}],31:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0});function n(i,e){if(!e)return i;i.then(function(t){return e(null,t)}).catch(function(t){return e(t)})}u.promiseOrCallback=n},{}],32:[function(r,c,u){var n=r("./lib/deferred"),i=r("./lib/once"),e=r("./lib/promise-or-callback");function t(o){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var p,h=s[s.length-1];return typeof h=="function"&&(p=s.pop(),p=i.once(n.deferred(p))),e.promiseOrCallback(o.apply(this,s),p)}}t.wrapPrototype=function(o,s){s===void 0&&(s={});var a=s.ignoreMethods||[],p=s.transformPrivateMethods===!0,h=Object.getOwnPropertyNames(o.prototype).filter(function(f){var m,T=f!=="constructor"&&typeof o.prototype[f]=="function",I=a.indexOf(f)===-1;return p?m=!0:m=f.charAt(0)!=="_",T&&m&&I});return h.forEach(function(f){var m=o.prototype[f];o.prototype[f]=t(m)}),o},c.exports=t},{"./lib/deferred":29,"./lib/once":30,"./lib/promise-or-callback":31}],33:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.Framebus=void 0;var n=r("./lib/is-not-string"),i=r("./lib/subscription-args-invalid"),e=r("./lib/broadcast"),t=r("./lib/package-payload"),o=r("./lib/send-message"),s=r("./lib/constants"),a=typeof window<"u"&&window.Promise,p=function(){function h(f){f===void 0&&(f={}),this.origin=f.origin||"*",this.channel=f.channel||"",this.verifyDomain=f.verifyDomain,this.targetFrames=f.targetFrames||[],this.limitBroadcastToFramesArray=!!f.targetFrames,this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=!!(this.verifyDomain||this.limitBroadcastToFramesArray)}return h.setPromise=function(f){h.Promise=f},h.target=function(f){return new h(f)},h.prototype.addTargetFrame=function(f){this.limitBroadcastToFramesArray&&this.targetFrames.push(f)},h.prototype.include=function(f){return f==null||f.Window==null||f.constructor!==f.Window?!1:(s.childWindows.push(f),!0)},h.prototype.target=function(f){return h.target(f)},h.prototype.emit=function(f,m,T){if(this.isDestroyed)return!1;var I=this.origin;if(f=this.namespaceEvent(f),(0,n.isntString)(f)||(0,n.isntString)(I))return!1;typeof m=="function"&&(T=m,m=void 0);var l=(0,t.packagePayload)(f,I,m,T);return l?(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(_){(0,o.sendMessage)(_,l,I)}):(0,e.broadcast)(l,{origin:I,frame:window.top||window.self}),!0):!1},h.prototype.emitAsPromise=function(f,m){var T=this;return new h.Promise(function(I,l){var _=T.emit(f,m,function(A){I(A)});_||l(new Error('Listener not added for "'.concat(f,'"')))})},h.prototype.on=function(f,m){if(this.isDestroyed)return!1;var T=this,I=this.origin,l=m;return f=this.namespaceEvent(f),(0,i.subscriptionArgsInvalid)(f,l,I)?!1:(this.hasAdditionalChecksForOnListeners&&(l=function(){for(var _=[],A=0;A<arguments.length;A++)_[A]=arguments[A];T.passesVerifyDomainCheck(this&&this.origin)&&T.hasMatchingTargetFrame(this&&this.source)&&m.apply(void 0,_)}),this.listeners.push({eventName:f,handler:l,originalHandler:m}),s.subscribers[I]=s.subscribers[I]||{},s.subscribers[I][f]=s.subscribers[I][f]||[],s.subscribers[I][f].push(l),!0)},h.prototype.off=function(f,m){var T=m;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var I=0;I<this.listeners.length;I++){var l=this.listeners[I];l.originalHandler===m&&(T=l.handler)}f=this.namespaceEvent(f);var _=this.origin;if((0,i.subscriptionArgsInvalid)(f,T,_))return!1;var A=s.subscribers[_]&&s.subscribers[_][f];if(!A)return!1;for(var I=0;I<A.length;I++)if(A[I]===T)return A.splice(I,1),!0;return!1},h.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var f=0;f<this.listeners.length;f++){var m=this.listeners[f];this.off(m.eventName,m.handler)}this.listeners.length=0}},h.prototype.passesVerifyDomainCheck=function(f){return this.verifyDomain?this.checkOrigin(f):!0},h.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(f){return f instanceof HTMLIFrameElement?f.contentWindow:f}).filter(function(f){return f}):[]},h.prototype.hasMatchingTargetFrame=function(f){if(!this.limitBroadcastToFramesArray)return!0;var m=this.targetFramesAsWindows().find(function(T){return T===f});return!!m},h.prototype.checkOrigin=function(f){var m,T=document.createElement("a");T.href=location.href,T.protocol==="https:"?m=T.host.replace(/:443$/,""):T.protocol==="http:"?m=T.host.replace(/:80$/,""):m=T.host;var I=T.protocol+"//"+m;return I===f?!0:this.verifyDomain?this.verifyDomain(f):!0},h.prototype.namespaceEvent=function(f){return this.channel?"".concat(this.channel,":").concat(f):f},h.Promise=a,h}();u.Framebus=p},{"./lib/broadcast":37,"./lib/constants":38,"./lib/is-not-string":41,"./lib/package-payload":43,"./lib/send-message":44,"./lib/subscription-args-invalid":46}],34:[function(r,c,u){var n=r("./lib/attach"),i=r("./framebus");(0,n.attach)(),c.exports=i.Framebus},{"./framebus":33,"./lib/attach":35}],35:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.detach=u.attach=void 0;var n=r("./message"),i=!1;function e(){i||typeof window>"u"||(i=!0,window.addEventListener("message",n.onmessage,!1))}u.attach=e;function t(){i=!1,window.removeEventListener("message",n.onmessage,!1)}u.detach=t},{"./message":42}],36:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.broadcastToChildWindows=void 0;var n=r("./broadcast"),i=r("./constants");function e(t,o,s){for(var a=i.childWindows.length-1;a>=0;a--){var p=i.childWindows[a];p.closed?i.childWindows.splice(a,1):s!==p&&(0,n.broadcast)(t,{origin:o,frame:p.top})}}u.broadcastToChildWindows=e},{"./broadcast":37,"./constants":38}],37:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.broadcast=void 0;var n=r("./has-opener");function i(e,t){var o=0,s,a=t.origin,p=t.frame;try{for(p.postMessage(e,a),(0,n.hasOpener)(p)&&p.opener.top!==window.top&&i(e,{origin:a,frame:p.opener.top});s=p.frames[o];)i(e,{origin:a,frame:s}),o++}catch{}}u.broadcast=i},{"./has-opener":40}],38:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.subscribers=u.childWindows=u.prefix=void 0,u.prefix="/*framebus*/",u.childWindows=[],u.subscribers={}},{}],39:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.dispatch=void 0;var n=r("./constants");function i(e,t,o,s,a){if(n.subscribers[e]&&n.subscribers[e][t]){var p=[];o&&p.push(o),s&&p.push(s);for(var h=0;h<n.subscribers[e][t].length;h++)n.subscribers[e][t][h].apply(a,p)}}u.dispatch=i},{"./constants":38}],40:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.hasOpener=void 0;function n(i){return!(i.top!==i||i.opener==null||i.opener===i||i.opener.closed===!0)}u.hasOpener=n},{}],41:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.isntString=void 0;function n(i){return typeof i!="string"}u.isntString=n},{}],42:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.onmessage=void 0;var n=r("./is-not-string"),i=r("./unpack-payload"),e=r("./dispatch"),t=r("./broadcast-to-child-windows");function o(s){if(!(0,n.isntString)(s.data)){var a=(0,i.unpackPayload)(s);if(a){var p=a.eventData,h=a.reply;(0,e.dispatch)("*",a.event,p,h,s),(0,e.dispatch)(s.origin,a.event,p,h,s),(0,t.broadcastToChildWindows)(s.data,a.origin,s.source)}}}u.onmessage=o},{"./broadcast-to-child-windows":36,"./dispatch":39,"./is-not-string":41,"./unpack-payload":47}],43:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.packagePayload=void 0;var n=r("./subscribe-replier"),i=r("./constants");function e(t,o,s,a){var p,h={event:t,origin:o};typeof a=="function"&&(h.reply=(0,n.subscribeReplier)(a,o)),h.eventData=s;try{p=i.prefix+JSON.stringify(h)}catch(f){throw new Error("Could not stringify event: ".concat(f.message))}return p}u.packagePayload=e},{"./constants":38,"./subscribe-replier":45}],44:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.sendMessage=void 0;function n(i,e,t){try{i.postMessage(e,t)}catch{}}u.sendMessage=n},{}],45:[function(r,c,u){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(u,"__esModule",{value:!0}),u.subscribeReplier=void 0;var i=r("../framebus"),e=n(r("@braintree/uuid"));function t(o,s){var a=(0,e.default)();function p(h,f){o(h,f),i.Framebus.target({origin:s}).off(a,p)}return i.Framebus.target({origin:s}).on(a,p),a}u.subscribeReplier=t},{"../framebus":33,"@braintree/uuid":28}],46:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.subscriptionArgsInvalid=void 0;var n=r("./is-not-string");function i(e,t,o){return(0,n.isntString)(e)||typeof t!="function"?!0:(0,n.isntString)(o)}u.subscriptionArgsInvalid=i},{"./is-not-string":41}],47:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.unpackPayload=void 0;var n=r("./constants"),i=r("./package-payload");function e(t){var o;if(t.data.slice(0,n.prefix.length)!==n.prefix)return!1;try{o=JSON.parse(t.data.slice(n.prefix.length))}catch{return!1}if(o.reply){var s=t.origin,a=t.source,p=o.reply;o.reply=function(f){if(a){var m=(0,i.packagePayload)(p,s,f);m&&a.postMessage(m,s)}}}return o}u.unpackPayload=e},{"./constants":38,"./package-payload":43}],48:[function(r,c,u){function n(l){var _=this.constructor;return this.then(function(A){return _.resolve(l()).then(function(){return A})},function(A){return _.resolve(l()).then(function(){return _.reject(A)})})}function i(l){var _=this;return new _(function(A,P){if(!(l&&typeof l.length<"u"))return P(new TypeError(typeof l+" "+l+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var N=Array.prototype.slice.call(l);if(N.length===0)return A([]);var b=N.length;function E(g,d){if(d&&(typeof d=="object"||typeof d=="function")){var y=d.then;if(typeof y=="function"){y.call(d,function(v){E(g,v)},function(v){N[g]={status:"rejected",reason:v},--b===0&&A(N)});return}}N[g]={status:"fulfilled",value:d},--b===0&&A(N)}for(var O=0;O<N.length;O++)E(O,N[O])})}var e=setTimeout;function t(l){return!!(l&&typeof l.length<"u")}function o(){}function s(l,_){return function(){l.apply(_,arguments)}}function a(l){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if(typeof l!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],I(l,this)}function p(l,_){for(;l._state===3;)l=l._value;if(l._state===0){l._deferreds.push(_);return}l._handled=!0,a._immediateFn(function(){var A=l._state===1?_.onFulfilled:_.onRejected;if(A===null){(l._state===1?h:f)(_.promise,l._value);return}var P;try{P=A(l._value)}catch(N){f(_.promise,N);return}h(_.promise,P)})}function h(l,_){try{if(_===l)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var A=_.then;if(_ instanceof a){l._state=3,l._value=_,m(l);return}else if(typeof A=="function"){I(s(A,_),l);return}}l._state=1,l._value=_,m(l)}catch(P){f(l,P)}}function f(l,_){l._state=2,l._value=_,m(l)}function m(l){l._state===2&&l._deferreds.length===0&&a._immediateFn(function(){l._handled||a._unhandledRejectionFn(l._value)});for(var _=0,A=l._deferreds.length;_<A;_++)p(l,l._deferreds[_]);l._deferreds=null}function T(l,_,A){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof _=="function"?_:null,this.promise=A}function I(l,_){var A=!1;try{l(function(P){A||(A=!0,h(_,P))},function(P){A||(A=!0,f(_,P))})}catch(P){if(A)return;A=!0,f(_,P)}}a.prototype.catch=function(l){return this.then(null,l)},a.prototype.then=function(l,_){var A=new this.constructor(o);return p(this,new T(l,_,A)),A},a.prototype.finally=n,a.all=function(l){return new a(function(_,A){if(!t(l))return A(new TypeError("Promise.all accepts an array"));var P=Array.prototype.slice.call(l);if(P.length===0)return _([]);var N=P.length;function b(O,g){try{if(g&&(typeof g=="object"||typeof g=="function")){var d=g.then;if(typeof d=="function"){d.call(g,function(y){b(O,y)},A);return}}P[O]=g,--N===0&&_(P)}catch(y){A(y)}}for(var E=0;E<P.length;E++)b(E,P[E])})},a.allSettled=i,a.resolve=function(l){return l&&typeof l=="object"&&l.constructor===a?l:new a(function(_){_(l)})},a.reject=function(l){return new a(function(_,A){A(l)})},a.race=function(l){return new a(function(_,A){if(!t(l))return A(new TypeError("Promise.race accepts an array"));for(var P=0,N=l.length;P<N;P++)a.resolve(l[P]).then(_,A)})},a._immediateFn=typeof setImmediate=="function"&&function(l){setImmediate(l)}||function(l){e(l,0)},a._unhandledRejectionFn=function(_){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",_)},c.exports=a},{}],49:[function(r,c,u){var n=r("./create-authorization-data"),i=r("./json-clone"),e=r("./constants");function t(o,s){var a,p=s?i(s):{},h=n(o.authorization).attrs,f=i(o.analyticsMetadata);p.braintreeLibraryVersion=e.BRAINTREE_LIBRARY_VERSION;for(a in p._meta)p._meta.hasOwnProperty(a)&&(f[a]=p._meta[a]);return p._meta=f,h.tokenizationKey?p.tokenizationKey=h.tokenizationKey:p.authorizationFingerprint=h.authorizationFingerprint,p}c.exports=t},{"./constants":55,"./create-authorization-data":59,"./json-clone":75}],50:[function(r,c,u){var n=r("./promise"),i=r("./constants"),e=r("./add-metadata");function t(o,s,a){var p=Date.now();return n.resolve(o).then(function(h){var f=Date.now(),m=h.getConfiguration(),T=h._request,I=m.gatewayConfiguration.analytics.url,l={analytics:[{kind:i.ANALYTICS_PREFIX+s,isAsync:Math.floor(f/1e3)!==Math.floor(p/1e3),timestamp:p}]};T({url:I,method:"post",data:e(m,l),timeout:i.ANALYTICS_REQUEST_TIMEOUT_MS},a)}).catch(function(h){a&&a(h)})}c.exports={sendEvent:t}},{"./add-metadata":49,"./constants":55,"./promise":77}],51:[function(r,c,u){var n=r("@braintree/asset-loader/load-script");c.exports={loadScript:n}},{"@braintree/asset-loader/load-script":3}],52:[function(r,c,u){var n=typeof Object.assign=="function"?Object.assign:i;function i(e){var t,o,s;for(t=1;t<arguments.length;t++){o=arguments[t];for(s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e}c.exports={assign:n,_assign:i}},{}],53:[function(r,c,u){var n=r("./braintree-error"),i=r("./promise"),e=r("./errors"),t="3.92.0";function o(s){var a,p,h;return s?(h=s.name,a=s.client,p=s.authorization,!a&&!p?i.reject(new n({type:e.INSTANTIATION_OPTION_REQUIRED.type,code:e.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+h+"."})):!p&&a.getVersion()!==t?i.reject(new n({type:e.INCOMPATIBLE_VERSIONS.type,code:e.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+a.getVersion()+") and "+h+" (version "+t+") components must be from the same SDK version."})):i.resolve()):i.reject(new n({type:e.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:e.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}c.exports={verify:o}},{"./braintree-error":54,"./errors":62,"./promise":77}],54:[function(r,c,u){var n=r("./enumerate");function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=n(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(e){return e instanceof i&&e.details&&e.details.originalError?i.findRootError(e.details.originalError):e},c.exports=i},{"./enumerate":61}],55:[function(r,c,u){var n="3.92.0",i="web",e={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},t={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},o={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};c.exports={ANALYTICS_PREFIX:i+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:t,CLIENT_API_URLS:e,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:o,INTEGRATION_TIMEOUT_MS:6e4,VERSION:n,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/"+i+"/"+n}},{}],56:[function(r,c,u){var n=r("./braintree-error"),i=r("./errors");c.exports=function(e,t){t.forEach(function(o){e[o]=function(){throw new n({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:o+" cannot be called after teardown."})}})}},{"./braintree-error":54,"./errors":62}],57:[function(r,c,u){var n=r("./braintree-error");function i(e,t){return e instanceof n?e:new n({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}c.exports=i},{"./braintree-error":54}],58:[function(r,c,u){var n=r("./constants").ASSETS_URLS;function i(e){return n.production}c.exports={create:i}},{"./constants":55}],59:[function(r,c,u){var n=r("../lib/vendor/polyfill").atob,i=r("../lib/constants").CLIENT_API_URLS;function e(s){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(s)}function t(s){var a=s.split("_"),p=a[0],h=a.slice(2).join("_");return{merchantId:h,environment:p}}function o(s){var a,p,h={attrs:{},configUrl:""};return e(s)?(p=t(s),h.environment=p.environment,h.attrs.tokenizationKey=s,h.configUrl=i[p.environment]+"/merchants/"+p.merchantId+"/client_api/v1/configuration"):(a=JSON.parse(n(s)),h.environment=a.environment,h.attrs.authorizationFingerprint=a.authorizationFingerprint,h.configUrl=a.configUrl,h.graphQL=a.graphQL),h}c.exports=o},{"../lib/constants":55,"../lib/vendor/polyfill":80}],60:[function(r,c,u){var n=r("./braintree-error"),i=r("./promise"),e=r("./assets"),t=r("./errors"),o="3.92.0";function s(a){var p=i.resolve();return a.client?i.resolve(a.client):(window.braintree&&window.braintree.client||(p=e.loadScript({src:a.assetsUrl+"/web/"+o+"/js/client.min.js"}).catch(function(h){return i.reject(new n({type:t.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:t.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:t.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:h}}))})),p.then(function(){return window.braintree.client.VERSION!==o?i.reject(new n({type:t.INCOMPATIBLE_VERSIONS.type,code:t.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+a.name+" (version "+o+") components must be from the same SDK version."})):window.braintree.client.create({authorization:a.authorization,debug:a.debug})}))}c.exports={create:s}},{"./assets":51,"./braintree-error":54,"./errors":62,"./promise":77}],61:[function(r,c,u){function n(i,e){return e=e??"",i.reduce(function(t,o){return t[o]=e+o,t},{})}c.exports=n},{}],62:[function(r,c,u){var n=r("./braintree-error");c.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:n.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:n.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:n.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:n.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":54}],63:[function(r,c,u){var n=r("./strategies/popup"),i=r("./strategies/popup-bridge"),e=r("./strategies/modal"),t=r("framebus"),o=r("../shared/events"),s=r("../shared/errors"),a=r("../shared/constants"),p=r("@braintree/uuid"),h=r("@braintree/iframer"),f=r("../../braintree-error"),m=r("../shared/browser-detection"),T=r("../../is-https"),I=r("./../../assign").assign,l=r("../../constants").BUS_CONFIGURATION_REQUEST_EVENT,_=["name","dispatchFrameUrl","openFrameUrl"];function A(){}function P(b){if(!b)throw new Error("Valid configuration is required");if(_.forEach(function(E){if(!b.hasOwnProperty(E))throw new Error("A valid frame "+E+" must be provided")}),!/^[\w_]+$/.test(b.name))throw new Error("A valid frame name must be provided")}function N(b){P(b),this._serviceId=p().replace(/-/g,""),this._options={name:b.name+"_"+this._serviceId,dispatchFrameUrl:b.dispatchFrameUrl,openFrameUrl:b.openFrameUrl,height:b.height,width:b.width,top:b.top,left:b.left},this.state=b.state||{},this._bus=new t({channel:this._serviceId}),this._setBusEvents()}N.prototype.initialize=function(b){var E=function(){b(),this._bus.off(o.DISPATCH_FRAME_READY,E)}.bind(this);this._bus.on(o.DISPATCH_FRAME_READY,E),this._writeDispatchFrame()},N.prototype._writeDispatchFrame=function(){var b=a.DISPATCH_FRAME_NAME+"_"+this._serviceId,E=this._options.dispatchFrameUrl;this._dispatchFrame=h({"aria-hidden":!0,name:b,title:b,src:E,class:a.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},N.prototype._setBusEvents=function(){this._bus.on(o.DISPATCH_FRAME_REPORT,function(b,E){this._onCompleteCallback&&this._onCompleteCallback.call(null,b.err,b.payload),this._frame.close(),this._onCompleteCallback=null,E&&E()}.bind(this)),this._bus.on(l,function(b){b(this.state)}.bind(this))},N.prototype.open=function(b,E){var O;if(b=b||{},this._frame=this._getFrameForEnvironment(b),this._frame.initialize(E),!(this._frame instanceof i)){if(I(this.state,b.state),this._onCompleteCallback=E,this._frame.open(),this.isFrameClosed()){this._cleanupFrame(),E&&(m.isIE()&&!T.isHTTPS()?O=new f(s.FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG):O=new f(s.FRAME_SERVICE_FRAME_OPEN_FAILED),E(O));return}this._pollForPopupClose()}},N.prototype.redirect=function(b){this._frame&&!this.isFrameClosed()&&this._frame.redirect(b)},N.prototype.close=function(){this.isFrameClosed()||this._frame.close()},N.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},N.prototype.createHandler=function(b){return b=b||{},{close:function(){b.beforeClose&&b.beforeClose(),this.close()}.bind(this),focus:function(){b.beforeFocus&&b.beforeFocus(),this.focus()}.bind(this)}},N.prototype.createNoopHandler=function(){return{close:A,focus:A}},N.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},N.prototype.isFrameClosed=function(){return this._frame==null||this._frame.isClosed()},N.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},N.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new f(s.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),a.POPUP_POLL_INTERVAL),this._popupInterval},N.prototype._getFrameForEnvironment=function(b){var E=m.supportsPopups(),O=!!window.popupBridge,g=I({},this._options,b);return O?new i(g):E?new n(g):new e(g)},c.exports=N},{"../../braintree-error":54,"../../constants":55,"../../is-https":74,"../shared/browser-detection":70,"../shared/constants":71,"../shared/errors":72,"../shared/events":73,"./../../assign":52,"./strategies/modal":65,"./strategies/popup":68,"./strategies/popup-bridge":66,"@braintree/iframer":24,"@braintree/uuid":28,framebus:34}],64:[function(r,c,u){var n=r("./frame-service");c.exports={create:function(e,t){var o=new n(e);o.initialize(function(){t(o)})}}},{"./frame-service":63}],65:[function(r,c,u){var n=r("@braintree/iframer"),i=r("../../../assign").assign,e=r("../../shared/browser-detection"),t={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function o(){}function s(a){this._closed=null,this._frame=null,this._options=a||{},this._container=this._options.container||document.body}s.prototype.initialize=o,s.prototype.open=function(){var a={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:i({},t),title:"Lightbox Frame"};e.isIos()?(e.isIosWKWebview()&&(this._lockScrolling(),a.style={}),this._el=document.createElement("div"),i(this._el.style,t,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=n(a),this._el.appendChild(this._frame)):this._el=this._frame=n(a),this._closed=!1,this._container.appendChild(this._el)},s.prototype.focus=o,s.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,e.isIosWKWebview()&&this._unlockScrolling()},s.prototype.isClosed=function(){return!!this._closed},s.prototype.redirect=function(a){this._frame.src=a},s.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,window.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},s.prototype._lockScrolling=function(){var a=document.documentElement;this._savedBodyProperties={left:(window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),top:(window.pageYOffset||a.scrollTop)-(a.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",window.scrollTo(0,0)},c.exports=s},{"../../../assign":52,"../../shared/browser-detection":70,"@braintree/iframer":24}],66:[function(r,c,u){var n=r("../../../braintree-error"),i=r("../../shared/errors");function e(){}function t(o){this._closed=null,this._options=o}t.prototype.initialize=function(o){var s=this;window.popupBridge.onComplete=function(a,p){var h=!p&&!a;if(s._closed=!0,a||h){o(new n(i.FRAME_SERVICE_FRAME_CLOSED));return}o(null,p)}},t.prototype.open=function(o){var s;o=o||{},s=o.openFrameUrl||this._options.openFrameUrl,this._closed=!1,window.popupBridge.open(s)},t.prototype.focus=e,t.prototype.close=e,t.prototype.isClosed=function(){return!!this._closed},t.prototype.redirect=function(o){this.open({openFrameUrl:o})},c.exports=t},{"../../../braintree-error":54,"../../shared/errors":72}],67:[function(r,c,u){var n=r("../../../shared/constants"),i=r("./position");function e(t,o,s){return typeof o<"u"?o:i[t](s)}c.exports=function(o){var s=o.height||n.DEFAULT_POPUP_HEIGHT,a=o.width||n.DEFAULT_POPUP_WIDTH,p=e("top",o.top,s),h=e("left",o.left,a);return[n.POPUP_BASE_OPTIONS,"height="+s,"width="+a,"top="+p,"left="+h].join(",")}},{"../../../shared/constants":71,"./position":69}],68:[function(r,c,u){var n=r("./compose-options");function i(){}function e(t){this._frame=null,this._options=t||{}}e.prototype.initialize=i,e.prototype.open=function(){this._frame=window.open(this._options.openFrameUrl,this._options.name,n(this._options))},e.prototype.focus=function(){this._frame.focus()},e.prototype.close=function(){this._frame.closed||this._frame.close()},e.prototype.isClosed=function(){return!this._frame||!!this._frame.closed},e.prototype.redirect=function(t){this._frame.location.href=t},c.exports=e},{"./compose-options":67}],69:[function(r,c,u){function n(t){var o=window.outerHeight||document.documentElement.clientHeight,s=window.screenY==null?window.screenTop:window.screenY;return e(o,t,s)}function i(t){var o=window.outerWidth||document.documentElement.clientWidth,s=window.screenX==null?window.screenLeft:window.screenX;return e(o,t,s)}function e(t,o,s){return(t-o)/2+s}c.exports={top:n,left:i,center:e}},{}],70:[function(r,c,u){c.exports={isIos:r("@braintree/browser-detection/is-ios"),isIosWKWebview:r("@braintree/browser-detection/is-ios-wkwebview"),isIE:r("@braintree/browser-detection/is-ie"),supportsPopups:r("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ie":19,"@braintree/browser-detection/is-ios":21,"@braintree/browser-detection/is-ios-wkwebview":20,"@braintree/browser-detection/supports-popups":22}],71:[function(r,c,u){c.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],72:[function(r,c,u){var n=r("../../braintree-error");c.exports={FRAME_SERVICE_FRAME_CLOSED:{type:n.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:n.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."},FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG:{type:n.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG",message:"Could not open frame. This may be due to a bug in IE browsers when attempting to open an HTTPS page from a HTTP page. https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11324352/"}}},{"../../braintree-error":54}],73:[function(r,c,u){var n=r("../../enumerate");c.exports=n(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":61}],74:[function(r,c,u){function n(i){return i=i||window.location.protocol,i==="https:"}c.exports={isHTTPS:n}},{}],75:[function(r,c,u){c.exports=function(n){return JSON.parse(JSON.stringify(n))}},{}],76:[function(r,c,u){c.exports=function(n){return Object.keys(n).filter(function(i){return typeof n[i]=="function"})}},{}],77:[function(r,c,u){var n=r("promise-polyfill"),i=r("@braintree/extended-promise"),e=typeof Promise<"u"?Promise:n;i.suppressUnhandledPromiseMessage=!0,i.setPromise(e),c.exports=e},{"@braintree/extended-promise":23,"promise-polyfill":48}],78:[function(r,c,u){function n(a){var p;for(p in a)if(a.hasOwnProperty(p))return!0;return!1}function i(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.toString.call(a)==="[object Array]"||!1}function e(a){return a=a||window.location.href,/\?/.test(a)}function t(a){var p,h;return a=a||window.location.href,e(a)?(p=a.split("?")[1]||"",p=p.replace(/#.*$/,"").split("&"),h=p.reduce(function(f,m){var T=m.split("="),I=decodeURIComponent(T[0]),l=decodeURIComponent(T[1]);return f[I]=l,f},{}),h):{}}function o(a,p){var h,f,m,T=[];for(m in a)a.hasOwnProperty(m)&&(f=a[m],p?i(a)?h=p+"[]":h=p+"["+m+"]":h=m,typeof f=="object"?T.push(o(f,h)):T.push(encodeURIComponent(h)+"="+encodeURIComponent(f)));return T.join("&")}function s(a,p){return a=a||"",p!=null&&typeof p=="object"&&n(p)&&(a+=a.indexOf("?")===-1?"?":"",a+=a.indexOf("=")!==-1?"&":"",a+=o(p)),a}c.exports={parse:t,stringify:o,queryify:s,hasQueryParams:e}},{}],79:[function(r,c,u){function n(i){return i?"":".min"}c.exports=n},{}],80:[function(r,c,u){var n=typeof atob=="function"?atob:i;function i(e){var t,o,s,a,p,h,f,m,T=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";if(!T.test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");m=0;do a=I.indexOf(e.charAt(m++)),p=I.indexOf(e.charAt(m++)),h=I.indexOf(e.charAt(m++)),f=I.indexOf(e.charAt(m++)),t=(a&63)<<2|p>>4&3,o=(p&15)<<4|h>>2&15,s=(h&3)<<6|f&63,l+=String.fromCharCode(t)+(o?String.fromCharCode(o):"")+(s?String.fromCharCode(s):"");while(m<e.length);return l}c.exports={atob:function(e){return n.call(window,e)},_atob:i}},{}],81:[function(r,c,u){var n=r("../lib/braintree-error");c.exports={PAYPAL_NOT_ENABLED:{type:n.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:n.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developer.paypal.com/braintree/docs/guides/paypal/testing-go-live#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:n.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:n.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED:{type:n.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED"},PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED:{type:n.types.NETWORK,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED",message:"Something went wrong when setting up the checkout workflow."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED:{type:n.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED:{type:n.types.CUSTOMER,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS:{type:n.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS",message:"Vault initiated checkout already in progress."},PAYPAL_INVALID_PAYMENT_OPTION:{type:n.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."},PAYPAL_MISSING_REQUIRED_OPTION:{type:n.types.MERCHANT,code:"PAYPAL_MISSING_REQUIRED_OPTION",message:"Missing required option."}}},{"../lib/braintree-error":54}],82:[function(r,c,u){var n=r("../lib/basic-component-verification"),i=r("@braintree/wrap-promise"),e=r("./paypal-checkout"),t="3.92.0";function o(a){var p="PayPal Checkout";return n.verify({name:p,client:a.client,authorization:a.authorization}).then(function(){var h=new e(a);return h._initialize(a)})}function s(){return!0}c.exports={create:i(o),isSupported:s,VERSION:t}},{"../lib/basic-component-verification":53,"./paypal-checkout":83,"@braintree/wrap-promise":32}],83:[function(r,c,u){var n=r("../lib/analytics"),i=r("../lib/assign").assign,e=r("../lib/create-deferred-client"),t=r("../lib/create-assets-url"),o=r("../lib/promise"),s=r("@braintree/extended-promise"),a=r("@braintree/wrap-promise"),p=r("../lib/braintree-error"),h=r("../lib/convert-to-braintree-error"),f=r("./errors"),m=r("../paypal/shared/constants"),T=r("../lib/frame-service/external"),I=r("../lib/create-authorization-data"),l=r("../lib/methods"),_=r("../lib/use-min"),A=r("../lib/convert-methods-to-error"),P=r("../lib/querystring"),N="3.92.0",b=r("../lib/constants").INTEGRATION_TIMEOUT_MS,E=["amount","currency","vaultInitiatedCheckoutPaymentMethodToken"],O="https://www.{ENV}paypal.com/smart/buttons/preload";function g(d){this._merchantAccountId=d.merchantAccountId,this._autoSetDataUserIdToken=!!d.autoSetDataUserIdToken}g.prototype._initialize=function(d){var y;return d.client?(y=d.client.getConfiguration(),this._authorizationInformation={fingerprint:y.authorizationFingerprint,environment:y.gatewayConfiguration.environment}):(y=I(d.authorization),this._authorizationInformation={fingerprint:y.attrs.authorizationFingerprint,environment:y.environment}),this._clientPromise=e.create({authorization:d.authorization,client:d.client,debug:d.debug,assetsUrl:t.create(d.authorization),name:"PayPal Checkout"}).then(function(v){return this._configuration=v.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?this._configuration.gatewayConfiguration.paypal.environmentNoNetwork===!0&&(this._setupError=new p(f.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new p(f.PAYPAL_NOT_ENABLED)),this._setupError?o.reject(this._setupError):(n.sendEvent(v,"paypal-checkout.initialized"),this._frameServicePromise=this._setupFrameService(v),v)}.bind(this)),d.client?this._clientPromise.then(function(){return this}.bind(this)):o.resolve(this)},g.prototype._setupFrameService=function(d){var y=new s,v=d.getConfiguration(),w=setTimeout(function(){n.sendEvent(d,"paypal-checkout.frame-service.timed-out"),y.reject(new p(f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED))},b);return this._assetsUrl=v.gatewayConfiguration.paypal.assetsUrl+"/web/"+N,this._isDebug=v.isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+_(this._isDebug)+".html",T.create({name:"braintreepaypallanding",dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame"+_(this._isDebug)+".html",openFrameUrl:this._loadingFrameUrl},function(C){this._frameService=C,clearTimeout(w),y.resolve()}.bind(this)),y},g.prototype.createPayment=function(d){return!d||!m.FLOW_ENDPOINTS.hasOwnProperty(d.flow)?o.reject(new p(f.PAYPAL_FLOW_OPTION_REQUIRED)):(n.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),this._createPaymentResource(d).then(function(y){var v;return d.flow==="checkout"?v=y.paymentResource.redirectUrl.match(/EC-\w+/)[0]:v=y.agreementSetup.tokenId,v}))},g.prototype._createPaymentResource=function(d,y){var v=this,w="paypal_hermes/"+m.FLOW_ENDPOINTS[d.flow];return delete this.intentFromCreatePayment,y=y||{},d.offerCredit===!0&&n.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then(function(C){return C.request({endpoint:w,method:"post",data:v._formatPaymentResourceData(d,y)}).then(function(R){return v.intentFromCreatePayment=d.intent,R})}).catch(function(C){var R;return v._setupError?o.reject(v._setupError):(R=C.details&&C.details.httpStatus,R===422?o.reject(new p({type:f.PAYPAL_INVALID_PAYMENT_OPTION.type,code:f.PAYPAL_INVALID_PAYMENT_OPTION.code,message:f.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:C}})):o.reject(h(C,{type:f.PAYPAL_FLOW_FAILED.type,code:f.PAYPAL_FLOW_FAILED.code,message:f.PAYPAL_FLOW_FAILED.message})))})},g.prototype.updatePayment=function(d){var y=this,v="paypal_hermes/patch_payment_resource";return!d||this._hasMissingOption(d,m.REQUIRED_OPTIONS)?(n.sendEvent(y._clientPromise,"paypal-checkout.updatePayment.missing-options"),o.reject(new p(f.PAYPAL_MISSING_REQUIRED_OPTION))):this._verifyConsistentCurrency(d)?(n.sendEvent(this._clientPromise,"paypal-checkout.updatePayment"),this._clientPromise.then(function(w){return w.request({endpoint:v,method:"post",data:y._formatUpdatePaymentData(d)})}).catch(function(w){var C=w.details&&w.details.httpStatus;return C===422?(n.sendEvent(y._clientPromise,"paypal-checkout.updatePayment.invalid"),o.reject(new p({type:f.PAYPAL_INVALID_PAYMENT_OPTION.type,code:f.PAYPAL_INVALID_PAYMENT_OPTION.code,message:f.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:w}}))):(n.sendEvent(y._clientPromise,"paypal-checkout.updatePayment."+f.PAYPAL_FLOW_FAILED.code),o.reject(h(w,{type:f.PAYPAL_FLOW_FAILED.type,code:f.PAYPAL_FLOW_FAILED.code,message:f.PAYPAL_FLOW_FAILED.message})))})):(n.sendEvent(y._clientPromise,"paypal-checkout.updatePayment.inconsistent-currencies"),o.reject(new p({type:f.PAYPAL_INVALID_PAYMENT_OPTION.type,code:f.PAYPAL_INVALID_PAYMENT_OPTION.code,message:f.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:new Error("One or more shipping option currencies differ from checkout currency.")}})))},g.prototype.startVaultInitiatedCheckout=function(d){var y,v=this;return this._vaultInitiatedCheckoutInProgress?(n.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress"),o.reject(new p(f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS))):(E.forEach(function(w){d.hasOwnProperty(w)||(y=w)}),y?o.reject(new p({type:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,code:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,message:"Required param "+y+" is missing."})):(this._vaultInitiatedCheckoutInProgress=!0,this._addModalBackdrop(d),d=i({},d,{flow:"checkout"}),n.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.started"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){var w=new s,C=v._createPaymentResource(d,{returnUrl:v._constructVaultCheckutUrl("redirect-frame"),cancelUrl:v._constructVaultCheckutUrl("cancel-frame")}).then(function(R){var S=R.paymentResource.redirectUrl;return v._frameService.redirect(S),w});return v._frameService.open({},v._createFrameServiceCallback(w)),C}).catch(function(w){return v._vaultInitiatedCheckoutInProgress=!1,v._removeModalBackdrop(),w.code==="FRAME_SERVICE_FRAME_CLOSED"?(n.sendEvent(v._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer"),o.reject(new p(f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED))):(v._frameService&&v._frameService.close(),w.code&&w.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(n.sendEvent(v._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened"),o.reject(new p({code:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.code,type:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.type,message:f.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.message,details:{originalError:w}}))):o.reject(w))}).then(function(w){return v._frameService.close(),v._vaultInitiatedCheckoutInProgress=!1,v._removeModalBackdrop(),n.sendEvent(v._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.succeeded"),o.resolve(w)})))},g.prototype._addModalBackdrop=function(d){d.optOutOfModalBackdrop||(this._modalBackdrop||(this._modalBackdrop=document.createElement("div"),this._modalBackdrop.setAttribute("data-braintree-paypal-vault-initiated-checkout-modal",!0),this._modalBackdrop.style.position="fixed",this._modalBackdrop.style.top=0,this._modalBackdrop.style.bottom=0,this._modalBackdrop.style.left=0,this._modalBackdrop.style.right=0,this._modalBackdrop.style.zIndex=9999,this._modalBackdrop.style.background="black",this._modalBackdrop.style.opacity="0.7",this._modalBackdrop.addEventListener("click",function(){this.focusVaultInitiatedCheckoutWindow()}.bind(this))),document.body.appendChild(this._modalBackdrop))},g.prototype._removeModalBackdrop=function(){this._modalBackdrop&&this._modalBackdrop.parentNode&&this._modalBackdrop.parentNode.removeChild(this._modalBackdrop)},g.prototype.closeVaultInitiatedCheckoutWindow=function(){return this._vaultInitiatedCheckoutInProgress&&n.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.close()}.bind(this))},g.prototype.focusVaultInitiatedCheckoutWindow=function(){return this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.focus()}.bind(this))},g.prototype._createFrameServiceCallback=function(d){var y=this;return function(v,w){v?d.reject(v):w&&(y._frameService.redirect(y._loadingFrameUrl),y.tokenizePayment({paymentToken:w.token,payerID:w.PayerID,paymentID:w.paymentId}).then(function(C){d.resolve(C)}).catch(function(C){d.reject(C)}))}},g.prototype._waitForVaultInitiatedCheckoutDependencies=function(){var d=this;return this._clientPromise.then(function(){return d._frameServicePromise})},g.prototype._constructVaultCheckutUrl=function(d){var y=this._frameService._serviceId;return this._assetsUrl+"/html/"+d+_(this._isDebug)+".html?channel="+y},g.prototype.tokenizePayment=function(d){var y=this,v=!0,w,C={flow:d.billingToken&&!d.paymentID?"vault":"checkout",intent:d.intent||this.intentFromCreatePayment},R={ecToken:d.paymentToken,billingToken:d.billingToken,payerId:d.payerID,paymentId:d.paymentID,shippingOptionsId:d.shippingOptionsId};return d.hasOwnProperty("vault")&&(v=d.vault),C.vault=v,n.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then(function(S){return S.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:y._formatTokenizeData(C,R)})}).then(function(S){return w=y._formatTokenizePayload(S),n.sendEvent(y._clientPromise,"paypal-checkout.tokenization.success"),w.creditFinancingOffered&&n.sendEvent(y._clientPromise,"paypal-checkout.credit.accepted"),w}).catch(function(S){return y._setupError?o.reject(y._setupError):(n.sendEvent(y._clientPromise,"paypal-checkout.tokenization.failed"),o.reject(h(S,{type:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))})},g.prototype.getClientId=function(){return this._clientPromise.then(function(d){return d.getConfiguration().gatewayConfiguration.paypal.clientId})},g.prototype.loadPayPalSDK=function(d){var y,v,w=new s,C=d&&d.dataAttributes||{},R=C["user-id-token"]||C["data-user-id-token"];return R||(R=this._authorizationInformation.fingerprint&&this._authorizationInformation.fingerprint.split("?")[0]),this._paypalScript=document.createElement("script"),d=i({},{components:"buttons"},d),delete d.dataAttributes,d.vault?d.intent=d.intent||"tokenize":(d.intent=d.intent||"authorize",d.currency=d.currency||"USD"),v="https://www.paypal.com/sdk/js?",this._paypalScript.onload=function(){w.resolve()},Object.keys(C).forEach(function(S){this._paypalScript.setAttribute("data-"+S.replace(/^data\-/,""),C[S])}.bind(this)),d["client-id"]?y=o.resolve(d["client-id"]):y=this.getClientId(),y.then(function(S){d["client-id"]=S,this._autoSetDataUserIdToken&&R&&(this._paypalScript.setAttribute("data-user-id-token",R),this._attachPreloadPixel({id:S,userIdToken:R,amount:C.amount,currency:d.currency,merchantId:d["merchant-id"]})),this._paypalScript.src=P.queryify(v,d),document.head.insertBefore(this._paypalScript,document.head.firstElementChild)}.bind(this)),w.then(function(){return this}.bind(this))},g.prototype._attachPreloadPixel=function(d){var y,v=d.id,w=d.userIdToken,C=this._authorizationInformation.environment,R=C==="production"?"":"sandbox.",S=O.replace("{ENV}",R),L={"client-id":v,"user-id-token":w};d.amount&&(L.amount=d.amount),d.currency&&(L.currency=d.currency),d.merchantId&&(L["merchant-id"]=d.merchantId),y=new XMLHttpRequest,y.open("GET",P.queryify(S,L)),y.send()},g.prototype._formatPaymentResourceData=function(d,y){var v,w=this._configuration.gatewayConfiguration,C=d.intent,R={returnUrl:y.returnUrl||"https://www.paypal.com/checkoutnow/error",cancelUrl:y.cancelUrl||"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:d.offerCredit===!0,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:d.displayName||w.paypal.displayName,localeCode:d.locale,noShipping:(!d.enableShippingAddress).toString(),addressOverride:d.shippingAddressEditable===!1,landingPageType:d.landingPageType},shippingOptions:d.shippingOptions};if(d.flow==="checkout"){R.amount=d.amount,R.currencyIsoCode=d.currency,R.requestBillingAgreement=d.requestBillingAgreement,C&&(C==="capture"&&(C="sale"),R.intent=C),d.hasOwnProperty("lineItems")&&(R.lineItems=d.lineItems),d.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(R.vaultInitiatedCheckoutPaymentMethodToken=d.vaultInitiatedCheckoutPaymentMethodToken),d.hasOwnProperty("shippingOptions")&&(R.shippingOptions=d.shippingOptions);for(v in d.shippingAddressOverride)d.shippingAddressOverride.hasOwnProperty(v)&&(R[v]=d.shippingAddressOverride[v]);d.hasOwnProperty("billingAgreementDetails")&&(R.billingAgreementDetails=d.billingAgreementDetails)}else R.shippingAddress=d.shippingAddressOverride,d.billingAgreementDescription&&(R.description=d.billingAgreementDescription);return this._riskCorrelationId=d.riskCorrelationId,d.riskCorrelationId&&(R.correlationId=this._riskCorrelationId),R},g.prototype._verifyConsistentCurrency=function(d){return d.currency&&d.hasOwnProperty("shippingOptions")&&Array.isArray(d.shippingOptions)?d.shippingOptions.every(function(y){return y.amount&&y.amount.currency&&d.currency.toLowerCase()===y.amount.currency.toLowerCase()}):!0},g.prototype._hasMissingOption=function(d,y){var v,w;if(y=y||[],!d.hasOwnProperty("amount")&&!d.hasOwnProperty("lineItems"))return!0;for(v=0;v<y.length;v++)if(w=y[v],!d.hasOwnProperty(w))return!0;return!1},g.prototype._formatUpdatePaymentData=function(d){var y=this,v={merchantAccountId:this._merchantAccountId,paymentId:d.paymentId,currencyIsoCode:d.currency};return d.hasOwnProperty("amount")&&(v.amount=d.amount),d.hasOwnProperty("lineItems")&&(v.lineItems=d.lineItems),d.hasOwnProperty("shippingOptions")&&(v.shippingOptions=d.shippingOptions),d.hasOwnProperty("shippingAddress")&&(n.sendEvent(y._clientPromise,"paypal-checkout.updatePayment.shippingAddress.provided.by-the-merchant"),v.line1=d.shippingAddress.line1,d.shippingAddress.hasOwnProperty("line2")&&(v.line2=d.shippingAddress.line2),v.city=d.shippingAddress.city,v.state=d.shippingAddress.state,v.postalCode=d.shippingAddress.postalCode,v.countryCode=d.shippingAddress.countryCode,d.shippingAddress.hasOwnProperty("phone")&&(v.phone=d.shippingAddress.phone),d.shippingAddress.hasOwnProperty("recipientName")&&(v.recipientName=d.shippingAddress.recipientName)),v},g.prototype._formatTokenizeData=function(d,y){var v=this._configuration,w=v.gatewayConfiguration,C=v.authorizationType==="TOKENIZATION_KEY",R=d.flow==="vault",S=this._riskCorrelationId||y.billingToken||y.ecToken,L={paypalAccount:{correlationId:S,options:{validate:R&&!C&&d.vault}}};return R?L.paypalAccount.billingAgreementToken=y.billingToken:(L.paypalAccount.paymentToken=y.paymentId,L.paypalAccount.payerId=y.payerId,L.paypalAccount.unilateral=w.paypal.unvettedMerchant,d.intent&&(L.paypalAccount.intent=d.intent)),this._merchantAccountId&&(L.merchantAccountId=this._merchantAccountId),L},g.prototype._formatTokenizePayload=function(d){var y,v={};return d.paypalAccounts&&(v=d.paypalAccounts[0]),y={nonce:v.nonce,details:{},type:v.type},v.details&&v.details.payerInfo&&(y.details=v.details.payerInfo),v.details&&v.details.creditFinancingOffered&&(y.creditFinancingOffered=v.details.creditFinancingOffered),v.details&&v.details.shippingOptionId&&(y.shippingOptionId=v.details.shippingOptionId),v.details&&v.details.cobrandedCardLabel&&(y.cobrandedCardLabel=v.details.cobrandedCardLabel),y},g.prototype.teardown=function(){var d=this;return A(this,l(g.prototype)),this._paypalScript&&this._paypalScript.parentNode&&this._paypalScript.parentNode.removeChild(this._paypalScript),this._frameServicePromise.catch(function(){}).then(function(){return d._frameService?d._frameService.teardown():o.resolve()})},c.exports=a.wrapPrototype(g)},{"../lib/analytics":50,"../lib/assign":52,"../lib/braintree-error":54,"../lib/constants":55,"../lib/convert-methods-to-error":56,"../lib/convert-to-braintree-error":57,"../lib/create-assets-url":58,"../lib/create-authorization-data":59,"../lib/create-deferred-client":60,"../lib/frame-service/external":64,"../lib/methods":76,"../lib/promise":77,"../lib/querystring":78,"../lib/use-min":79,"../paypal/shared/constants":84,"./errors":81,"@braintree/extended-promise":23,"@braintree/wrap-promise":32}],84:[function(r,c,u){c.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"},REQUIRED_OPTIONS:["paymentId","currency"]}},{}]},{},[82])(82)})})(W);const q=V(x);var K={},G={get exports(){return K},set exports(U){K=U}};(function(U,D){(function(r){U.exports=r()})(function(){return function(){function r(c,u,n){function i(o,s){if(!u[o]){if(!c[o]){var a=typeof k=="function"&&k;if(!s&&a)return a(o,!0);if(e)return e(o,!0);var p=new Error("Cannot find module '"+o+"'");throw p.code="MODULE_NOT_FOUND",p}var h=u[o]={exports:{}};c[o][0].call(h.exports,function(f){var m=c[o][1][f];return i(m||f)},h,h.exports,r,c,u,n)}return u[o].exports}for(var e=typeof k=="function"&&k,t=0;t<n.length;t++)i(n[t]);return i}return r}()({1:[function(r,c,u){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(u,"__esModule",{value:!0}),u.PromiseGlobal=void 0;var i=n(r("promise-polyfill")),e=typeof Promise<"u"?Promise:i.default;u.PromiseGlobal=e},{"promise-polyfill":9}],2:[function(r,c,u){var n=r("./lib/promise"),i={};function e(t){var o,s=JSON.stringify(t);if(!t.forceScriptReload&&(o=i[s],o))return o;var a=document.createElement("script"),p=t.dataAttributes||{},h=t.container||document.head;return a.src=t.src,a.id=t.id||"",a.async=!0,t.crossorigin&&a.setAttribute("crossorigin",""+t.crossorigin),Object.keys(p).forEach(function(f){a.setAttribute("data-"+f,""+p[f])}),o=new n.PromiseGlobal(function(f,m){a.addEventListener("load",function(){f(a)}),a.addEventListener("error",function(){m(new Error(t.src+" failed to load."))}),a.addEventListener("abort",function(){m(new Error(t.src+" has aborted."))}),h.appendChild(a)}),i[s]=o,o}e.clearCache=function(){i={}},c.exports=e},{"./lib/promise":1}],3:[function(r,c,u){c.exports=r("./dist/load-script")},{"./dist/load-script":2}],4:[function(r,c,u){var n=typeof Promise<"u"?Promise:null,i=function(){function e(t){var o=this;if(typeof t=="function"){this._promise=new e.Promise(t);return}this._promise=new e.Promise(function(s,a){o._resolveFunction=s,o._rejectFunction=a}),t=t||{},this._onResolve=t.onResolve||e.defaultOnResolve,this._onReject=t.onReject||e.defaultOnReject,e.shouldCatchExceptions(t)&&this._promise.catch(function(){}),this._resetState()}return e.defaultOnResolve=function(t){return e.Promise.resolve(t)},e.defaultOnReject=function(t){return e.Promise.reject(t)},e.setPromise=function(t){e.Promise=t},e.shouldCatchExceptions=function(t){return t.hasOwnProperty("suppressUnhandledPromiseMessage")?!!t.suppressUnhandledPromiseMessage:!!e.suppressUnhandledPromiseMessage},e.all=function(t){return e.Promise.all(t)},e.allSettled=function(t){return e.Promise.allSettled(t)},e.race=function(t){return e.Promise.race(t)},e.reject=function(t){return e.Promise.reject(t)},e.resolve=function(t){return e.Promise.resolve(t)},e.prototype.then=function(){for(var t,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(t=this._promise).then.apply(t,o)},e.prototype.catch=function(){for(var t,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(t=this._promise).catch.apply(t,o)},e.prototype.resolve=function(t){var o=this;return this.isFulfilled?this:(this._setResolved(),e.Promise.resolve().then(function(){return o._onResolve(t)}).then(function(s){o._resolveFunction(s)}).catch(function(s){o._resetState(),o.reject(s)}),this)},e.prototype.reject=function(t){var o=this;return this.isFulfilled?this:(this._setRejected(),e.Promise.resolve().then(function(){return o._onReject(t)}).then(function(s){o._setResolved(),o._resolveFunction(s)}).catch(function(s){return o._rejectFunction(s)}),this)},e.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},e.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},e.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},e.Promise=n,e}();c.exports=i},{}],5:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0});function n(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];setTimeout(function(){try{i.apply(void 0,e)}catch(o){console.log("Error in callback function"),console.log(o)}},1)}}u.deferred=n},{}],6:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0});function n(i){var e=!1;return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e||(e=!0,i.apply(void 0,t))}}u.once=n},{}],7:[function(r,c,u){Object.defineProperty(u,"__esModule",{value:!0});function n(i,e){if(!e)return i;i.then(function(t){return e(null,t)}).catch(function(t){return e(t)})}u.promiseOrCallback=n},{}],8:[function(r,c,u){var n=r("./lib/deferred"),i=r("./lib/once"),e=r("./lib/promise-or-callback");function t(o){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var p,h=s[s.length-1];return typeof h=="function"&&(p=s.pop(),p=i.once(n.deferred(p))),e.promiseOrCallback(o.apply(this,s),p)}}t.wrapPrototype=function(o,s){s===void 0&&(s={});var a=s.ignoreMethods||[],p=s.transformPrivateMethods===!0,h=Object.getOwnPropertyNames(o.prototype).filter(function(f){var m,T=f!=="constructor"&&typeof o.prototype[f]=="function",I=a.indexOf(f)===-1;return p?m=!0:m=f.charAt(0)!=="_",T&&m&&I});return h.forEach(function(f){var m=o.prototype[f];o.prototype[f]=t(m)}),o},c.exports=t},{"./lib/deferred":5,"./lib/once":6,"./lib/promise-or-callback":7}],9:[function(r,c,u){function n(l){var _=this.constructor;return this.then(function(A){return _.resolve(l()).then(function(){return A})},function(A){return _.resolve(l()).then(function(){return _.reject(A)})})}function i(l){var _=this;return new _(function(A,P){if(!(l&&typeof l.length<"u"))return P(new TypeError(typeof l+" "+l+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var N=Array.prototype.slice.call(l);if(N.length===0)return A([]);var b=N.length;function E(g,d){if(d&&(typeof d=="object"||typeof d=="function")){var y=d.then;if(typeof y=="function"){y.call(d,function(v){E(g,v)},function(v){N[g]={status:"rejected",reason:v},--b===0&&A(N)});return}}N[g]={status:"fulfilled",value:d},--b===0&&A(N)}for(var O=0;O<N.length;O++)E(O,N[O])})}var e=setTimeout;function t(l){return!!(l&&typeof l.length<"u")}function o(){}function s(l,_){return function(){l.apply(_,arguments)}}function a(l){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if(typeof l!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],I(l,this)}function p(l,_){for(;l._state===3;)l=l._value;if(l._state===0){l._deferreds.push(_);return}l._handled=!0,a._immediateFn(function(){var A=l._state===1?_.onFulfilled:_.onRejected;if(A===null){(l._state===1?h:f)(_.promise,l._value);return}var P;try{P=A(l._value)}catch(N){f(_.promise,N);return}h(_.promise,P)})}function h(l,_){try{if(_===l)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var A=_.then;if(_ instanceof a){l._state=3,l._value=_,m(l);return}else if(typeof A=="function"){I(s(A,_),l);return}}l._state=1,l._value=_,m(l)}catch(P){f(l,P)}}function f(l,_){l._state=2,l._value=_,m(l)}function m(l){l._state===2&&l._deferreds.length===0&&a._immediateFn(function(){l._handled||a._unhandledRejectionFn(l._value)});for(var _=0,A=l._deferreds.length;_<A;_++)p(l,l._deferreds[_]);l._deferreds=null}function T(l,_,A){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof _=="function"?_:null,this.promise=A}function I(l,_){var A=!1;try{l(function(P){A||(A=!0,h(_,P))},function(P){A||(A=!0,f(_,P))})}catch(P){if(A)return;A=!0,f(_,P)}}a.prototype.catch=function(l){return this.then(null,l)},a.prototype.then=function(l,_){var A=new this.constructor(o);return p(this,new T(l,_,A)),A},a.prototype.finally=n,a.all=function(l){return new a(function(_,A){if(!t(l))return A(new TypeError("Promise.all accepts an array"));var P=Array.prototype.slice.call(l);if(P.length===0)return _([]);var N=P.length;function b(O,g){try{if(g&&(typeof g=="object"||typeof g=="function")){var d=g.then;if(typeof d=="function"){d.call(g,function(y){b(O,y)},A);return}}P[O]=g,--N===0&&_(P)}catch(y){A(y)}}for(var E=0;E<P.length;E++)b(E,P[E])})},a.allSettled=i,a.resolve=function(l){return l&&typeof l=="object"&&l.constructor===a?l:new a(function(_){_(l)})},a.reject=function(l){return new a(function(_,A){A(l)})},a.race=function(l){return new a(function(_,A){if(!t(l))return A(new TypeError("Promise.race accepts an array"));for(var P=0,N=l.length;P<N;P++)a.resolve(l[P]).then(_,A)})},a._immediateFn=typeof setImmediate=="function"&&function(l){setImmediate(l)}||function(l){e(l,0)},a._unhandledRejectionFn=function(_){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",_)},c.exports=a},{}],10:[function(r,c,u){var n=r("./create-authorization-data"),i=r("./json-clone"),e=r("./constants");function t(o,s){var a,p=s?i(s):{},h=n(o.authorization).attrs,f=i(o.analyticsMetadata);p.braintreeLibraryVersion=e.BRAINTREE_LIBRARY_VERSION;for(a in p._meta)p._meta.hasOwnProperty(a)&&(f[a]=p._meta[a]);return p._meta=f,h.tokenizationKey?p.tokenizationKey=h.tokenizationKey:p.authorizationFingerprint=h.authorizationFingerprint,p}c.exports=t},{"./constants":15,"./create-authorization-data":18,"./json-clone":22}],11:[function(r,c,u){var n=r("./promise"),i=r("./constants"),e=r("./add-metadata");function t(o,s,a){var p=Date.now();return n.resolve(o).then(function(h){var f=Date.now(),m=h.getConfiguration(),T=h._request,I=m.gatewayConfiguration.analytics.url,l={analytics:[{kind:i.ANALYTICS_PREFIX+s,isAsync:Math.floor(f/1e3)!==Math.floor(p/1e3),timestamp:p}]};T({url:I,method:"post",data:e(m,l),timeout:i.ANALYTICS_REQUEST_TIMEOUT_MS},a)}).catch(function(h){a&&a(h)})}c.exports={sendEvent:t}},{"./add-metadata":10,"./constants":15,"./promise":25}],12:[function(r,c,u){var n=r("@braintree/asset-loader/load-script");c.exports={loadScript:n}},{"@braintree/asset-loader/load-script":3}],13:[function(r,c,u){var n=r("./braintree-error"),i=r("./promise"),e=r("./errors"),t="3.92.0";function o(s){var a,p,h;return s?(h=s.name,a=s.client,p=s.authorization,!a&&!p?i.reject(new n({type:e.INSTANTIATION_OPTION_REQUIRED.type,code:e.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+h+"."})):!p&&a.getVersion()!==t?i.reject(new n({type:e.INCOMPATIBLE_VERSIONS.type,code:e.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+a.getVersion()+") and "+h+" (version "+t+") components must be from the same SDK version."})):i.resolve()):i.reject(new n({type:e.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:e.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}c.exports={verify:o}},{"./braintree-error":14,"./errors":21,"./promise":25}],14:[function(r,c,u){var n=r("./enumerate");function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=n(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(e){return e instanceof i&&e.details&&e.details.originalError?i.findRootError(e.details.originalError):e},c.exports=i},{"./enumerate":20}],15:[function(r,c,u){var n="3.92.0",i="web",e={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},t={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},o={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};c.exports={ANALYTICS_PREFIX:i+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:t,CLIENT_API_URLS:e,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:o,INTEGRATION_TIMEOUT_MS:6e4,VERSION:n,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/"+i+"/"+n}},{}],16:[function(r,c,u){var n=r("./braintree-error"),i=r("./errors");c.exports=function(e,t){t.forEach(function(o){e[o]=function(){throw new n({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:o+" cannot be called after teardown."})}})}},{"./braintree-error":14,"./errors":21}],17:[function(r,c,u){var n=r("./constants").ASSETS_URLS;function i(e){return n.production}c.exports={create:i}},{"./constants":15}],18:[function(r,c,u){var n=r("../lib/vendor/polyfill").atob,i=r("../lib/constants").CLIENT_API_URLS;function e(s){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(s)}function t(s){var a=s.split("_"),p=a[0],h=a.slice(2).join("_");return{merchantId:h,environment:p}}function o(s){var a,p,h={attrs:{},configUrl:""};return e(s)?(p=t(s),h.environment=p.environment,h.attrs.tokenizationKey=s,h.configUrl=i[p.environment]+"/merchants/"+p.merchantId+"/client_api/v1/configuration"):(a=JSON.parse(n(s)),h.environment=a.environment,h.attrs.authorizationFingerprint=a.authorizationFingerprint,h.configUrl=a.configUrl,h.graphQL=a.graphQL),h}c.exports=o},{"../lib/constants":15,"../lib/vendor/polyfill":26}],19:[function(r,c,u){var n=r("./braintree-error"),i=r("./promise"),e=r("./assets"),t=r("./errors"),o="3.92.0";function s(a){var p=i.resolve();return a.client?i.resolve(a.client):(window.braintree&&window.braintree.client||(p=e.loadScript({src:a.assetsUrl+"/web/"+o+"/js/client.min.js"}).catch(function(h){return i.reject(new n({type:t.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:t.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:t.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:h}}))})),p.then(function(){return window.braintree.client.VERSION!==o?i.reject(new n({type:t.INCOMPATIBLE_VERSIONS.type,code:t.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+a.name+" (version "+o+") components must be from the same SDK version."})):window.braintree.client.create({authorization:a.authorization,debug:a.debug})}))}c.exports={create:s}},{"./assets":12,"./braintree-error":14,"./errors":21,"./promise":25}],20:[function(r,c,u){function n(i,e){return e=e??"",i.reduce(function(t,o){return t[o]=e+o,t},{})}c.exports=n},{}],21:[function(r,c,u){var n=r("./braintree-error");c.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:n.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:n.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:n.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:n.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":14}],22:[function(r,c,u){c.exports=function(n){return JSON.parse(JSON.stringify(n))}},{}],23:[function(r,c,u){c.exports=function(n){return Object.keys(n).filter(function(i){return typeof n[i]=="function"})}},{}],24:[function(r,c,u){function n(i){var e=!1;return function(){e||(e=!0,i.apply(null,arguments))}}c.exports=n},{}],25:[function(r,c,u){var n=r("promise-polyfill"),i=r("@braintree/extended-promise"),e=typeof Promise<"u"?Promise:n;i.suppressUnhandledPromiseMessage=!0,i.setPromise(e),c.exports=e},{"@braintree/extended-promise":4,"promise-polyfill":9}],26:[function(r,c,u){var n=typeof atob=="function"?atob:i;function i(e){var t,o,s,a,p,h,f,m,T=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";if(!T.test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");m=0;do a=I.indexOf(e.charAt(m++)),p=I.indexOf(e.charAt(m++)),h=I.indexOf(e.charAt(m++)),f=I.indexOf(e.charAt(m++)),t=(a&63)<<2|p>>4&3,o=(p&15)<<4|h>>2&15,s=(h&3)<<6|f&63,l+=String.fromCharCode(t)+(o?String.fromCharCode(o):"")+(s?String.fromCharCode(s):"");while(m<e.length);return l}c.exports={atob:function(e){return n.call(window,e)},_atob:i}},{}],27:[function(r,c,u){c.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],28:[function(r,c,u){var n=r("../lib/braintree-error");c.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:n.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:n.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:n.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:n.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:n.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":14}],29:[function(r,c,u){var n=r("../lib/basic-component-verification"),i=r("../lib/braintree-error"),e=r("../lib/create-deferred-client"),t=r("../lib/create-assets-url"),o=r("./errors"),s=r("./us-bank-account"),a="3.92.0",p=r("../lib/promise"),h=r("@braintree/wrap-promise");function f(m){var T="US Bank Account";return n.verify({name:T,client:m.client,authorization:m.authorization}).then(function(){return e.create({authorization:m.authorization,client:m.client,debug:m.debug,assetsUrl:t.create(m.authorization),name:T})}).then(function(I){var l;return m.client=I,l=m.client.getConfiguration().gatewayConfiguration.usBankAccount,l?new s(m):p.reject(new i(o.US_BANK_ACCOUNT_NOT_ENABLED))})}c.exports={create:h(f),VERSION:a}},{"../lib/basic-component-verification":13,"../lib/braintree-error":14,"../lib/create-assets-url":17,"../lib/create-deferred-client":19,"../lib/promise":25,"./errors":28,"./us-bank-account":30,"@braintree/wrap-promise":8}],30:[function(r,c,u){var n=r("../lib/braintree-error"),i=r("./constants"),e=r("./errors"),t=r("../lib/errors"),o=r("../lib/analytics"),s=r("../lib/once"),a=r("../lib/convert-methods-to-error"),p=r("../lib/methods"),h=r("../lib/promise"),f=r("@braintree/wrap-promise"),m=b("UsBankAccount"),T=b("UsBankLogin");function I(E){this._client=E.client,this._isTokenizingBankLogin=!1,o.sendEvent(this._client,"usbankaccount.initialized")}I.prototype.tokenize=function(E){return E=E||{},E.mandateText?E.bankDetails&&E.bankLogin?h.reject(new n({type:e.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:e.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):E.bankDetails?this._tokenizeBankDetails(E):E.bankLogin?this._tokenizeBankLogin(E):h.reject(new n({type:e.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:e.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):h.reject(new n({type:e.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:e.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},I.prototype._tokenizeBankDetails=function(E){var O=this._client,g=E.bankDetails,d={achMandate:E.mandateText,routingNumber:g.routingNumber,accountNumber:g.accountNumber,accountType:g.accountType.toUpperCase(),billingAddress:P(g.billingAddress||{})};return N(d,g),O.request({api:"graphQLApi",data:{query:m,variables:{input:{usBankAccount:d}}}}).then(function(y){return o.sendEvent(O,"usbankaccount.bankdetails.tokenization.succeeded"),h.resolve(_(y,"tokenizeUsBankAccount"))}).catch(function(y){var v=l(y);return o.sendEvent(O,"usbankaccount.bankdetails.tokenization.failed"),h.reject(v)})},I.prototype._tokenizeBankLogin=function(E){var O=this,g=this._client,d=g.getConfiguration().gatewayConfiguration,y=d.environment==="production",v=d.usBankAccount.plaid;return E.bankLogin.displayName?v?this._isTokenizingBankLogin?h.reject(new n(e.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new h(function(w,C){O._loadPlaid(function(R,S){if(R){C(R);return}S.create({clientName:E.bankLogin.displayName,apiVersion:"v2",env:y?"production":"sandbox",key:v.publicKey,product:"auth",selectAccount:!0,onExit:function(){O._isTokenizingBankLogin=!1,o.sendEvent(g,"usbankaccount.banklogin.tokenization.closed.by-user"),C(new n(e.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(L,M){var B=E.bankLogin,j={publicToken:L,accountId:y?M.account_id:"plaid_account_id",accountType:M.account.subtype.toUpperCase(),achMandate:E.mandateText,billingAddress:P(B.billingAddress||{})};N(j,B),g.request({api:"graphQLApi",data:{query:T,variables:{input:{usBankLogin:j}}}}).then(function(F){O._isTokenizingBankLogin=!1,o.sendEvent(g,"usbankaccount.banklogin.tokenization.succeeded"),w(_(F,"tokenizeUsBankLogin"))}).catch(function(F){var z;O._isTokenizingBankLogin=!1,z=l(F),o.sendEvent(g,"usbankaccount.banklogin.tokenization.failed"),C(z)})}}).open(),o.sendEvent(g,"usbankaccount.banklogin.tokenization.started")})})):h.reject(new n(e.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):h.reject(new n({type:e.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:e.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))};function l(E){var O,g=E.details&&E.details.httpStatus;return g===401?O=new n(t.BRAINTREE_API_ACCESS_RESTRICTED):g<500?O=new n(e.US_BANK_ACCOUNT_FAILED_TOKENIZATION):O=new n(e.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR),O.details={originalError:E},O}function _(E,O){var g=E.data[O].paymentMethod,d=g.details.last4,y="US bank account ending in - "+d;return{nonce:g.id,details:{},description:y,type:"us_bank_account"}}I.prototype._loadPlaid=function(E){var O,g;if(E=s(E),window.Plaid){E(null,window.Plaid);return}O=document.querySelector('script[src="'+i.PLAID_LINK_JS+'"]'),O?A(O,E):(g=document.createElement("script"),g.src=i.PLAID_LINK_JS,g.async=!0,A(g,E),document.body.appendChild(g),this._plaidScript=g)};function A(E,O){function g(){var v=this.readyState;(!v||v==="loaded"||v==="complete")&&(y(),O(null,window.Plaid))}function d(){E.parentNode.removeChild(E),O(new n(e.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}function y(){E.removeEventListener("error",d),E.removeEventListener("load",g),E.removeEventListener("readystatechange",g)}E.addEventListener("error",d),E.addEventListener("load",g),E.addEventListener("readystatechange",g)}function P(E){return{streetAddress:E.streetAddress,extendedAddress:E.extendedAddress,city:E.locality,state:E.region,zipCode:E.postalCode}}function N(E,O){O.ownershipType==="personal"?E.individualOwner={firstName:O.firstName,lastName:O.lastName}:O.ownershipType==="business"&&(E.businessOwner={businessName:O.businessName})}function b(E){return"mutation Tokenize"+E+"($input: Tokenize"+E+"Input!) {  tokenize"+E+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}I.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),a(this,p(I.prototype)),h.resolve()},c.exports=f.wrapPrototype(I)},{"../lib/analytics":11,"../lib/braintree-error":14,"../lib/convert-methods-to-error":16,"../lib/errors":21,"../lib/methods":23,"../lib/once":24,"../lib/promise":25,"./constants":27,"./errors":28,"@braintree/wrap-promise":8}]},{},[29])(29)})})(G);const Q=async(U,D={},r=[])=>{const c={method:"POST",headers:{"Content-Type":"application/json",...r},body:JSON.stringify(D)},u=await fetch(U,c),n=await u.json();if(!u.ok)throw Y("XHRService: post",{url:U,response:u,json:n}),n;return H("XHRService: post",U,n),n},Z={post:Q},ee=async(U,D,r=[],c=[])=>{const u="/api/braintree/sdk/interface",n={resource:U,operation:D,args:r,params:c};return await Z.post(u,n)};export{q as B,ee as s};
