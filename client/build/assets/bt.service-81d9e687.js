import{m as q}from"./index-0012b4da.js";import{c as ie}from"./logger.utils-ababba19.js";import{j as oe}from"./http.utils-58ed8dbd.js";function k(D){throw new Error('Could not dynamically require "'+D+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q={exports:{}},ge=Q.exports;(function(D,B){(function(F){if(!0)D.exports=F();else var j})(function(){var F,j,H;return function(){function o(l,m,t){function a(c,f){if(!m[c]){if(!l[c]){var n=typeof k=="function"&&k;if(!f&&n)return n(c,!0);if(i)return i(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var d=m[c]={exports:{}};l[c][0].call(d.exports,function(h){var E=l[c][1][h];return a(E||h)},d,d.exports,o,l,m,t)}return m[c].exports}for(var i=typeof k=="function"&&k,s=0;s<t.length;s++)a(t[s]);return a}return o}()({1:[function(o,l,m){"use strict";var t=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(m,"__esModule",{value:!0}),m.PromiseGlobal=void 0;var a=t(o("promise-polyfill")),i=typeof Promise<"u"?Promise:a.default;m.PromiseGlobal=i},{"promise-polyfill":9}],2:[function(o,l,m){"use strict";var t=o("./lib/promise"),a={};function i(s){var c,f=JSON.stringify(s);if(!s.forceScriptReload&&(c=a[f],c))return c;var n=document.createElement("script"),p=s.dataAttributes||{},d=s.container||document.head;return n.src=s.src,n.id=s.id||"",n.async=!0,s.crossorigin&&n.setAttribute("crossorigin",""+s.crossorigin),Object.keys(p).forEach(function(h){n.setAttribute("data-"+h,""+p[h])}),c=new t.PromiseGlobal(function(h,E){n.addEventListener("load",function(){h(n)}),n.addEventListener("error",function(){E(new Error(s.src+" failed to load."))}),n.addEventListener("abort",function(){E(new Error(s.src+" has aborted."))}),d.appendChild(n)}),a[f]=c,c}i.clearCache=function(){a={}},l.exports=i},{"./lib/promise":1}],3:[function(o,l,m){l.exports=o("./dist/load-script")},{"./dist/load-script":2}],4:[function(o,l,m){"use strict";function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var i=Math.random()*16|0,s=a==="x"?i:i&3|8;return s.toString(16)})}l.exports=t},{}],5:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];setTimeout(function(){try{a.apply(void 0,i)}catch(c){console.log("Error in callback function"),console.log(c)}},1)}}m.deferred=t},{}],6:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a){var i=!1;return function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];i||(i=!0,a.apply(void 0,s))}}m.once=t},{}],7:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a,i){if(!i)return a;a.then(function(s){return i(null,s)}).catch(function(s){return i(s)})}m.promiseOrCallback=t},{}],8:[function(o,l,m){"use strict";var t=o("./lib/deferred"),a=o("./lib/once"),i=o("./lib/promise-or-callback");function s(c){return function(){for(var f=[],n=0;n<arguments.length;n++)f[n]=arguments[n];var p,d=f[f.length-1];return typeof d=="function"&&(p=f.pop(),p=a.once(t.deferred(p))),i.promiseOrCallback(c.apply(this,f),p)}}s.wrapPrototype=function(c,f){f===void 0&&(f={});var n=f.ignoreMethods||[],p=f.transformPrivateMethods===!0,d=Object.getOwnPropertyNames(c.prototype).filter(function(h){var E,O=h!=="constructor"&&typeof c.prototype[h]=="function",g=n.indexOf(h)===-1;return p?E=!0:E=h.charAt(0)!=="_",O&&E&&g});return d.forEach(function(h){var E=c.prototype[h];c.prototype[h]=s(E)}),c},l.exports=s},{"./lib/deferred":5,"./lib/once":6,"./lib/promise-or-callback":7}],9:[function(o,l,m){"use strict";function t(e){var r=this.constructor;return this.then(function(u){return r.resolve(e()).then(function(){return u})},function(u){return r.resolve(e()).then(function(){return r.reject(u)})})}function a(e){var r=this;return new r(function(u,_){if(!(e&&typeof e.length<"u"))return _(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var y=Array.prototype.slice.call(e);if(y.length===0)return u([]);var A=y.length;function b(v,T){if(T&&(typeof T=="object"||typeof T=="function")){var I=T.then;if(typeof I=="function"){I.call(T,function(C){b(v,C)},function(C){y[v]={status:"rejected",reason:C},--A===0&&u(y)});return}}y[v]={status:"fulfilled",value:T},--A===0&&u(y)}for(var N=0;N<y.length;N++)b(N,y[N])})}var i=setTimeout;function s(e){return!!(e&&typeof e.length<"u")}function c(){}function f(e,r){return function(){e.apply(r,arguments)}}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function p(e,r){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(r);return}e._handled=!0,n._immediateFn(function(){var u=e._state===1?r.onFulfilled:r.onRejected;if(u===null){(e._state===1?d:h)(r.promise,e._value);return}var _;try{_=u(e._value)}catch(y){h(r.promise,y);return}d(r.promise,_)})}function d(e,r){try{if(r===e)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var u=r.then;if(r instanceof n){e._state=3,e._value=r,E(e);return}else if(typeof u=="function"){g(f(u,r),e);return}}e._state=1,e._value=r,E(e)}catch(_){h(e,_)}}function h(e,r){e._state=2,e._value=r,E(e)}function E(e){e._state===2&&e._deferreds.length===0&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var r=0,u=e._deferreds.length;r<u;r++)p(e,e._deferreds[r]);e._deferreds=null}function O(e,r,u){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof r=="function"?r:null,this.promise=u}function g(e,r){var u=!1;try{e(function(_){u||(u=!0,d(r,_))},function(_){u||(u=!0,h(r,_))})}catch(_){if(u)return;u=!0,h(r,_)}}n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,r){var u=new this.constructor(c);return p(this,new O(e,r,u)),u},n.prototype.finally=t,n.all=function(e){return new n(function(r,u){if(!s(e))return u(new TypeError("Promise.all accepts an array"));var _=Array.prototype.slice.call(e);if(_.length===0)return r([]);var y=_.length;function A(N,v){try{if(v&&(typeof v=="object"||typeof v=="function")){var T=v.then;if(typeof T=="function"){T.call(v,function(I){A(N,I)},u);return}}_[N]=v,--y===0&&r(_)}catch(I){u(I)}}for(var b=0;b<_.length;b++)A(b,_[b])})},n.allSettled=a,n.resolve=function(e){return e&&typeof e=="object"&&e.constructor===n?e:new n(function(r){r(e)})},n.reject=function(e){return new n(function(r,u){u(e)})},n.race=function(e){return new n(function(r,u){if(!s(e))return u(new TypeError("Promise.race accepts an array"));for(var _=0,y=e.length;_<y;_++)n.resolve(e[_]).then(r,u)})},n._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){i(e,0)},n._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)},l.exports=n},{}],10:[function(o,l,m){"use strict";var t=o("./constants").BRAINTREE_VERSION,a=o("./request/graphql"),i=o("./request"),s=o("../lib/is-verified-domain"),c=o("../lib/braintree-error"),f=o("../lib/convert-to-braintree-error"),n=o("./get-configuration").getConfiguration,p=o("../lib/create-authorization-data"),d=o("../lib/add-metadata"),h=o("@braintree/wrap-promise"),E=o("../lib/once"),O=o("../lib/deferred"),g=o("../lib/assign").assign,e=o("../lib/analytics"),r=o("./errors"),u=o("../lib/constants").VERSION,_=o("../lib/constants").GRAPHQL_URLS,y=o("../lib/methods"),A=o("../lib/convert-methods-to-error"),b=o("../lib/assets"),N=o("../lib/constants").FRAUDNET_FNCLS,v=o("../lib/constants").FRAUDNET_SOURCE,T=o("../lib/constants").FRAUDNET_URL,I={};function C(R){var L,w;if(R=R||{},L=JSON.stringify(R),w=R.gatewayConfiguration,!w)throw new c(r.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(U){if(U in w&&!s(w[U]))throw new c({type:r.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:r.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:U+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(L)},this._request=i,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=w.clientApiUrl+"/v1/",w.graphQL){if(!s(w.graphQL.url))throw new c({type:r.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:r.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"graphQL.url property is on an invalid domain."});this._graphQL=new a({graphQL:w.graphQL})}}C.initialize=function(R){var L,w,U=I[R.authorization];if(U)return e.sendEvent(U,"custom.client.load.cached"),U;try{w=p(R.authorization)}catch{return Promise.reject(new c(r.CLIENT_INVALID_AUTHORIZATION))}return U=n(w).then(function(x){return R.debug&&(x.isDebug=!0),x.authorization=R.authorization,L=new C(x),L}),I[R.authorization]=U,e.sendEvent(U,"custom.client.load.initialized"),U.then(function(x){return e.sendEvent(L,"custom.client.load.succeeded"),x}).catch(function(x){return delete I[R.authorization],Promise.reject(x)})},C.clearCache=function(){I={}},C.prototype._findOrCreateFraudnetJSON=function(R){var L=document.querySelector('script[fncls="'+N+'"]'),w,U,x,M;L||(L=document.body.appendChild(document.createElement("script")),L.type="application/json",L.setAttribute("fncls",N)),w=this.getConfiguration(),U={rda_tenant:"bt_card",mid:w.gatewayConfiguration.merchantId},x=w.authorizationFingerprint,x&&x.split("&").forEach(function(z){var V=z.split("=");V[0]==="customer_id"&&V.length>1&&(U.cid=V[1])}),M={f:R.substr(0,32),fp:U,bu:!1,s:v},L.text=JSON.stringify(M)},C.prototype.request=function(R,L){var w=this,U=new Promise(function(x,M){var z,V,J,K,ne=!!(R.endpoint==="payment_methods/credit_cards"&&w.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if(R.api!=="graphQLApi"&&(R.method?R.endpoint||(z="options.endpoint"):z="options.method"),z)throw new c({type:r.CLIENT_OPTION_REQUIRED.type,code:r.CLIENT_OPTION_REQUIRED.code,message:z+" is required when making a request."});if("api"in R?V=R.api:V="clientApi",K={method:R.method,graphQL:w._graphQL,timeout:R.timeout,metadata:w._configuration.analyticsMetadata},V==="clientApi")J=w._clientApiBaseUrl,K.data=d(w._configuration,R.data);else if(V==="graphQLApi")J=_[w._configuration.gatewayConfiguration.environment],R.endpoint="",K.method="post",K.data=g({clientSdkMetadata:{platform:w._configuration.analyticsMetadata.platform,source:w._configuration.analyticsMetadata.source,integration:w._configuration.analyticsMetadata.integration,sessionId:w._configuration.analyticsMetadata.sessionId,version:u}},R.data),K.headers=S(w._configuration);else throw new c({type:r.CLIENT_OPTION_INVALID.type,code:r.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});K.url=J+R.endpoint,K.sendAnalyticsEvent=function(X){e.sendEvent(w,X)},w._request(K,function(X,$,te){var G,ee;if(ee=P(te,X),ee){M(ee);return}if(V==="graphQLApi"&&$.errors){M(f($.errors,{type:r.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:r.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:r.CLIENT_GRAPHQL_REQUEST_ERROR.message}));return}G=g({_httpStatus:te},$),ne&&G.creditCards&&G.creditCards.length>0&&(w._findOrCreateFraudnetJSON(G.creditCards[0].nonce),b.loadScript({src:T,forceScriptReload:!0})),x(G)})});if(typeof L=="function"){L=E(O(L)),U.then(function(x){L(null,x,x._httpStatus)}).catch(function(x){var M=x&&x.details&&x.details.httpStatus;L(x,null,M)});return}return U};function P(R,L){var w;if(R===-1?w=new c(r.CLIENT_REQUEST_TIMEOUT):R===401?w=new c(r.CLIENT_AUTHORIZATION_INVALID):R===403?w=new c(r.CLIENT_AUTHORIZATION_INSUFFICIENT):R===429?w=new c(r.CLIENT_RATE_LIMITED):R>=500?w=new c(r.CLIENT_GATEWAY_NETWORK):(R<200||R>=400)&&(w=f(L,{type:r.CLIENT_REQUEST_ERROR.type,code:r.CLIENT_REQUEST_ERROR.code,message:r.CLIENT_REQUEST_ERROR.message})),w)return w.details=w.details||{},w.details.httpStatus=R,w}C.prototype.toJSON=function(){return this.getConfiguration()},C.prototype.getVersion=function(){return u},C.prototype.teardown=h(function(){var R=this;return delete I[R.getConfiguration().authorization],A(R,y(C.prototype)),Promise.resolve()});function S(R){var L=R.authorizationFingerprint||R.authorization;return{Authorization:"Bearer "+L,"Braintree-Version":t}}l.exports=C},{"../lib/add-metadata":28,"../lib/analytics":29,"../lib/assets":30,"../lib/assign":31,"../lib/braintree-error":32,"../lib/constants":33,"../lib/convert-methods-to-error":34,"../lib/convert-to-braintree-error":35,"../lib/create-authorization-data":36,"../lib/deferred":37,"../lib/is-verified-domain":41,"../lib/methods":43,"../lib/once":44,"./constants":11,"./errors":12,"./get-configuration":13,"./request":24,"./request/graphql":22,"@braintree/wrap-promise":8}],11:[function(o,l,m){"use strict";l.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],12:[function(o,l,m){"use strict";var t=o("../lib/braintree-error");l.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:t.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:t.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:t.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:t.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:t.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:t.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:t.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:t.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:t.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:t.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:t.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":32}],13:[function(o,l,m){"use strict";var t=o("../lib/braintree-error"),a=o("@braintree/wrap-promise"),i=o("./request"),s=o("@braintree/uuid"),c=o("../lib/constants"),f=o("./errors"),n=o("./request/graphql"),p=o("../lib/constants").GRAPHQL_URLS,d=o("../lib/is-date-string-before-or-on"),h=o("./constants").BRAINTREE_VERSION;function E(O){return new Promise(function(g,e){var r,u,_,y,A=s(),b={merchantAppId:window.location.host,platform:c.PLATFORM,sdkVersion:c.VERSION,source:c.SOURCE,integration:c.INTEGRATION,integrationType:c.INTEGRATION,sessionId:A};u=O.attrs,_=O.configUrl,u._meta=b,u.braintreeLibraryVersion=c.BRAINTREE_LIBRARY_VERSION,u.configVersion="3",y={url:_,method:"GET",data:u},u.authorizationFingerprint&&O.graphQL?(d(O.graphQL.date,h)&&(y.graphQL=new n({graphQL:{url:O.graphQL.url,features:["configuration"]}})),y.metadata=b):u.tokenizationKey&&(y.graphQL=new n({graphQL:{url:p[O.environment],features:["configuration"]}}),y.metadata=b),i(y,function(N,v,T){var I;if(N){T===403?I=f.CLIENT_AUTHORIZATION_INSUFFICIENT:T===401?I=f.CLIENT_AUTHORIZATION_INVALID:I=f.CLIENT_GATEWAY_NETWORK,e(new t({type:I.type,code:I.code,message:I.message,details:{originalError:N}}));return}r={authorizationType:u.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:u.authorizationFingerprint,analyticsMetadata:b,gatewayConfiguration:v},g(r)})})}l.exports={getConfiguration:a(E)}},{"../lib/braintree-error":32,"../lib/constants":33,"../lib/is-date-string-before-or-on":40,"./constants":11,"./errors":12,"./request":24,"./request/graphql":22,"@braintree/uuid":4,"@braintree/wrap-promise":8}],14:[function(o,l,m){"use strict";var t=o("../lib/braintree-error"),a=o("./client"),i="3.94.0",s=o("@braintree/wrap-promise"),c=o("../lib/errors");function f(n){return n.authorization?a.initialize(n):Promise.reject(new t({type:c.INSTANTIATION_OPTION_REQUIRED.type,code:c.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}l.exports={create:s(f),VERSION:i}},{"../lib/braintree-error":32,"../lib/errors":39,"./client":10,"@braintree/wrap-promise":8}],15:[function(o,l,m){"use strict";var t=o("../../lib/querystring"),a=o("../../lib/assign").assign,i=o("./prep-body"),s=o("./parse-body"),c=o("./xhr"),f=c.isAvailable,n=o("./graphql/request"),p=o("./default-request"),d=1,h=408;function E(r){return!r||r===h}function O(r){var u=!r.data&&r.errors&&r.errors[0]&&r.errors[0].extensions&&r.errors[0].extensions.errorClass;return u==="UNKNOWN"||u==="INTERNAL"}function g(r,u,_){var y,A,b,N,v,T,I,C=r.url,P=r.graphQL,S=r.timeout,R=c.getRequestObject(),L=_,w=!!(P&&P.isGraphQLRequest(C,r.data));r.headers=a({"Content-Type":"application/json"},r.headers),w?b=new n(r):b=new p(r),C=b.getUrl(),N=b.getBody(),v=b.getMethod(),T=b.getHeaders(),v==="GET"&&(C=t.queryify(C,N),N=null),f?R.onreadystatechange=function(){if(R.readyState===4){if(R.status===0&&w){delete r.graphQL,g(r,u,_);return}if(I=s(R.responseText),A=b.adaptResponseBody(I),y=b.determineStatus(R.status,I),y>=400||y<200){if(w&&O(I)){delete r.graphQL,g(r,u,_);return}if(u<d&&E(y)){u++,g(r,u,_);return}L(A||"error",null,y||500)}else L(null,A,y)}}:(r.headers&&(C=t.queryify(C,T)),R.onload=function(){L(null,s(R.responseText),R.status)},R.onerror=function(){L("error",null,500)},R.onprogress=function(){},R.ontimeout=function(){L("timeout",null,-1)});try{R.open(v,C,!0)}catch(U){if(!w)throw U;delete r.graphQL,g(r,u,_);return}R.timeout=S,f&&Object.keys(T).forEach(function(U){R.setRequestHeader(U,T[U])});try{R.send(i(v,N))}catch{}}function e(r,u){g(r,0,u)}l.exports={request:e}},{"../../lib/assign":31,"../../lib/querystring":45,"./default-request":16,"./graphql/request":23,"./parse-body":25,"./prep-body":26,"./xhr":27}],16:[function(o,l,m){"use strict";function t(a){this._url=a.url,this._data=a.data,this._method=a.method,this._headers=a.headers}t.prototype.getUrl=function(){return this._url},t.prototype.getBody=function(){return this._data},t.prototype.getMethod=function(){return this._method},t.prototype.getHeaders=function(){return this._headers},t.prototype.adaptResponseBody=function(a){return a},t.prototype.determineStatus=function(a){return a},l.exports=t},{}],17:[function(o,l,m){"use strict";var t=o("./error"),a=o("../../../../lib/assign").assign,i={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};function s(n,p){var d;return n.data&&!n.errors?d=c(n,p):d=t(n),d}function c(n,p){var d=n.data.clientConfiguration,h;return h={environment:d.environment.toLowerCase(),clientApiUrl:d.clientApiUrl,assetsUrl:d.assetsUrl,analytics:{url:d.analyticsUrl},merchantId:d.merchantId,venmo:"off"},d.supportedFeatures&&(h.graphQL={url:p._graphQL._config.url,features:d.supportedFeatures.map(function(E){return E.toLowerCase()})}),d.braintreeApi&&(h.braintreeApi=d.braintreeApi),d.applePayWeb&&(h.applePayWeb=d.applePayWeb,h.applePayWeb.supportedNetworks=f(d.applePayWeb.supportedCardBrands,i.applePayWeb),delete h.applePayWeb.supportedCardBrands),d.ideal&&(h.ideal=d.ideal),d.kount&&(h.kount={kountMerchantId:d.kount.merchantId}),d.creditCard?(h.challenges=d.creditCard.challenges.map(function(E){return E.toLowerCase()}),h.creditCards={supportedCardTypes:f(d.creditCard.supportedCardBrands,i.creditCard)},h.threeDSecureEnabled=d.creditCard.threeDSecureEnabled,h.threeDSecure=d.creditCard.threeDSecure):(h.challenges=[],h.creditCards={supportedCardTypes:[]},h.threeDSecureEnabled=!1),d.googlePay&&(h.androidPay={displayName:d.googlePay.displayName,enabled:!0,environment:d.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:d.googlePay.googleAuthorization,paypalClientId:d.googlePay.paypalClientId,supportedNetworks:f(d.googlePay.supportedCardBrands,i.googlePay)}),d.venmo&&(h.payWithVenmo={merchantId:d.venmo.merchantId,accessToken:d.venmo.accessToken,environment:d.venmo.environment.toLowerCase()}),d.paypal?(h.paypalEnabled=!0,h.paypal=a({},d.paypal),h.paypal.currencyIsoCode=h.paypal.currencyCode,h.paypal.environment=h.paypal.environment.toLowerCase(),delete h.paypal.currencyCode):h.paypalEnabled=!1,d.unionPay&&(h.unionPay={enabled:!0,merchantAccountId:d.unionPay.merchantAccountId}),d.visaCheckout&&(h.visaCheckout={apikey:d.visaCheckout.apiKey,encryptionKey:d.visaCheckout.encryptionKey,externalClientId:d.visaCheckout.externalClientId,supportedCardTypes:f(d.visaCheckout.supportedCardBrands,i.visaCheckout)}),d.masterpass&&(h.masterpass={merchantCheckoutId:d.masterpass.merchantCheckoutId,supportedNetworks:f(d.masterpass.supportedCardBrands,i.masterpass)}),d.usBankAccount&&(h.usBankAccount={routeId:d.usBankAccount.routeId,plaid:{publicKey:d.usBankAccount.plaidPublicKey}}),h}function f(n,p){return n.reduce(function(d,h){return p.hasOwnProperty(h)?d.concat(p[h]):d},[])}l.exports=s},{"../../../../lib/assign":31,"./error":19}],18:[function(o,l,m){"use strict";var t=o("./error"),a={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},i={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},s={PSDTWO:"psd2"};function c(n){var p;return n.data&&!n.errors?p=f(n):p=t(n),p}function f(n){var p=n.data.tokenizeCreditCard,d=p.creditCard,h=d.last4?d.last4.substr(2,4):"",E=d.binData,O,g;return E&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(e){E[e]?E[e]=i[E[e]]:E[e]="Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(e){E[e]||(E[e]="Unknown")})),O={creditCards:[{binData:E,consumed:!1,description:h?"ending in "+h:"",nonce:p.token,details:{cardholderName:d.cardholderName,expirationMonth:d.expirationMonth,expirationYear:d.expirationYear,bin:d.bin||"",cardType:a[d.brandCode]||"Unknown",lastFour:d.last4||"",lastTwo:h},type:"CreditCard",threeDSecureInfo:null}]},p.authenticationInsight&&(g=p.authenticationInsight.customerAuthenticationRegulationEnvironment,O.creditCards[0].authenticationInsight={regulationEnvironment:s[g]||g.toLowerCase()}),O}l.exports=c},{"./error":19}],19:[function(o,l,m){"use strict";function t(n){var p,d=n.errors&&n.errors[0]&&n.errors[0].extensions&&n.errors[0].extensions.errorClass;return d==="VALIDATION"?p=i(n):d?p=a(n):p={error:{message:"There was a problem serving your request"},fieldErrors:[]},p}function a(n){return{error:{message:n.errors[0].message},fieldErrors:[]}}function i(n){var p=s(n.errors);return p.length===0?{error:{message:n.errors[0].message}}:{error:{message:f(p)},fieldErrors:p}}function s(n){var p=[];return n.forEach(function(d){d.extensions&&d.extensions.inputPath&&c(d.extensions.inputPath.slice(1),d,p)}),p}function c(n,p,d){var h,E=p.extensions.legacyCode,O=n[0];if(n.length===1){d.push({code:E,field:O,message:p.message});return}d.forEach(function(g){g.field===O&&(h=g)}),h||(h={field:O,fieldErrors:[]},d.push(h)),c(n.slice(1),p,h.fieldErrors)}function f(n){var p={creditCard:"Credit card is invalid"},d=n[0].field;return p[d]}l.exports=t},{}],20:[function(o,l,m){"use strict";var t="query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }";function a(){return{query:t,operationName:"ClientConfiguration"}}l.exports=a},{}],21:[function(o,l,m){"use strict";var t=o("../../../../lib/assign").assign;function a(f){var n=f.hasAuthenticationInsight,p="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!";return n&&(p+=", $authenticationInsightInput: AuthenticationInsightInput!"),p+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",n&&(p+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),p+="  } }",p}function i(f,n){var p=f.creditCard,d=p&&p.billingAddress,h=p&&p.expirationDate,E=p&&(p.expirationMonth||h&&h.split("/")[0].trim()),O=p&&(p.expirationYear||h&&h.split("/")[1].trim()),g={input:{creditCard:{number:p&&p.number,expirationMonth:E,expirationYear:O,cvv:p&&p.cvv,cardholderName:p&&p.cardholderName},options:{}}};return n.hasAuthenticationInsight&&(g.authenticationInsightInput={merchantAccountId:f.merchantAccountId}),d&&(g.input.creditCard.billingAddress=d),g.input=s(f,g.input),g}function s(f,n){var p;return f.creditCard&&f.creditCard.options&&typeof f.creditCard.options.validate=="boolean"?p=f.creditCard.options.validate:f.authorizationFingerprint&&f.tokenizationKey||f.authorizationFingerprint?p=!0:f.tokenizationKey&&(p=!1),typeof p=="boolean"&&(n.options=t({validate:p},n.options)),n}function c(f){var n={hasAuthenticationInsight:!!(f.authenticationInsight&&f.merchantAccountId)};return{query:a(n),variables:i(f,n),operationName:"TokenizeCreditCard"}}l.exports=c},{"../../../../lib/assign":31}],22:[function(o,l,m){"use strict";var t={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},a=["creditCard.options.unionPayEnrollment"];function i(c){this._config=c.graphQL}i.prototype.getGraphQLEndpoint=function(){return this._config.url},i.prototype.isGraphQLRequest=function(c,f){var n,p=this.getClientApiPath(c);return!this._isGraphQLEnabled()||!p||(n=this._config.features.some(function(d){return t[d]===p}),s(f))?!1:n},i.prototype.getClientApiPath=function(c){var f,n="/client_api/v1/",p=c.split(n);return p.length>1&&(f=p[1].split("?")[0]),f},i.prototype._isGraphQLEnabled=function(){return!!this._config};function s(c){return a.some(function(f){var n=f.split(".").reduce(function(p,d){return p&&p[d]},c);return n!==void 0})}l.exports=i},{}],23:[function(o,l,m){"use strict";var t=o("../../constants").BRAINTREE_VERSION,a=o("../../../lib/assign").assign,i=o("../../../lib/snake-case-to-camel-case"),s=o("./generators/credit-card-tokenization"),c=o("./adapters/credit-card-tokenization"),f=o("./generators/configuration"),n=o("./adapters/configuration"),p={"payment_methods/credit_cards":s,configuration:f},d={"payment_methods/credit_cards":c,configuration:n};function h(g){var e=g.graphQL.getClientApiPath(g.url);this._graphQL=g.graphQL,this._data=g.data,this._method=g.method,this._headers=g.headers,this._clientSdkMetadata={source:g.metadata.source,integration:g.metadata.integration,sessionId:g.metadata.sessionId},this._sendAnalyticsEvent=g.sendAnalyticsEvent||Function.prototype,this._generator=p[e],this._adapter=d[e],this._sendAnalyticsEvent("graphql.init")}h.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},h.prototype.getBody=function(){var g=O(this._data),e=this._generator(g),r=a({clientSdkMetadata:this._clientSdkMetadata},e);return JSON.stringify(r)},h.prototype.getMethod=function(){return"POST"},h.prototype.getHeaders=function(){var g,e;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),g=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),g=this._data.tokenizationKey),e={Authorization:"Bearer "+g,"Braintree-Version":t},a({},this._headers,e)},h.prototype.adaptResponseBody=function(g){return this._adapter(g,this)},h.prototype.determineStatus=function(g,e){var r,u;return g===200?(u=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass,e.data&&!e.errors?r=200:u==="VALIDATION"?r=422:u==="AUTHORIZATION"?r=403:u==="AUTHENTICATION"?r=401:E(u,e)?r=403:r=500):g?r=g:r=500,this._sendAnalyticsEvent("graphql.status."+g),this._sendAnalyticsEvent("graphql.determinedStatus."+r),r};function E(g,e){return!g&&e.errors[0].message}function O(g){var e={};return Object.keys(g).forEach(function(r){var u=i(r);typeof g[r]=="object"?e[u]=O(g[r]):typeof g[r]=="number"?e[u]=String(g[r]):e[u]=g[r]}),e}l.exports=h},{"../../../lib/assign":31,"../../../lib/snake-case-to-camel-case":46,"../../constants":11,"./adapters/configuration":17,"./adapters/credit-card-tokenization":18,"./generators/configuration":20,"./generators/credit-card-tokenization":21}],24:[function(o,l,m){"use strict";var t=o("../../lib/once"),a=o("./ajax-driver");l.exports=function(i,s){s=t(s||Function.prototype),i.method=(i.method||"GET").toUpperCase(),i.timeout=i.timeout==null?6e4:i.timeout,i.data=i.data||{},a.request(i,s)}},{"../../lib/once":44,"./ajax-driver":15}],25:[function(o,l,m){"use strict";l.exports=function(t){try{t=JSON.parse(t)}catch{}return t}},{}],26:[function(o,l,m){"use strict";l.exports=function(t,a){if(typeof t!="string")throw new Error("Method must be a string");return t.toLowerCase()!=="get"&&a!=null&&(a=typeof a=="string"?a:JSON.stringify(a)),a}},{}],27:[function(o,l,m){"use strict";var t=typeof window<"u"&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;function a(){return t?new window.XMLHttpRequest:new window.XDomainRequest}l.exports={isAvailable:t,getRequestObject:a}},{}],28:[function(o,l,m){"use strict";var t=o("./create-authorization-data"),a=o("./json-clone"),i=o("./constants");function s(c,f){var n,p=f?a(f):{},d=t(c.authorization).attrs,h=a(c.analyticsMetadata);p.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION;for(n in p._meta)p._meta.hasOwnProperty(n)&&(h[n]=p._meta[n]);return p._meta=h,d.tokenizationKey?p.tokenizationKey=d.tokenizationKey:p.authorizationFingerprint=d.authorizationFingerprint,p}l.exports=s},{"./constants":33,"./create-authorization-data":36,"./json-clone":42}],29:[function(o,l,m){"use strict";var t=o("./constants"),a=o("./add-metadata");function i(s,c,f){var n=Date.now();return Promise.resolve(s).then(function(p){var d=Date.now(),h=p.getConfiguration(),E=p._request,O=h.gatewayConfiguration.analytics.url,g={analytics:[{kind:t.ANALYTICS_PREFIX+c,isAsync:Math.floor(d/1e3)!==Math.floor(n/1e3),timestamp:n}]};E({url:O,method:"post",data:a(h,g),timeout:t.ANALYTICS_REQUEST_TIMEOUT_MS},f)}).catch(function(p){f&&f(p)})}l.exports={sendEvent:i}},{"./add-metadata":28,"./constants":33}],30:[function(o,l,m){"use strict";var t=o("@braintree/asset-loader/load-script");l.exports={loadScript:t}},{"@braintree/asset-loader/load-script":3}],31:[function(o,l,m){"use strict";var t=typeof Object.assign=="function"?Object.assign:a;function a(i){var s,c,f;for(s=1;s<arguments.length;s++){c=arguments[s];for(f in c)c.hasOwnProperty(f)&&(i[f]=c[f])}return i}l.exports={assign:t,_assign:a}},{}],32:[function(o,l,m){"use strict";var t=o("./enumerate");function a(i){if(!a.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.types=t(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),a.findRootError=function(i){return i instanceof a&&i.details&&i.details.originalError?a.findRootError(i.details.originalError):i},l.exports=a},{"./enumerate":38}],33:[function(o,l,m){"use strict";var t="3.94.0",a="web",i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},s={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},c={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};l.exports={ANALYTICS_PREFIX:a+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:s,CLIENT_API_URLS:i,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:c,INTEGRATION_TIMEOUT_MS:6e4,VERSION:t,INTEGRATION:"custom",SOURCE:"client",PLATFORM:a,BRAINTREE_LIBRARY_VERSION:"braintree/"+a+"/"+t}},{}],34:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./errors");l.exports=function(i,s){s.forEach(function(c){i[c]=function(){throw new t({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:c+" cannot be called after teardown."})}})}},{"./braintree-error":32,"./errors":39}],35:[function(o,l,m){"use strict";var t=o("./braintree-error");function a(i,s){return i instanceof t?i:new t({type:s.type,code:s.code,message:s.message,details:{originalError:i}})}l.exports=a},{"./braintree-error":32}],36:[function(o,l,m){"use strict";var t=o("../lib/vendor/polyfill").atob,a=o("../lib/constants").CLIENT_API_URLS;function i(f){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(f)}function s(f){var n=f.split("_"),p=n[0],d=n.slice(2).join("_");return{merchantId:d,environment:p}}function c(f){var n,p,d={attrs:{},configUrl:""};return i(f)?(p=s(f),d.environment=p.environment,d.attrs.tokenizationKey=f,d.configUrl=a[p.environment]+"/merchants/"+p.merchantId+"/client_api/v1/configuration"):(n=JSON.parse(t(f)),d.environment=n.environment,d.attrs.authorizationFingerprint=n.authorizationFingerprint,d.configUrl=n.configUrl,d.graphQL=n.graphQL),d}l.exports=c},{"../lib/constants":33,"../lib/vendor/polyfill":47}],37:[function(o,l,m){"use strict";l.exports=function(t){return function(){var a=arguments;setTimeout(function(){t.apply(null,a)},1)}}},{}],38:[function(o,l,m){"use strict";function t(a,i){return i=i??"",a.reduce(function(s,c){return s[c]=i+c,s},{})}l.exports=t},{}],39:[function(o,l,m){"use strict";var t=o("./braintree-error");l.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:t.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:t.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:t.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:t.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":32}],40:[function(o,l,m){"use strict";function t(i){var s=i.split("-");return new Date(s[0],s[1],s[2])}function a(i,s){return t(i)<=t(s)}l.exports=a},{}],41:[function(o,l,m){"use strict";var t,a={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};function i(c){return c.split(".").slice(-2).join(".")}function s(c){var f;return c=c.toLowerCase(),/^https:/.test(c)?(t=t||document.createElement("a"),t.href=c,f=i(t.hostname),a.hasOwnProperty(f)):!1}l.exports=s},{}],42:[function(o,l,m){"use strict";l.exports=function(t){return JSON.parse(JSON.stringify(t))}},{}],43:[function(o,l,m){"use strict";l.exports=function(t){return Object.keys(t).filter(function(a){return typeof t[a]=="function"})}},{}],44:[function(o,l,m){"use strict";function t(a){var i=!1;return function(){i||(i=!0,a.apply(null,arguments))}}l.exports=t},{}],45:[function(o,l,m){"use strict";function t(n){var p;for(p in n)if(n.hasOwnProperty(p))return!0;return!1}function a(n){return n&&typeof n=="object"&&typeof n.length=="number"&&Object.prototype.toString.call(n)==="[object Array]"||!1}function i(n){return n=n||window.location.href,/\?/.test(n)}function s(n){var p,d;return n=n||window.location.href,i(n)?(p=n.split("?")[1]||"",p=p.replace(/#.*$/,"").split("&"),d=p.reduce(function(h,E){var O=E.split("="),g=decodeURIComponent(O[0]),e=decodeURIComponent(O[1]);return h[g]=e,h},{}),d):{}}function c(n,p){var d,h,E,O=[];for(E in n)n.hasOwnProperty(E)&&(h=n[E],p?a(n)?d=p+"[]":d=p+"["+E+"]":d=E,typeof h=="object"?O.push(c(h,d)):O.push(encodeURIComponent(d)+"="+encodeURIComponent(h)));return O.join("&")}function f(n,p){return n=n||"",p!=null&&typeof p=="object"&&t(p)&&(n+=n.indexOf("?")===-1?"?":"",n+=n.indexOf("=")!==-1?"&":"",n+=c(p)),n}l.exports={parse:s,stringify:c,queryify:f,hasQueryParams:i}},{}],46:[function(o,l,m){"use strict";l.exports=function(t){return t.indexOf("_")===-1?t:t.toLowerCase().replace(/(\_\w)/g,function(a){return a[1].toUpperCase()})}},{}],47:[function(o,l,m){"use strict";var t=typeof atob=="function"?atob:a;function a(i){var s,c,f,n,p,d,h,E,O=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="";if(!O.test(i))throw new Error("Non base64 encoded input passed to window.atob polyfill");E=0;do n=g.indexOf(i.charAt(E++)),p=g.indexOf(i.charAt(E++)),d=g.indexOf(i.charAt(E++)),h=g.indexOf(i.charAt(E++)),s=(n&63)<<2|p>>4&3,c=(p&15)<<4|d>>2&15,f=(d&3)<<6|h&63,e+=String.fromCharCode(s)+(c?String.fromCharCode(c):"")+(f?String.fromCharCode(f):"");while(E<i.length);return e}l.exports={atob:function(i){return t.call(window,i)},_atob:a}},{}]},{},[14])(14)})})(Q,Q.exports);var ae=Q.exports;const se=q(ae);var Y={exports:{}},Ae=Y.exports;(function(D,B){(function(F){if(!0)D.exports=F();else var j})(function(){var F,j,H;return function(){function o(l,m,t){function a(c,f){if(!m[c]){if(!l[c]){var n=typeof k=="function"&&k;if(!f&&n)return n(c,!0);if(i)return i(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var d=m[c]={exports:{}};l[c][0].call(d.exports,function(h){var E=l[c][1][h];return a(E||h)},d,d.exports,o,l,m,t)}return m[c].exports}for(var i=typeof k=="function"&&k,s=0;s<t.length;s++)a(t[s]);return a}return o}()({1:[function(o,l,m){"use strict";var t=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(m,"__esModule",{value:!0}),m.PromiseGlobal=void 0;var a=t(o("promise-polyfill")),i=typeof Promise<"u"?Promise:a.default;m.PromiseGlobal=i},{"promise-polyfill":45}],2:[function(o,l,m){"use strict";var t=o("./lib/promise"),a={};function i(s){var c,f=JSON.stringify(s);if(!s.forceScriptReload&&(c=a[f],c))return c;var n=document.createElement("script"),p=s.dataAttributes||{},d=s.container||document.head;return n.src=s.src,n.id=s.id||"",n.async=!0,s.crossorigin&&n.setAttribute("crossorigin",""+s.crossorigin),Object.keys(p).forEach(function(h){n.setAttribute("data-"+h,""+p[h])}),c=new t.PromiseGlobal(function(h,E){n.addEventListener("load",function(){h(n)}),n.addEventListener("error",function(){E(new Error(s.src+" failed to load."))}),n.addEventListener("abort",function(){E(new Error(s.src+" has aborted."))}),d.appendChild(n)}),a[f]=c,c}i.clearCache=function(){a={}},l.exports=i},{"./lib/promise":1}],3:[function(o,l,m){l.exports=o("./dist/load-script")},{"./dist/load-script":2}],4:[function(o,l,m){"use strict";l.exports=function(a){return a=a||window.navigator.userAgent,/Android/i.test(a)}},{}],5:[function(o,l,m){"use strict";var t=o("./is-edge"),a=o("./is-samsung"),i=o("./is-duckduckgo"),s=o("./is-opera"),c=o("./is-silk");l.exports=function(n){return n=n||window.navigator.userAgent,(n.indexOf("Chrome")!==-1||n.indexOf("CriOS")!==-1)&&!t(n)&&!a(n)&&!i(n)&&!s(n)&&!c(n)}},{"./is-duckduckgo":6,"./is-edge":7,"./is-opera":13,"./is-samsung":14,"./is-silk":15}],6:[function(o,l,m){"use strict";l.exports=function(a){return a=a||window.navigator.userAgent,a.indexOf("DuckDuckGo/")!==-1}},{}],7:[function(o,l,m){"use strict";l.exports=function(a){return a=a||window.navigator.userAgent,a.indexOf("Edge/")!==-1}},{}],8:[function(o,l,m){"use strict";l.exports=function(a){return a=a||window.navigator.userAgent,/FxiOS/i.test(a)}},{}],9:[function(o,l,m){"use strict";var t=o("./is-ios");function a(i){return/\bGSA\b/.test(i)}l.exports=function(s){return s=s||window.navigator.userAgent,t(s)&&a(s)}},{"./is-ios":12}],10:[function(o,l,m){"use strict";var t=o("./is-ios"),a=o("./is-ios-google-search-app");l.exports=function(s){return s=s||window.navigator.userAgent,t(s)?a(s)?!0:/.+AppleWebKit(?!.*Safari)/i.test(s):!1}},{"./is-ios":12,"./is-ios-google-search-app":9}],11:[function(o,l,m){"use strict";var t=o("./is-ios-webview");l.exports=function(i,s){return s=typeof s<"u"?s:window.statusbar.visible,t(i)&&s}},{"./is-ios-webview":10}],12:[function(o,l,m){"use strict";l.exports=function(a){return a=a||window.navigator.userAgent,/iPhone|iPod|iPad/i.test(a)}},{}],13:[function(o,l,m){"use strict";l.exports=function(a){return a=a||window.navigator.userAgent,a.indexOf("OPR/")!==-1||a.indexOf("Opera/")!==-1||a.indexOf("OPT/")!==-1}},{}],14:[function(o,l,m){"use strict";l.exports=function(a){return a=a||window.navigator.userAgent,/SamsungBrowser/i.test(a)}},{}],15:[function(o,l,m){"use strict";l.exports=function(a){return a=a||window.navigator.userAgent,a.indexOf("Silk/")!==-1}},{}],16:[function(o,l,m){"use strict";var t=48,a=o("./is-android"),i=o("./is-ios-firefox"),s=o("./is-ios-webview"),c=o("./is-chrome"),f=o("./is-samsung"),n=o("./is-duckduckgo");function p(O){O=O||window.navigator.userAgent;var g=O.match(/CriOS\/(\d+)\./);if(!g)return!1;var e=parseInt(g[1],10);return e<t}function d(O){return O=O||window.navigator.userAgent,O.indexOf("Opera Mini")>-1}function h(O){var g=/Version\/[\d.]+/i;return O=O||window.navigator.userAgent,a(O)?g.test(O)&&!d(O)&&!n(O):!1}function E(O){return!c(O)&&!f(O)&&/samsung/i.test(O)}l.exports=function(g){return g=g||window.navigator.userAgent,!(s(g)||i(g)||h(g)||d(g)||p(g)||E(g))}},{"./is-android":4,"./is-chrome":5,"./is-duckduckgo":6,"./is-ios-firefox":8,"./is-ios-webview":10,"./is-samsung":14}],17:[function(o,l,m){l.exports=o("./dist/is-ios-wkwebview")},{"./dist/is-ios-wkwebview":11}],18:[function(o,l,m){l.exports=o("./dist/is-ios")},{"./dist/is-ios":12}],19:[function(o,l,m){l.exports=o("./dist/supports-popups")},{"./dist/supports-popups":16}],20:[function(o,l,m){"use strict";var t=typeof Promise<"u"?Promise:null,a=function(){function i(s){var c=this;if(typeof s=="function"){this._promise=new i.Promise(s);return}this._promise=new i.Promise(function(f,n){c._resolveFunction=f,c._rejectFunction=n}),s=s||{},this._onResolve=s.onResolve||i.defaultOnResolve,this._onReject=s.onReject||i.defaultOnReject,i.shouldCatchExceptions(s)&&this._promise.catch(function(){}),this._resetState()}return i.defaultOnResolve=function(s){return i.Promise.resolve(s)},i.defaultOnReject=function(s){return i.Promise.reject(s)},i.setPromise=function(s){i.Promise=s},i.shouldCatchExceptions=function(s){return s.hasOwnProperty("suppressUnhandledPromiseMessage")?!!s.suppressUnhandledPromiseMessage:!!i.suppressUnhandledPromiseMessage},i.all=function(s){return i.Promise.all(s)},i.allSettled=function(s){return i.Promise.allSettled(s)},i.race=function(s){return i.Promise.race(s)},i.reject=function(s){return i.Promise.reject(s)},i.resolve=function(s){return i.Promise.resolve(s)},i.prototype.then=function(){for(var s,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return(s=this._promise).then.apply(s,c)},i.prototype.catch=function(){for(var s,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return(s=this._promise).catch.apply(s,c)},i.prototype.resolve=function(s){var c=this;return this.isFulfilled?this:(this._setResolved(),i.Promise.resolve().then(function(){return c._onResolve(s)}).then(function(f){c._resolveFunction(f)}).catch(function(f){c._resetState(),c.reject(f)}),this)},i.prototype.reject=function(s){var c=this;return this.isFulfilled?this:(this._setRejected(),i.Promise.resolve().then(function(){return c._onReject(s)}).then(function(f){c._setResolved(),c._resolveFunction(f)}).catch(function(f){return c._rejectFunction(f)}),this)},i.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},i.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},i.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},i.Promise=t,i}();l.exports=a},{}],21:[function(o,l,m){"use strict";var t=o("./lib/set-attributes"),a=o("./lib/default-attributes"),i=o("./lib/assign");l.exports=function(c){c===void 0&&(c={});var f=document.createElement("iframe"),n=i.assign({},a.defaultAttributes,c);return n.style&&typeof n.style!="string"&&(i.assign(f.style,n.style),delete n.style),t.setAttributes(f,n),f.getAttribute("id")||(f.id=f.name),f}},{"./lib/assign":22,"./lib/default-attributes":23,"./lib/set-attributes":24}],22:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.assign=void 0;function t(a){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return i.forEach(function(c){typeof c=="object"&&Object.keys(c).forEach(function(f){a[f]=c[f]})}),a}m.assign=t},{}],23:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.defaultAttributes=void 0,m.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],24:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.setAttributes=void 0;function t(a,i){for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];c==null?a.removeAttribute(s):a.setAttribute(s,c)}}m.setAttributes=t},{}],25:[function(o,l,m){"use strict";function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var i=Math.random()*16|0,s=a==="x"?i:i&3|8;return s.toString(16)})}l.exports=t},{}],26:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];setTimeout(function(){try{a.apply(void 0,i)}catch(c){console.log("Error in callback function"),console.log(c)}},1)}}m.deferred=t},{}],27:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a){var i=!1;return function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];i||(i=!0,a.apply(void 0,s))}}m.once=t},{}],28:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a,i){if(!i)return a;a.then(function(s){return i(null,s)}).catch(function(s){return i(s)})}m.promiseOrCallback=t},{}],29:[function(o,l,m){"use strict";var t=o("./lib/deferred"),a=o("./lib/once"),i=o("./lib/promise-or-callback");function s(c){return function(){for(var f=[],n=0;n<arguments.length;n++)f[n]=arguments[n];var p,d=f[f.length-1];return typeof d=="function"&&(p=f.pop(),p=a.once(t.deferred(p))),i.promiseOrCallback(c.apply(this,f),p)}}s.wrapPrototype=function(c,f){f===void 0&&(f={});var n=f.ignoreMethods||[],p=f.transformPrivateMethods===!0,d=Object.getOwnPropertyNames(c.prototype).filter(function(h){var E,O=h!=="constructor"&&typeof c.prototype[h]=="function",g=n.indexOf(h)===-1;return p?E=!0:E=h.charAt(0)!=="_",O&&E&&g});return d.forEach(function(h){var E=c.prototype[h];c.prototype[h]=s(E)}),c},l.exports=s},{"./lib/deferred":26,"./lib/once":27,"./lib/promise-or-callback":28}],30:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.Framebus=void 0;var t=o("./lib/is-not-string"),a=o("./lib/subscription-args-invalid"),i=o("./lib/broadcast"),s=o("./lib/package-payload"),c=o("./lib/send-message"),f=o("./lib/constants"),n=typeof window<"u"&&window.Promise,p=function(){function d(h){h===void 0&&(h={}),this.origin=h.origin||"*",this.channel=h.channel||"",this.verifyDomain=h.verifyDomain,this.targetFrames=h.targetFrames||[],this.limitBroadcastToFramesArray=!!h.targetFrames,this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=!!(this.verifyDomain||this.limitBroadcastToFramesArray)}return d.setPromise=function(h){d.Promise=h},d.target=function(h){return new d(h)},d.prototype.addTargetFrame=function(h){this.limitBroadcastToFramesArray&&this.targetFrames.push(h)},d.prototype.include=function(h){return h==null||h.Window==null||h.constructor!==h.Window?!1:(f.childWindows.push(h),!0)},d.prototype.target=function(h){return d.target(h)},d.prototype.emit=function(h,E,O){if(this.isDestroyed)return!1;var g=this.origin;if(h=this.namespaceEvent(h),(0,t.isntString)(h)||(0,t.isntString)(g))return!1;typeof E=="function"&&(O=E,E=void 0);var e=(0,s.packagePayload)(h,g,E,O);return e?(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(r){(0,c.sendMessage)(r,e,g)}):(0,i.broadcast)(e,{origin:g,frame:window.top||window.self}),!0):!1},d.prototype.emitAsPromise=function(h,E){var O=this;return new d.Promise(function(g,e){var r=O.emit(h,E,function(u){g(u)});r||e(new Error('Listener not added for "'.concat(h,'"')))})},d.prototype.on=function(h,E){if(this.isDestroyed)return!1;var O=this,g=this.origin,e=E;return h=this.namespaceEvent(h),(0,a.subscriptionArgsInvalid)(h,e,g)?!1:(this.hasAdditionalChecksForOnListeners&&(e=function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];O.passesVerifyDomainCheck(this&&this.origin)&&O.hasMatchingTargetFrame(this&&this.source)&&E.apply(void 0,r)}),this.listeners.push({eventName:h,handler:e,originalHandler:E}),f.subscribers[g]=f.subscribers[g]||{},f.subscribers[g][h]=f.subscribers[g][h]||[],f.subscribers[g][h].push(e),!0)},d.prototype.off=function(h,E){var O=E;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var g=0;g<this.listeners.length;g++){var e=this.listeners[g];e.originalHandler===E&&(O=e.handler)}h=this.namespaceEvent(h);var r=this.origin;if((0,a.subscriptionArgsInvalid)(h,O,r))return!1;var u=f.subscribers[r]&&f.subscribers[r][h];if(!u)return!1;for(var g=0;g<u.length;g++)if(u[g]===O)return u.splice(g,1),!0;return!1},d.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var h=0;h<this.listeners.length;h++){var E=this.listeners[h];this.off(E.eventName,E.handler)}this.listeners.length=0}},d.prototype.passesVerifyDomainCheck=function(h){return this.verifyDomain?this.checkOrigin(h):!0},d.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(h){return h instanceof HTMLIFrameElement?h.contentWindow:h}).filter(function(h){return h}):[]},d.prototype.hasMatchingTargetFrame=function(h){if(!this.limitBroadcastToFramesArray)return!0;var E=this.targetFramesAsWindows().find(function(O){return O===h});return!!E},d.prototype.checkOrigin=function(h){var E,O=document.createElement("a");O.href=location.href,O.protocol==="https:"?E=O.host.replace(/:443$/,""):O.protocol==="http:"?E=O.host.replace(/:80$/,""):E=O.host;var g=O.protocol+"//"+E;return g===h?!0:this.verifyDomain?this.verifyDomain(h):!0},d.prototype.namespaceEvent=function(h){return this.channel?"".concat(this.channel,":").concat(h):h},d.Promise=n,d}();m.Framebus=p},{"./lib/broadcast":34,"./lib/constants":35,"./lib/is-not-string":38,"./lib/package-payload":40,"./lib/send-message":41,"./lib/subscription-args-invalid":43}],31:[function(o,l,m){"use strict";var t=o("./lib/attach"),a=o("./framebus");(0,t.attach)(),l.exports=a.Framebus},{"./framebus":30,"./lib/attach":32}],32:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.detach=m.attach=void 0;var t=o("./message"),a=!1;function i(){a||typeof window>"u"||(a=!0,window.addEventListener("message",t.onmessage,!1))}m.attach=i;function s(){a=!1,window.removeEventListener("message",t.onmessage,!1)}m.detach=s},{"./message":39}],33:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.broadcastToChildWindows=void 0;var t=o("./broadcast"),a=o("./constants");function i(s,c,f){for(var n=a.childWindows.length-1;n>=0;n--){var p=a.childWindows[n];p.closed?a.childWindows.splice(n,1):f!==p&&(0,t.broadcast)(s,{origin:c,frame:p.top})}}m.broadcastToChildWindows=i},{"./broadcast":34,"./constants":35}],34:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.broadcast=void 0;var t=o("./has-opener");function a(i,s){var c=0,f,n=s.origin,p=s.frame;try{for(p.postMessage(i,n),(0,t.hasOpener)(p)&&p.opener.top!==window.top&&a(i,{origin:n,frame:p.opener.top});f=p.frames[c];)a(i,{origin:n,frame:f}),c++}catch{}}m.broadcast=a},{"./has-opener":37}],35:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.subscribers=m.childWindows=m.prefix=void 0,m.prefix="/*framebus*/",m.childWindows=[],m.subscribers={}},{}],36:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.dispatch=void 0;var t=o("./constants");function a(i,s,c,f,n){if(t.subscribers[i]&&t.subscribers[i][s]){var p=[];c&&p.push(c),f&&p.push(f);for(var d=0;d<t.subscribers[i][s].length;d++)t.subscribers[i][s][d].apply(n,p)}}m.dispatch=a},{"./constants":35}],37:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.hasOpener=void 0;function t(a){return!(a.top!==a||a.opener==null||a.opener===a||a.opener.closed===!0)}m.hasOpener=t},{}],38:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.isntString=void 0;function t(a){return typeof a!="string"}m.isntString=t},{}],39:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.onmessage=void 0;var t=o("./is-not-string"),a=o("./unpack-payload"),i=o("./dispatch"),s=o("./broadcast-to-child-windows");function c(f){if(!(0,t.isntString)(f.data)){var n=(0,a.unpackPayload)(f);if(n){var p=n.eventData,d=n.reply;(0,i.dispatch)("*",n.event,p,d,f),(0,i.dispatch)(f.origin,n.event,p,d,f),(0,s.broadcastToChildWindows)(f.data,n.origin,f.source)}}}m.onmessage=c},{"./broadcast-to-child-windows":33,"./dispatch":36,"./is-not-string":38,"./unpack-payload":44}],40:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.packagePayload=void 0;var t=o("./subscribe-replier"),a=o("./constants");function i(s,c,f,n){var p,d={event:s,origin:c};typeof n=="function"&&(d.reply=(0,t.subscribeReplier)(n,c)),d.eventData=f;try{p=a.prefix+JSON.stringify(d)}catch(h){throw new Error("Could not stringify event: ".concat(h.message))}return p}m.packagePayload=i},{"./constants":35,"./subscribe-replier":42}],41:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.sendMessage=void 0;function t(a,i,s){try{a.postMessage(i,s)}catch{}}m.sendMessage=t},{}],42:[function(o,l,m){"use strict";var t=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(m,"__esModule",{value:!0}),m.subscribeReplier=void 0;var a=o("../framebus"),i=t(o("@braintree/uuid"));function s(c,f){var n=(0,i.default)();function p(d,h){c(d,h),a.Framebus.target({origin:f}).off(n,p)}return a.Framebus.target({origin:f}).on(n,p),n}m.subscribeReplier=s},{"../framebus":30,"@braintree/uuid":25}],43:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.subscriptionArgsInvalid=void 0;var t=o("./is-not-string");function a(i,s,c){return(0,t.isntString)(i)||typeof s!="function"?!0:(0,t.isntString)(c)}m.subscriptionArgsInvalid=a},{"./is-not-string":38}],44:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.unpackPayload=void 0;var t=o("./constants"),a=o("./package-payload");function i(s){var c;if(s.data.slice(0,t.prefix.length)!==t.prefix)return!1;try{c=JSON.parse(s.data.slice(t.prefix.length))}catch{return!1}if(c.reply){var f=s.origin,n=s.source,p=c.reply;c.reply=function(h){if(n){var E=(0,a.packagePayload)(p,f,h);E&&n.postMessage(E,f)}}}return c}m.unpackPayload=i},{"./constants":35,"./package-payload":40}],45:[function(o,l,m){"use strict";function t(e){var r=this.constructor;return this.then(function(u){return r.resolve(e()).then(function(){return u})},function(u){return r.resolve(e()).then(function(){return r.reject(u)})})}function a(e){var r=this;return new r(function(u,_){if(!(e&&typeof e.length<"u"))return _(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var y=Array.prototype.slice.call(e);if(y.length===0)return u([]);var A=y.length;function b(v,T){if(T&&(typeof T=="object"||typeof T=="function")){var I=T.then;if(typeof I=="function"){I.call(T,function(C){b(v,C)},function(C){y[v]={status:"rejected",reason:C},--A===0&&u(y)});return}}y[v]={status:"fulfilled",value:T},--A===0&&u(y)}for(var N=0;N<y.length;N++)b(N,y[N])})}var i=setTimeout;function s(e){return!!(e&&typeof e.length<"u")}function c(){}function f(e,r){return function(){e.apply(r,arguments)}}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function p(e,r){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(r);return}e._handled=!0,n._immediateFn(function(){var u=e._state===1?r.onFulfilled:r.onRejected;if(u===null){(e._state===1?d:h)(r.promise,e._value);return}var _;try{_=u(e._value)}catch(y){h(r.promise,y);return}d(r.promise,_)})}function d(e,r){try{if(r===e)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var u=r.then;if(r instanceof n){e._state=3,e._value=r,E(e);return}else if(typeof u=="function"){g(f(u,r),e);return}}e._state=1,e._value=r,E(e)}catch(_){h(e,_)}}function h(e,r){e._state=2,e._value=r,E(e)}function E(e){e._state===2&&e._deferreds.length===0&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var r=0,u=e._deferreds.length;r<u;r++)p(e,e._deferreds[r]);e._deferreds=null}function O(e,r,u){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof r=="function"?r:null,this.promise=u}function g(e,r){var u=!1;try{e(function(_){u||(u=!0,d(r,_))},function(_){u||(u=!0,h(r,_))})}catch(_){if(u)return;u=!0,h(r,_)}}n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,r){var u=new this.constructor(c);return p(this,new O(e,r,u)),u},n.prototype.finally=t,n.all=function(e){return new n(function(r,u){if(!s(e))return u(new TypeError("Promise.all accepts an array"));var _=Array.prototype.slice.call(e);if(_.length===0)return r([]);var y=_.length;function A(N,v){try{if(v&&(typeof v=="object"||typeof v=="function")){var T=v.then;if(typeof T=="function"){T.call(v,function(I){A(N,I)},u);return}}_[N]=v,--y===0&&r(_)}catch(I){u(I)}}for(var b=0;b<_.length;b++)A(b,_[b])})},n.allSettled=a,n.resolve=function(e){return e&&typeof e=="object"&&e.constructor===n?e:new n(function(r){r(e)})},n.reject=function(e){return new n(function(r,u){u(e)})},n.race=function(e){return new n(function(r,u){if(!s(e))return u(new TypeError("Promise.race accepts an array"));for(var _=0,y=e.length;_<y;_++)n.resolve(e[_]).then(r,u)})},n._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){i(e,0)},n._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)},l.exports=n},{}],46:[function(o,l,m){"use strict";var t=o("./create-authorization-data"),a=o("./json-clone"),i=o("./constants");function s(c,f){var n,p=f?a(f):{},d=t(c.authorization).attrs,h=a(c.analyticsMetadata);p.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION;for(n in p._meta)p._meta.hasOwnProperty(n)&&(h[n]=p._meta[n]);return p._meta=h,d.tokenizationKey?p.tokenizationKey=d.tokenizationKey:p.authorizationFingerprint=d.authorizationFingerprint,p}l.exports=s},{"./constants":52,"./create-authorization-data":56,"./json-clone":71}],47:[function(o,l,m){"use strict";var t=o("./constants"),a=o("./add-metadata");function i(s,c,f){var n=Date.now();return Promise.resolve(s).then(function(p){var d=Date.now(),h=p.getConfiguration(),E=p._request,O=h.gatewayConfiguration.analytics.url,g={analytics:[{kind:t.ANALYTICS_PREFIX+c,isAsync:Math.floor(d/1e3)!==Math.floor(n/1e3),timestamp:n}]};E({url:O,method:"post",data:a(h,g),timeout:t.ANALYTICS_REQUEST_TIMEOUT_MS},f)}).catch(function(p){f&&f(p)})}l.exports={sendEvent:i}},{"./add-metadata":46,"./constants":52}],48:[function(o,l,m){"use strict";var t=o("@braintree/asset-loader/load-script");l.exports={loadScript:t}},{"@braintree/asset-loader/load-script":3}],49:[function(o,l,m){"use strict";var t=typeof Object.assign=="function"?Object.assign:a;function a(i){var s,c,f;for(s=1;s<arguments.length;s++){c=arguments[s];for(f in c)c.hasOwnProperty(f)&&(i[f]=c[f])}return i}l.exports={assign:t,_assign:a}},{}],50:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./errors"),i="3.94.0";function s(c){var f,n,p;return c?(p=c.name,f=c.client,n=c.authorization,!f&&!n?Promise.reject(new t({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+p+"."})):!n&&f.getVersion()!==i?Promise.reject(new t({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+f.getVersion()+") and "+p+" (version "+i+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new t({type:a.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:a.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}l.exports={verify:s}},{"./braintree-error":51,"./errors":59}],51:[function(o,l,m){"use strict";var t=o("./enumerate");function a(i){if(!a.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.types=t(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),a.findRootError=function(i){return i instanceof a&&i.details&&i.details.originalError?a.findRootError(i.details.originalError):i},l.exports=a},{"./enumerate":58}],52:[function(o,l,m){"use strict";var t="3.94.0",a="web",i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},s={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},c={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};l.exports={ANALYTICS_PREFIX:a+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:s,CLIENT_API_URLS:i,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:c,INTEGRATION_TIMEOUT_MS:6e4,VERSION:t,INTEGRATION:"custom",SOURCE:"client",PLATFORM:a,BRAINTREE_LIBRARY_VERSION:"braintree/"+a+"/"+t}},{}],53:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./errors");l.exports=function(i,s){s.forEach(function(c){i[c]=function(){throw new t({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:c+" cannot be called after teardown."})}})}},{"./braintree-error":51,"./errors":59}],54:[function(o,l,m){"use strict";var t=o("./braintree-error");function a(i,s){return i instanceof t?i:new t({type:s.type,code:s.code,message:s.message,details:{originalError:i}})}l.exports=a},{"./braintree-error":51}],55:[function(o,l,m){"use strict";var t=o("./constants").ASSETS_URLS;function a(i){return t.production}l.exports={create:a}},{"./constants":52}],56:[function(o,l,m){"use strict";var t=o("../lib/vendor/polyfill").atob,a=o("../lib/constants").CLIENT_API_URLS;function i(f){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(f)}function s(f){var n=f.split("_"),p=n[0],d=n.slice(2).join("_");return{merchantId:d,environment:p}}function c(f){var n,p,d={attrs:{},configUrl:""};return i(f)?(p=s(f),d.environment=p.environment,d.attrs.tokenizationKey=f,d.configUrl=a[p.environment]+"/merchants/"+p.merchantId+"/client_api/v1/configuration"):(n=JSON.parse(t(f)),d.environment=n.environment,d.attrs.authorizationFingerprint=n.authorizationFingerprint,d.configUrl=n.configUrl,d.graphQL=n.graphQL),d}l.exports=c},{"../lib/constants":52,"../lib/vendor/polyfill":75}],57:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./assets"),i=o("./errors"),s="3.94.0";function c(f){var n=Promise.resolve();return f.client?Promise.resolve(f.client):(window.braintree&&window.braintree.client||(n=a.loadScript({src:f.assetsUrl+"/web/"+s+"/js/client.min.js"}).catch(function(p){return Promise.reject(new t({type:i.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:i.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:i.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:p}}))})),n.then(function(){return window.braintree.client.VERSION!==s?Promise.reject(new t({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+f.name+" (version "+s+") components must be from the same SDK version."})):window.braintree.client.create({authorization:f.authorization,debug:f.debug})}))}l.exports={create:c}},{"./assets":48,"./braintree-error":51,"./errors":59}],58:[function(o,l,m){"use strict";function t(a,i){return i=i??"",a.reduce(function(s,c){return s[c]=i+c,s},{})}l.exports=t},{}],59:[function(o,l,m){"use strict";var t=o("./braintree-error");l.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:t.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:t.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:t.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:t.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":51}],60:[function(o,l,m){"use strict";var t=o("./strategies/popup"),a=o("./strategies/popup-bridge"),i=o("./strategies/modal"),s=o("framebus"),c=o("../shared/events"),f=o("../shared/errors"),n=o("../shared/constants"),p=o("@braintree/uuid"),d=o("@braintree/iframer"),h=o("../../braintree-error"),E=o("../shared/browser-detection"),O=o("./../../assign").assign,g=o("../../constants").BUS_CONFIGURATION_REQUEST_EVENT,e=["name","dispatchFrameUrl","openFrameUrl"];function r(){}function u(y){if(!y)throw new Error("Valid configuration is required");if(e.forEach(function(A){if(!y.hasOwnProperty(A))throw new Error("A valid frame "+A+" must be provided")}),!/^[\w_]+$/.test(y.name))throw new Error("A valid frame name must be provided")}function _(y){u(y),this._serviceId=p().replace(/-/g,""),this._options={name:y.name+"_"+this._serviceId,dispatchFrameUrl:y.dispatchFrameUrl,openFrameUrl:y.openFrameUrl,height:y.height,width:y.width,top:y.top,left:y.left},this.state=y.state||{},this._bus=new s({channel:this._serviceId}),this._setBusEvents()}_.prototype.initialize=function(y){var A=function(){y(),this._bus.off(c.DISPATCH_FRAME_READY,A)}.bind(this);this._bus.on(c.DISPATCH_FRAME_READY,A),this._writeDispatchFrame()},_.prototype._writeDispatchFrame=function(){var y=n.DISPATCH_FRAME_NAME+"_"+this._serviceId,A=this._options.dispatchFrameUrl;this._dispatchFrame=d({"aria-hidden":!0,name:y,title:y,src:A,class:n.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},_.prototype._setBusEvents=function(){this._bus.on(c.DISPATCH_FRAME_REPORT,function(y,A){this._onCompleteCallback&&this._onCompleteCallback.call(null,y.err,y.payload),this._frame.close(),this._onCompleteCallback=null,A&&A()}.bind(this)),this._bus.on(g,function(y){y(this.state)}.bind(this))},_.prototype.open=function(y,A){if(y=y||{},this._frame=this._getFrameForEnvironment(y),this._frame.initialize(A),!(this._frame instanceof a)){if(O(this.state,y.state),this._onCompleteCallback=A,this._frame.open(),this.isFrameClosed()){this._cleanupFrame(),A&&A(new h(f.FRAME_SERVICE_FRAME_OPEN_FAILED));return}this._pollForPopupClose()}},_.prototype.redirect=function(y){this._frame&&!this.isFrameClosed()&&this._frame.redirect(y)},_.prototype.close=function(){this.isFrameClosed()||this._frame.close()},_.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},_.prototype.createHandler=function(y){return y=y||{},{close:function(){y.beforeClose&&y.beforeClose(),this.close()}.bind(this),focus:function(){y.beforeFocus&&y.beforeFocus(),this.focus()}.bind(this)}},_.prototype.createNoopHandler=function(){return{close:r,focus:r}},_.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},_.prototype.isFrameClosed=function(){return this._frame==null||this._frame.isClosed()},_.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},_.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new h(f.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),n.POPUP_POLL_INTERVAL),this._popupInterval},_.prototype._getFrameForEnvironment=function(y){var A=E.supportsPopups(),b=!!window.popupBridge,N=O({},this._options,y);return b?new a(N):A?new t(N):new i(N)},l.exports=_},{"../../braintree-error":51,"../../constants":52,"../shared/browser-detection":67,"../shared/constants":68,"../shared/errors":69,"../shared/events":70,"./../../assign":49,"./strategies/modal":62,"./strategies/popup":65,"./strategies/popup-bridge":63,"@braintree/iframer":21,"@braintree/uuid":25,framebus:31}],61:[function(o,l,m){"use strict";var t=o("./frame-service");l.exports={create:function(i,s){var c=new t(i);c.initialize(function(){s(c)})}}},{"./frame-service":60}],62:[function(o,l,m){"use strict";var t=o("@braintree/iframer"),a=o("../../../assign").assign,i=o("../../shared/browser-detection"),s={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function c(){}function f(n){this._closed=null,this._frame=null,this._options=n||{},this._container=this._options.container||document.body}f.prototype.initialize=c,f.prototype.open=function(){var n={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:a({},s),title:"Lightbox Frame"};i.isIos()?(i.isIosWKWebview()&&(this._lockScrolling(),n.style={}),this._el=document.createElement("div"),a(this._el.style,s,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=t(n),this._el.appendChild(this._frame)):this._el=this._frame=t(n),this._closed=!1,this._container.appendChild(this._el)},f.prototype.focus=c,f.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,i.isIosWKWebview()&&this._unlockScrolling()},f.prototype.isClosed=function(){return!!this._closed},f.prototype.redirect=function(n){this._frame.src=n},f.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,window.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},f.prototype._lockScrolling=function(){var n=document.documentElement;this._savedBodyProperties={left:(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),top:(window.pageYOffset||n.scrollTop)-(n.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",window.scrollTo(0,0)},l.exports=f},{"../../../assign":49,"../../shared/browser-detection":67,"@braintree/iframer":21}],63:[function(o,l,m){"use strict";var t=o("../../../braintree-error"),a=o("../../shared/errors");function i(){}function s(c){this._closed=null,this._options=c}s.prototype.initialize=function(c){var f=this;window.popupBridge.onComplete=function(n,p){var d=!p&&!n;if(f._closed=!0,n||d){c(new t(a.FRAME_SERVICE_FRAME_CLOSED));return}c(null,p)}},s.prototype.open=function(c){var f;c=c||{},f=c.openFrameUrl||this._options.openFrameUrl,this._closed=!1,window.popupBridge.open(f)},s.prototype.focus=i,s.prototype.close=i,s.prototype.isClosed=function(){return!!this._closed},s.prototype.redirect=function(c){this.open({openFrameUrl:c})},l.exports=s},{"../../../braintree-error":51,"../../shared/errors":69}],64:[function(o,l,m){"use strict";var t=o("../../../shared/constants"),a=o("./position");function i(s,c,f){return typeof c<"u"?c:a[s](f)}l.exports=function(c){var f=c.height||t.DEFAULT_POPUP_HEIGHT,n=c.width||t.DEFAULT_POPUP_WIDTH,p=i("top",c.top,f),d=i("left",c.left,n);return[t.POPUP_BASE_OPTIONS,"height="+f,"width="+n,"top="+p,"left="+d].join(",")}},{"../../../shared/constants":68,"./position":66}],65:[function(o,l,m){"use strict";var t=o("./compose-options");function a(){}function i(s){this._frame=null,this._options=s||{}}i.prototype.initialize=a,i.prototype.open=function(){this._frame=window.open(this._options.openFrameUrl,this._options.name,t(this._options))},i.prototype.focus=function(){this._frame.focus()},i.prototype.close=function(){this._frame.closed||this._frame.close()},i.prototype.isClosed=function(){return!this._frame||!!this._frame.closed},i.prototype.redirect=function(s){this._frame.location.href=s},l.exports=i},{"./compose-options":64}],66:[function(o,l,m){"use strict";function t(s){var c=window.outerHeight||document.documentElement.clientHeight,f=window.screenY==null?window.screenTop:window.screenY;return i(c,s,f)}function a(s){var c=window.outerWidth||document.documentElement.clientWidth,f=window.screenX==null?window.screenLeft:window.screenX;return i(c,s,f)}function i(s,c,f){return(s-c)/2+f}l.exports={top:t,left:a,center:i}},{}],67:[function(o,l,m){"use strict";l.exports={isIos:o("@braintree/browser-detection/is-ios"),isIosWKWebview:o("@braintree/browser-detection/is-ios-wkwebview"),supportsPopups:o("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ios":18,"@braintree/browser-detection/is-ios-wkwebview":17,"@braintree/browser-detection/supports-popups":19}],68:[function(o,l,m){"use strict";l.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],69:[function(o,l,m){"use strict";var t=o("../../braintree-error");l.exports={FRAME_SERVICE_FRAME_CLOSED:{type:t.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:t.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."}}},{"../../braintree-error":51}],70:[function(o,l,m){"use strict";var t=o("../../enumerate");l.exports=t(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":58}],71:[function(o,l,m){"use strict";l.exports=function(t){return JSON.parse(JSON.stringify(t))}},{}],72:[function(o,l,m){"use strict";l.exports=function(t){return Object.keys(t).filter(function(a){return typeof t[a]=="function"})}},{}],73:[function(o,l,m){"use strict";function t(n){var p;for(p in n)if(n.hasOwnProperty(p))return!0;return!1}function a(n){return n&&typeof n=="object"&&typeof n.length=="number"&&Object.prototype.toString.call(n)==="[object Array]"||!1}function i(n){return n=n||window.location.href,/\?/.test(n)}function s(n){var p,d;return n=n||window.location.href,i(n)?(p=n.split("?")[1]||"",p=p.replace(/#.*$/,"").split("&"),d=p.reduce(function(h,E){var O=E.split("="),g=decodeURIComponent(O[0]),e=decodeURIComponent(O[1]);return h[g]=e,h},{}),d):{}}function c(n,p){var d,h,E,O=[];for(E in n)n.hasOwnProperty(E)&&(h=n[E],p?a(n)?d=p+"[]":d=p+"["+E+"]":d=E,typeof h=="object"?O.push(c(h,d)):O.push(encodeURIComponent(d)+"="+encodeURIComponent(h)));return O.join("&")}function f(n,p){return n=n||"",p!=null&&typeof p=="object"&&t(p)&&(n+=n.indexOf("?")===-1?"?":"",n+=n.indexOf("=")!==-1?"&":"",n+=c(p)),n}l.exports={parse:s,stringify:c,queryify:f,hasQueryParams:i}},{}],74:[function(o,l,m){"use strict";function t(a){return a?"":".min"}l.exports=t},{}],75:[function(o,l,m){"use strict";var t=typeof atob=="function"?atob:a;function a(i){var s,c,f,n,p,d,h,E,O=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="";if(!O.test(i))throw new Error("Non base64 encoded input passed to window.atob polyfill");E=0;do n=g.indexOf(i.charAt(E++)),p=g.indexOf(i.charAt(E++)),d=g.indexOf(i.charAt(E++)),h=g.indexOf(i.charAt(E++)),s=(n&63)<<2|p>>4&3,c=(p&15)<<4|d>>2&15,f=(d&3)<<6|h&63,e+=String.fromCharCode(s)+(c?String.fromCharCode(c):"")+(f?String.fromCharCode(f):"");while(E<i.length);return e}l.exports={atob:function(i){return t.call(window,i)},_atob:a}},{}],76:[function(o,l,m){"use strict";var t=o("../lib/braintree-error");l.exports={PAYPAL_NOT_ENABLED:{type:t.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:t.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developer.paypal.com/braintree/docs/guides/paypal/testing-go-live#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:t.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:t.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED:{type:t.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED"},PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED:{type:t.types.NETWORK,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED",message:"Something went wrong when setting up the checkout workflow."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED:{type:t.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED:{type:t.types.CUSTOMER,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS:{type:t.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS",message:"Vault initiated checkout already in progress."},PAYPAL_INVALID_PAYMENT_OPTION:{type:t.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."},PAYPAL_MISSING_REQUIRED_OPTION:{type:t.types.MERCHANT,code:"PAYPAL_MISSING_REQUIRED_OPTION",message:"Missing required option."}}},{"../lib/braintree-error":51}],77:[function(o,l,m){"use strict";var t=o("../lib/basic-component-verification"),a=o("@braintree/wrap-promise"),i=o("./paypal-checkout"),s="3.94.0";function c(n){var p="PayPal Checkout";return t.verify({name:p,client:n.client,authorization:n.authorization}).then(function(){var d=new i(n);return d._initialize(n)})}function f(){return!0}l.exports={create:a(c),isSupported:f,VERSION:s}},{"../lib/basic-component-verification":50,"./paypal-checkout":78,"@braintree/wrap-promise":29}],78:[function(o,l,m){"use strict";var t=o("../lib/analytics"),a=o("../lib/assign").assign,i=o("../lib/create-deferred-client"),s=o("../lib/create-assets-url"),c=o("@braintree/extended-promise"),f=o("@braintree/wrap-promise"),n=o("../lib/braintree-error"),p=o("../lib/convert-to-braintree-error"),d=o("./errors"),h=o("../paypal/shared/constants"),E=o("../lib/frame-service/external"),O=o("../lib/create-authorization-data"),g=o("../lib/methods"),e=o("../lib/use-min"),r=o("../lib/convert-methods-to-error"),u=o("../lib/querystring"),_="3.94.0",y=o("../lib/constants").INTEGRATION_TIMEOUT_MS,A=["amount","currency","vaultInitiatedCheckoutPaymentMethodToken"],b="https://www.{ENV}paypal.com/smart/buttons/preload";c.suppressUnhandledPromiseMessage=!0;function N(v){this._merchantAccountId=v.merchantAccountId,this._autoSetDataUserIdToken=!!v.autoSetDataUserIdToken}N.prototype._initialize=function(v){var T;return v.client?(T=v.client.getConfiguration(),this._authorizationInformation={fingerprint:T.authorizationFingerprint,environment:T.gatewayConfiguration.environment}):(T=O(v.authorization),this._authorizationInformation={fingerprint:T.attrs.authorizationFingerprint,environment:T.environment}),this._clientPromise=i.create({authorization:v.authorization,client:v.client,debug:v.debug,assetsUrl:s.create(v.authorization),name:"PayPal Checkout"}).then(function(I){return this._configuration=I.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?this._configuration.gatewayConfiguration.paypal.environmentNoNetwork===!0&&(this._setupError=new n(d.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new n(d.PAYPAL_NOT_ENABLED)),this._setupError?Promise.reject(this._setupError):(t.sendEvent(I,"paypal-checkout.initialized"),this._frameServicePromise=this._setupFrameService(I),I)}.bind(this)),v.client?this._clientPromise.then(function(){return this}.bind(this)):Promise.resolve(this)},N.prototype._setupFrameService=function(v){var T=new c,I=v.getConfiguration(),C=setTimeout(function(){t.sendEvent(v,"paypal-checkout.frame-service.timed-out"),T.reject(new n(d.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED))},y);return this._assetsUrl=I.gatewayConfiguration.paypal.assetsUrl+"/web/"+_,this._isDebug=I.isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+e(this._isDebug)+".html",E.create({name:"braintreepaypallanding",dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame"+e(this._isDebug)+".html",openFrameUrl:this._loadingFrameUrl},function(P){this._frameService=P,clearTimeout(C),T.resolve()}.bind(this)),T},N.prototype.createPayment=function(v){return!v||!h.FLOW_ENDPOINTS.hasOwnProperty(v.flow)?Promise.reject(new n(d.PAYPAL_FLOW_OPTION_REQUIRED)):(t.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),this._createPaymentResource(v).then(function(T){var I;return v.flow==="checkout"?I=T.paymentResource.redirectUrl.match(/EC-\w+/)[0]:I=T.agreementSetup.tokenId,I}))},N.prototype._createPaymentResource=function(v,T){var I=this,C="paypal_hermes/"+h.FLOW_ENDPOINTS[v.flow];return delete this.intentFromCreatePayment,T=T||{},v.offerCredit===!0&&t.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then(function(P){return P.request({endpoint:C,method:"post",data:I._formatPaymentResourceData(v,T)}).then(function(S){return I.intentFromCreatePayment=v.intent,S})}).catch(function(P){var S;return I._setupError?Promise.reject(I._setupError):(S=P.details&&P.details.httpStatus,S===422?Promise.reject(new n({type:d.PAYPAL_INVALID_PAYMENT_OPTION.type,code:d.PAYPAL_INVALID_PAYMENT_OPTION.code,message:d.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:P}})):Promise.reject(p(P,{type:d.PAYPAL_FLOW_FAILED.type,code:d.PAYPAL_FLOW_FAILED.code,message:d.PAYPAL_FLOW_FAILED.message})))})},N.prototype.updatePayment=function(v){var T=this,I="paypal_hermes/patch_payment_resource";return!v||this._hasMissingOption(v,h.REQUIRED_OPTIONS)?(t.sendEvent(T._clientPromise,"paypal-checkout.updatePayment.missing-options"),Promise.reject(new n(d.PAYPAL_MISSING_REQUIRED_OPTION))):this._verifyConsistentCurrency(v)?(t.sendEvent(this._clientPromise,"paypal-checkout.updatePayment"),this._clientPromise.then(function(C){return C.request({endpoint:I,method:"post",data:T._formatUpdatePaymentData(v)})}).catch(function(C){var P=C.details&&C.details.httpStatus;return P===422?(t.sendEvent(T._clientPromise,"paypal-checkout.updatePayment.invalid"),Promise.reject(new n({type:d.PAYPAL_INVALID_PAYMENT_OPTION.type,code:d.PAYPAL_INVALID_PAYMENT_OPTION.code,message:d.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:C}}))):(t.sendEvent(T._clientPromise,"paypal-checkout.updatePayment."+d.PAYPAL_FLOW_FAILED.code),Promise.reject(p(C,{type:d.PAYPAL_FLOW_FAILED.type,code:d.PAYPAL_FLOW_FAILED.code,message:d.PAYPAL_FLOW_FAILED.message})))})):(t.sendEvent(T._clientPromise,"paypal-checkout.updatePayment.inconsistent-currencies"),Promise.reject(new n({type:d.PAYPAL_INVALID_PAYMENT_OPTION.type,code:d.PAYPAL_INVALID_PAYMENT_OPTION.code,message:d.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:new Error("One or more shipping option currencies differ from checkout currency.")}})))},N.prototype.startVaultInitiatedCheckout=function(v){var T,I=this;return this._vaultInitiatedCheckoutInProgress?(t.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress"),Promise.reject(new n(d.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS))):(A.forEach(function(C){v.hasOwnProperty(C)||(T=C)}),T?Promise.reject(new n({type:d.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,code:d.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,message:"Required param "+T+" is missing."})):(this._vaultInitiatedCheckoutInProgress=!0,this._addModalBackdrop(v),v=a({},v,{flow:"checkout"}),t.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.started"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){var C=new c,P=I._createPaymentResource(v,{returnUrl:I._constructVaultCheckutUrl("redirect-frame"),cancelUrl:I._constructVaultCheckutUrl("cancel-frame")}).then(function(S){var R=S.paymentResource.redirectUrl;return I._frameService.redirect(R),C});return I._frameService.open({},I._createFrameServiceCallback(C)),P}).catch(function(C){return I._vaultInitiatedCheckoutInProgress=!1,I._removeModalBackdrop(),C.code==="FRAME_SERVICE_FRAME_CLOSED"?(t.sendEvent(I._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer"),Promise.reject(new n(d.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED))):(I._frameService&&I._frameService.close(),C.code&&C.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(t.sendEvent(I._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened"),Promise.reject(new n({code:d.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.code,type:d.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.type,message:d.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.message,details:{originalError:C}}))):Promise.reject(C))}).then(function(C){return I._frameService.close(),I._vaultInitiatedCheckoutInProgress=!1,I._removeModalBackdrop(),t.sendEvent(I._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.succeeded"),Promise.resolve(C)})))},N.prototype._addModalBackdrop=function(v){v.optOutOfModalBackdrop||(this._modalBackdrop||(this._modalBackdrop=document.createElement("div"),this._modalBackdrop.setAttribute("data-braintree-paypal-vault-initiated-checkout-modal",!0),this._modalBackdrop.style.position="fixed",this._modalBackdrop.style.top=0,this._modalBackdrop.style.bottom=0,this._modalBackdrop.style.left=0,this._modalBackdrop.style.right=0,this._modalBackdrop.style.zIndex=9999,this._modalBackdrop.style.background="black",this._modalBackdrop.style.opacity="0.7",this._modalBackdrop.addEventListener("click",function(){this.focusVaultInitiatedCheckoutWindow()}.bind(this))),document.body.appendChild(this._modalBackdrop))},N.prototype._removeModalBackdrop=function(){this._modalBackdrop&&this._modalBackdrop.parentNode&&this._modalBackdrop.parentNode.removeChild(this._modalBackdrop)},N.prototype.closeVaultInitiatedCheckoutWindow=function(){return this._vaultInitiatedCheckoutInProgress&&t.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.close()}.bind(this))},N.prototype.focusVaultInitiatedCheckoutWindow=function(){return this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.focus()}.bind(this))},N.prototype._createFrameServiceCallback=function(v){var T=this;return function(I,C){I?v.reject(I):C&&(T._frameService.redirect(T._loadingFrameUrl),T.tokenizePayment({paymentToken:C.token,payerID:C.PayerID,paymentID:C.paymentId}).then(function(P){v.resolve(P)}).catch(function(P){v.reject(P)}))}},N.prototype._waitForVaultInitiatedCheckoutDependencies=function(){var v=this;return this._clientPromise.then(function(){return v._frameServicePromise})},N.prototype._constructVaultCheckutUrl=function(v){var T=this._frameService._serviceId;return this._assetsUrl+"/html/"+v+e(this._isDebug)+".html?channel="+T},N.prototype.tokenizePayment=function(v){var T=this,I=!0,C,P={flow:v.billingToken&&!v.paymentID?"vault":"checkout",intent:v.intent||this.intentFromCreatePayment},S={ecToken:v.paymentToken,billingToken:v.billingToken,payerId:v.payerID,paymentId:v.paymentID,shippingOptionsId:v.shippingOptionsId};return v.hasOwnProperty("vault")&&(I=v.vault),P.vault=I,t.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then(function(R){return R.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:T._formatTokenizeData(P,S)})}).then(function(R){return C=T._formatTokenizePayload(R),t.sendEvent(T._clientPromise,"paypal-checkout.tokenization.success"),C.creditFinancingOffered&&t.sendEvent(T._clientPromise,"paypal-checkout.credit.accepted"),C}).catch(function(R){return T._setupError?Promise.reject(T._setupError):(t.sendEvent(T._clientPromise,"paypal-checkout.tokenization.failed"),Promise.reject(p(R,{type:d.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:d.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:d.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))})},N.prototype.getClientId=function(){return this._clientPromise.then(function(v){return v.getConfiguration().gatewayConfiguration.paypal.clientId})},N.prototype.loadPayPalSDK=function(v){var T,I,C=new c,P=v&&v.dataAttributes||{},S=P["user-id-token"]||P["data-user-id-token"];return S||(S=this._authorizationInformation.fingerprint&&this._authorizationInformation.fingerprint.split("?")[0]),this._paypalScript=document.createElement("script"),v=a({},{components:"buttons"},v),delete v.dataAttributes,v.vault?v.intent=v.intent||"tokenize":(v.intent=v.intent||"authorize",v.currency=v.currency||"USD"),I="https://www.paypal.com/sdk/js?",this._paypalScript.onload=function(){C.resolve()},Object.keys(P).forEach(function(R){this._paypalScript.setAttribute("data-"+R.replace(/^data\-/,""),P[R])}.bind(this)),v["client-id"]?T=Promise.resolve(v["client-id"]):T=this.getClientId(),T.then(function(R){v["client-id"]=R,this._autoSetDataUserIdToken&&S&&(this._paypalScript.setAttribute("data-user-id-token",S),this._attachPreloadPixel({id:R,userIdToken:S,amount:P.amount,currency:v.currency,merchantId:v["merchant-id"]})),this._paypalScript.src=u.queryify(I,v),document.head.insertBefore(this._paypalScript,document.head.firstElementChild)}.bind(this)),C.then(function(){return this}.bind(this))},N.prototype._attachPreloadPixel=function(v){var T,I=v.id,C=v.userIdToken,P=this._authorizationInformation.environment,S=P==="production"?"":"sandbox.",R=b.replace("{ENV}",S),L={"client-id":I,"user-id-token":C};v.amount&&(L.amount=v.amount),v.currency&&(L.currency=v.currency),v.merchantId&&(L["merchant-id"]=v.merchantId),T=new XMLHttpRequest,T.open("GET",u.queryify(R,L)),T.send()},N.prototype._formatPaymentResourceData=function(v,T){var I,C=this._configuration.gatewayConfiguration,P=v.intent,S={returnUrl:T.returnUrl||"https://www.paypal.com/checkoutnow/error",cancelUrl:T.cancelUrl||"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:v.offerCredit===!0,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:v.displayName||C.paypal.displayName,localeCode:v.locale,noShipping:(!v.enableShippingAddress).toString(),addressOverride:v.shippingAddressEditable===!1,landingPageType:v.landingPageType},shippingOptions:v.shippingOptions};if(v.flow==="checkout"){S.amount=v.amount,S.currencyIsoCode=v.currency,S.requestBillingAgreement=v.requestBillingAgreement,P&&(P==="capture"&&(P="sale"),S.intent=P),v.hasOwnProperty("lineItems")&&(S.lineItems=v.lineItems),v.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(S.vaultInitiatedCheckoutPaymentMethodToken=v.vaultInitiatedCheckoutPaymentMethodToken),v.hasOwnProperty("shippingOptions")&&(S.shippingOptions=v.shippingOptions);for(I in v.shippingAddressOverride)v.shippingAddressOverride.hasOwnProperty(I)&&(S[I]=v.shippingAddressOverride[I]);v.hasOwnProperty("billingAgreementDetails")&&(S.billingAgreementDetails=v.billingAgreementDetails)}else S.shippingAddress=v.shippingAddressOverride,v.billingAgreementDescription&&(S.description=v.billingAgreementDescription);return this._riskCorrelationId=v.riskCorrelationId,v.riskCorrelationId&&(S.correlationId=this._riskCorrelationId),S},N.prototype._verifyConsistentCurrency=function(v){return v.currency&&v.hasOwnProperty("shippingOptions")&&Array.isArray(v.shippingOptions)?v.shippingOptions.every(function(T){return T.amount&&T.amount.currency&&v.currency.toLowerCase()===T.amount.currency.toLowerCase()}):!0},N.prototype._hasMissingOption=function(v,T){var I,C;if(T=T||[],!v.hasOwnProperty("amount")&&!v.hasOwnProperty("lineItems"))return!0;for(I=0;I<T.length;I++)if(C=T[I],!v.hasOwnProperty(C))return!0;return!1},N.prototype._formatUpdatePaymentData=function(v){var T=this,I={merchantAccountId:this._merchantAccountId,paymentId:v.paymentId,currencyIsoCode:v.currency};return v.hasOwnProperty("amount")&&(I.amount=v.amount),v.hasOwnProperty("lineItems")&&(I.lineItems=v.lineItems),v.hasOwnProperty("shippingOptions")&&(I.shippingOptions=v.shippingOptions),v.hasOwnProperty("shippingAddress")&&(t.sendEvent(T._clientPromise,"paypal-checkout.updatePayment.shippingAddress.provided.by-the-merchant"),I.line1=v.shippingAddress.line1,v.shippingAddress.hasOwnProperty("line2")&&(I.line2=v.shippingAddress.line2),I.city=v.shippingAddress.city,I.state=v.shippingAddress.state,I.postalCode=v.shippingAddress.postalCode,I.countryCode=v.shippingAddress.countryCode,v.shippingAddress.hasOwnProperty("phone")&&(I.phone=v.shippingAddress.phone),v.shippingAddress.hasOwnProperty("recipientName")&&(I.recipientName=v.shippingAddress.recipientName)),I},N.prototype._formatTokenizeData=function(v,T){var I=this._configuration,C=I.gatewayConfiguration,P=I.authorizationType==="TOKENIZATION_KEY",S=v.flow==="vault",R=this._riskCorrelationId||T.billingToken||T.ecToken,L={paypalAccount:{correlationId:R,options:{validate:S&&!P&&v.vault}}};return S?L.paypalAccount.billingAgreementToken=T.billingToken:(L.paypalAccount.paymentToken=T.paymentId,L.paypalAccount.payerId=T.payerId,L.paypalAccount.unilateral=C.paypal.unvettedMerchant,v.intent&&(L.paypalAccount.intent=v.intent)),this._merchantAccountId&&(L.merchantAccountId=this._merchantAccountId),L},N.prototype._formatTokenizePayload=function(v){var T,I={};return v.paypalAccounts&&(I=v.paypalAccounts[0]),T={nonce:I.nonce,details:{},type:I.type},I.details&&I.details.payerInfo&&(T.details=I.details.payerInfo),I.details&&I.details.creditFinancingOffered&&(T.creditFinancingOffered=I.details.creditFinancingOffered),I.details&&I.details.shippingOptionId&&(T.shippingOptionId=I.details.shippingOptionId),I.details&&I.details.cobrandedCardLabel&&(T.cobrandedCardLabel=I.details.cobrandedCardLabel),T},N.prototype.teardown=function(){var v=this;return r(this,g(N.prototype)),this._paypalScript&&this._paypalScript.parentNode&&this._paypalScript.parentNode.removeChild(this._paypalScript),this._frameServicePromise.catch(function(){}).then(function(){return v._frameService?v._frameService.teardown():Promise.resolve()})},l.exports=f.wrapPrototype(N)},{"../lib/analytics":47,"../lib/assign":49,"../lib/braintree-error":51,"../lib/constants":52,"../lib/convert-methods-to-error":53,"../lib/convert-to-braintree-error":54,"../lib/create-assets-url":55,"../lib/create-authorization-data":56,"../lib/create-deferred-client":57,"../lib/frame-service/external":61,"../lib/methods":72,"../lib/querystring":73,"../lib/use-min":74,"../paypal/shared/constants":79,"./errors":76,"@braintree/extended-promise":20,"@braintree/wrap-promise":29}],79:[function(o,l,m){"use strict";l.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"},REQUIRED_OPTIONS:["paymentId","currency"]}},{}]},{},[77])(77)})})(Y,Y.exports);var ce=Y.exports;const ue=q(ce);var W={exports:{}},Ie=W.exports;(function(D,B){(function(F){if(!0)D.exports=F();else var j})(function(){var F,j,H;return function(){function o(l,m,t){function a(c,f){if(!m[c]){if(!l[c]){var n=typeof k=="function"&&k;if(!f&&n)return n(c,!0);if(i)return i(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var d=m[c]={exports:{}};l[c][0].call(d.exports,function(h){var E=l[c][1][h];return a(E||h)},d,d.exports,o,l,m,t)}return m[c].exports}for(var i=typeof k=="function"&&k,s=0;s<t.length;s++)a(t[s]);return a}return o}()({1:[function(o,l,m){"use strict";var t=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(m,"__esModule",{value:!0}),m.PromiseGlobal=void 0;var a=t(o("promise-polyfill")),i=typeof Promise<"u"?Promise:a.default;m.PromiseGlobal=i},{"promise-polyfill":8}],2:[function(o,l,m){"use strict";var t=o("./lib/promise"),a={};function i(s){var c,f=JSON.stringify(s);if(!s.forceScriptReload&&(c=a[f],c))return c;var n=document.createElement("script"),p=s.dataAttributes||{},d=s.container||document.head;return n.src=s.src,n.id=s.id||"",n.async=!0,s.crossorigin&&n.setAttribute("crossorigin",""+s.crossorigin),Object.keys(p).forEach(function(h){n.setAttribute("data-"+h,""+p[h])}),c=new t.PromiseGlobal(function(h,E){n.addEventListener("load",function(){h(n)}),n.addEventListener("error",function(){E(new Error(s.src+" failed to load."))}),n.addEventListener("abort",function(){E(new Error(s.src+" has aborted."))}),d.appendChild(n)}),a[f]=c,c}i.clearCache=function(){a={}},l.exports=i},{"./lib/promise":1}],3:[function(o,l,m){l.exports=o("./dist/load-script")},{"./dist/load-script":2}],4:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];setTimeout(function(){try{a.apply(void 0,i)}catch(c){console.log("Error in callback function"),console.log(c)}},1)}}m.deferred=t},{}],5:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a){var i=!1;return function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];i||(i=!0,a.apply(void 0,s))}}m.once=t},{}],6:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a,i){if(!i)return a;a.then(function(s){return i(null,s)}).catch(function(s){return i(s)})}m.promiseOrCallback=t},{}],7:[function(o,l,m){"use strict";var t=o("./lib/deferred"),a=o("./lib/once"),i=o("./lib/promise-or-callback");function s(c){return function(){for(var f=[],n=0;n<arguments.length;n++)f[n]=arguments[n];var p,d=f[f.length-1];return typeof d=="function"&&(p=f.pop(),p=a.once(t.deferred(p))),i.promiseOrCallback(c.apply(this,f),p)}}s.wrapPrototype=function(c,f){f===void 0&&(f={});var n=f.ignoreMethods||[],p=f.transformPrivateMethods===!0,d=Object.getOwnPropertyNames(c.prototype).filter(function(h){var E,O=h!=="constructor"&&typeof c.prototype[h]=="function",g=n.indexOf(h)===-1;return p?E=!0:E=h.charAt(0)!=="_",O&&E&&g});return d.forEach(function(h){var E=c.prototype[h];c.prototype[h]=s(E)}),c},l.exports=s},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(o,l,m){"use strict";function t(e){var r=this.constructor;return this.then(function(u){return r.resolve(e()).then(function(){return u})},function(u){return r.resolve(e()).then(function(){return r.reject(u)})})}function a(e){var r=this;return new r(function(u,_){if(!(e&&typeof e.length<"u"))return _(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var y=Array.prototype.slice.call(e);if(y.length===0)return u([]);var A=y.length;function b(v,T){if(T&&(typeof T=="object"||typeof T=="function")){var I=T.then;if(typeof I=="function"){I.call(T,function(C){b(v,C)},function(C){y[v]={status:"rejected",reason:C},--A===0&&u(y)});return}}y[v]={status:"fulfilled",value:T},--A===0&&u(y)}for(var N=0;N<y.length;N++)b(N,y[N])})}var i=setTimeout;function s(e){return!!(e&&typeof e.length<"u")}function c(){}function f(e,r){return function(){e.apply(r,arguments)}}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function p(e,r){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(r);return}e._handled=!0,n._immediateFn(function(){var u=e._state===1?r.onFulfilled:r.onRejected;if(u===null){(e._state===1?d:h)(r.promise,e._value);return}var _;try{_=u(e._value)}catch(y){h(r.promise,y);return}d(r.promise,_)})}function d(e,r){try{if(r===e)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var u=r.then;if(r instanceof n){e._state=3,e._value=r,E(e);return}else if(typeof u=="function"){g(f(u,r),e);return}}e._state=1,e._value=r,E(e)}catch(_){h(e,_)}}function h(e,r){e._state=2,e._value=r,E(e)}function E(e){e._state===2&&e._deferreds.length===0&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var r=0,u=e._deferreds.length;r<u;r++)p(e,e._deferreds[r]);e._deferreds=null}function O(e,r,u){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof r=="function"?r:null,this.promise=u}function g(e,r){var u=!1;try{e(function(_){u||(u=!0,d(r,_))},function(_){u||(u=!0,h(r,_))})}catch(_){if(u)return;u=!0,h(r,_)}}n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,r){var u=new this.constructor(c);return p(this,new O(e,r,u)),u},n.prototype.finally=t,n.all=function(e){return new n(function(r,u){if(!s(e))return u(new TypeError("Promise.all accepts an array"));var _=Array.prototype.slice.call(e);if(_.length===0)return r([]);var y=_.length;function A(N,v){try{if(v&&(typeof v=="object"||typeof v=="function")){var T=v.then;if(typeof T=="function"){T.call(v,function(I){A(N,I)},u);return}}_[N]=v,--y===0&&r(_)}catch(I){u(I)}}for(var b=0;b<_.length;b++)A(b,_[b])})},n.allSettled=a,n.resolve=function(e){return e&&typeof e=="object"&&e.constructor===n?e:new n(function(r){r(e)})},n.reject=function(e){return new n(function(r,u){u(e)})},n.race=function(e){return new n(function(r,u){if(!s(e))return u(new TypeError("Promise.race accepts an array"));for(var _=0,y=e.length;_<y;_++)n.resolve(e[_]).then(r,u)})},n._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){i(e,0)},n._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)},l.exports=n},{}],9:[function(o,l,m){"use strict";var t=o("./create-authorization-data"),a=o("./json-clone"),i=o("./constants");function s(c,f){var n,p=f?a(f):{},d=t(c.authorization).attrs,h=a(c.analyticsMetadata);p.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION;for(n in p._meta)p._meta.hasOwnProperty(n)&&(h[n]=p._meta[n]);return p._meta=h,d.tokenizationKey?p.tokenizationKey=d.tokenizationKey:p.authorizationFingerprint=d.authorizationFingerprint,p}l.exports=s},{"./constants":14,"./create-authorization-data":17,"./json-clone":21}],10:[function(o,l,m){"use strict";var t=o("./constants"),a=o("./add-metadata");function i(s,c,f){var n=Date.now();return Promise.resolve(s).then(function(p){var d=Date.now(),h=p.getConfiguration(),E=p._request,O=h.gatewayConfiguration.analytics.url,g={analytics:[{kind:t.ANALYTICS_PREFIX+c,isAsync:Math.floor(d/1e3)!==Math.floor(n/1e3),timestamp:n}]};E({url:O,method:"post",data:a(h,g),timeout:t.ANALYTICS_REQUEST_TIMEOUT_MS},f)}).catch(function(p){f&&f(p)})}l.exports={sendEvent:i}},{"./add-metadata":9,"./constants":14}],11:[function(o,l,m){"use strict";var t=o("@braintree/asset-loader/load-script");l.exports={loadScript:t}},{"@braintree/asset-loader/load-script":3}],12:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./errors"),i="3.94.0";function s(c){var f,n,p;return c?(p=c.name,f=c.client,n=c.authorization,!f&&!n?Promise.reject(new t({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+p+"."})):!n&&f.getVersion()!==i?Promise.reject(new t({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+f.getVersion()+") and "+p+" (version "+i+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new t({type:a.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:a.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}l.exports={verify:s}},{"./braintree-error":13,"./errors":20}],13:[function(o,l,m){"use strict";var t=o("./enumerate");function a(i){if(!a.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.types=t(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),a.findRootError=function(i){return i instanceof a&&i.details&&i.details.originalError?a.findRootError(i.details.originalError):i},l.exports=a},{"./enumerate":19}],14:[function(o,l,m){"use strict";var t="3.94.0",a="web",i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},s={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},c={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};l.exports={ANALYTICS_PREFIX:a+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:s,CLIENT_API_URLS:i,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:c,INTEGRATION_TIMEOUT_MS:6e4,VERSION:t,INTEGRATION:"custom",SOURCE:"client",PLATFORM:a,BRAINTREE_LIBRARY_VERSION:"braintree/"+a+"/"+t}},{}],15:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./errors");l.exports=function(i,s){s.forEach(function(c){i[c]=function(){throw new t({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:c+" cannot be called after teardown."})}})}},{"./braintree-error":13,"./errors":20}],16:[function(o,l,m){"use strict";var t=o("./constants").ASSETS_URLS;function a(i){return t.production}l.exports={create:a}},{"./constants":14}],17:[function(o,l,m){"use strict";var t=o("../lib/vendor/polyfill").atob,a=o("../lib/constants").CLIENT_API_URLS;function i(f){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(f)}function s(f){var n=f.split("_"),p=n[0],d=n.slice(2).join("_");return{merchantId:d,environment:p}}function c(f){var n,p,d={attrs:{},configUrl:""};return i(f)?(p=s(f),d.environment=p.environment,d.attrs.tokenizationKey=f,d.configUrl=a[p.environment]+"/merchants/"+p.merchantId+"/client_api/v1/configuration"):(n=JSON.parse(t(f)),d.environment=n.environment,d.attrs.authorizationFingerprint=n.authorizationFingerprint,d.configUrl=n.configUrl,d.graphQL=n.graphQL),d}l.exports=c},{"../lib/constants":14,"../lib/vendor/polyfill":24}],18:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./assets"),i=o("./errors"),s="3.94.0";function c(f){var n=Promise.resolve();return f.client?Promise.resolve(f.client):(window.braintree&&window.braintree.client||(n=a.loadScript({src:f.assetsUrl+"/web/"+s+"/js/client.min.js"}).catch(function(p){return Promise.reject(new t({type:i.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:i.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:i.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:p}}))})),n.then(function(){return window.braintree.client.VERSION!==s?Promise.reject(new t({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+f.name+" (version "+s+") components must be from the same SDK version."})):window.braintree.client.create({authorization:f.authorization,debug:f.debug})}))}l.exports={create:c}},{"./assets":11,"./braintree-error":13,"./errors":20}],19:[function(o,l,m){"use strict";function t(a,i){return i=i??"",a.reduce(function(s,c){return s[c]=i+c,s},{})}l.exports=t},{}],20:[function(o,l,m){"use strict";var t=o("./braintree-error");l.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:t.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:t.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:t.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:t.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":13}],21:[function(o,l,m){"use strict";l.exports=function(t){return JSON.parse(JSON.stringify(t))}},{}],22:[function(o,l,m){"use strict";l.exports=function(t){return Object.keys(t).filter(function(a){return typeof t[a]=="function"})}},{}],23:[function(o,l,m){"use strict";function t(a){var i=!1;return function(){i||(i=!0,a.apply(null,arguments))}}l.exports=t},{}],24:[function(o,l,m){"use strict";var t=typeof atob=="function"?atob:a;function a(i){var s,c,f,n,p,d,h,E,O=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="";if(!O.test(i))throw new Error("Non base64 encoded input passed to window.atob polyfill");E=0;do n=g.indexOf(i.charAt(E++)),p=g.indexOf(i.charAt(E++)),d=g.indexOf(i.charAt(E++)),h=g.indexOf(i.charAt(E++)),s=(n&63)<<2|p>>4&3,c=(p&15)<<4|d>>2&15,f=(d&3)<<6|h&63,e+=String.fromCharCode(s)+(c?String.fromCharCode(c):"")+(f?String.fromCharCode(f):"");while(E<i.length);return e}l.exports={atob:function(i){return t.call(window,i)},_atob:a}},{}],25:[function(o,l,m){"use strict";l.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],26:[function(o,l,m){"use strict";var t=o("../lib/braintree-error");l.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:t.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:t.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:t.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:t.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:t.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":13}],27:[function(o,l,m){"use strict";var t=o("../lib/basic-component-verification"),a=o("../lib/braintree-error"),i=o("../lib/create-deferred-client"),s=o("../lib/create-assets-url"),c=o("./errors"),f=o("./us-bank-account"),n="3.94.0",p=o("@braintree/wrap-promise");function d(h){var E="US Bank Account";return t.verify({name:E,client:h.client,authorization:h.authorization}).then(function(){return i.create({authorization:h.authorization,client:h.client,debug:h.debug,assetsUrl:s.create(h.authorization),name:E})}).then(function(O){var g;return h.client=O,g=h.client.getConfiguration().gatewayConfiguration.usBankAccount,g?new f(h):Promise.reject(new a(c.US_BANK_ACCOUNT_NOT_ENABLED))})}l.exports={create:p(d),VERSION:n}},{"../lib/basic-component-verification":12,"../lib/braintree-error":13,"../lib/create-assets-url":16,"../lib/create-deferred-client":18,"./errors":26,"./us-bank-account":28,"@braintree/wrap-promise":7}],28:[function(o,l,m){"use strict";var t=o("../lib/braintree-error"),a=o("./constants"),i=o("./errors"),s=o("../lib/errors"),c=o("../lib/analytics"),f=o("../lib/once"),n=o("../lib/convert-methods-to-error"),p=o("../lib/methods"),d=o("@braintree/wrap-promise"),h=y("UsBankAccount"),E=y("UsBankLogin");function O(A){this._client=A.client,this._isTokenizingBankLogin=!1,c.sendEvent(this._client,"usbankaccount.initialized")}O.prototype.tokenize=function(A){return A=A||{},A.mandateText?A.bankDetails&&A.bankLogin?Promise.reject(new t({type:i.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:i.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):A.bankDetails?this._tokenizeBankDetails(A):A.bankLogin?this._tokenizeBankLogin(A):Promise.reject(new t({type:i.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:i.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):Promise.reject(new t({type:i.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:i.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},O.prototype._tokenizeBankDetails=function(A){var b=this._client,N=A.bankDetails,v={achMandate:A.mandateText,routingNumber:N.routingNumber,accountNumber:N.accountNumber,accountType:N.accountType.toUpperCase(),billingAddress:u(N.billingAddress||{})};return _(v,N),b.request({api:"graphQLApi",data:{query:h,variables:{input:{usBankAccount:v}}}}).then(function(T){return c.sendEvent(b,"usbankaccount.bankdetails.tokenization.succeeded"),Promise.resolve(e(T,"tokenizeUsBankAccount"))}).catch(function(T){var I=g(T);return c.sendEvent(b,"usbankaccount.bankdetails.tokenization.failed"),Promise.reject(I)})},O.prototype._tokenizeBankLogin=function(A){var b=this,N=this._client,v=N.getConfiguration().gatewayConfiguration,T=v.environment==="production",I=v.usBankAccount.plaid;return A.bankLogin.displayName?I?this._isTokenizingBankLogin?Promise.reject(new t(i.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new Promise(function(C,P){b._loadPlaid(function(S,R){if(S){P(S);return}R.create({clientName:A.bankLogin.displayName,apiVersion:"v2",env:T?"production":"sandbox",key:I.publicKey,product:"auth",selectAccount:!0,onExit:function(){b._isTokenizingBankLogin=!1,c.sendEvent(N,"usbankaccount.banklogin.tokenization.closed.by-user"),P(new t(i.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(L,w){var U=A.bankLogin,x={publicToken:L,accountId:T?w.account_id:"plaid_account_id",accountType:w.account.subtype.toUpperCase(),achMandate:A.mandateText,billingAddress:u(U.billingAddress||{})};_(x,U),N.request({api:"graphQLApi",data:{query:E,variables:{input:{usBankLogin:x}}}}).then(function(M){b._isTokenizingBankLogin=!1,c.sendEvent(N,"usbankaccount.banklogin.tokenization.succeeded"),C(e(M,"tokenizeUsBankLogin"))}).catch(function(M){var z;b._isTokenizingBankLogin=!1,z=g(M),c.sendEvent(N,"usbankaccount.banklogin.tokenization.failed"),P(z)})}}).open(),c.sendEvent(N,"usbankaccount.banklogin.tokenization.started")})})):Promise.reject(new t(i.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):Promise.reject(new t({type:i.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:i.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))};function g(A){var b,N=A.details&&A.details.httpStatus;return N===401?b=new t(s.BRAINTREE_API_ACCESS_RESTRICTED):N<500?b=new t(i.US_BANK_ACCOUNT_FAILED_TOKENIZATION):b=new t(i.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR),b.details={originalError:A},b}function e(A,b){var N=A.data[b].paymentMethod,v=N.details.last4,T="US bank account ending in - "+v;return{nonce:N.id,details:{},description:T,type:"us_bank_account"}}O.prototype._loadPlaid=function(A){var b,N;if(A=f(A),window.Plaid){A(null,window.Plaid);return}b=document.querySelector('script[src="'+a.PLAID_LINK_JS+'"]'),b?r(b,A):(N=document.createElement("script"),N.src=a.PLAID_LINK_JS,N.async=!0,r(N,A),document.body.appendChild(N),this._plaidScript=N)};function r(A,b){function N(){var I=this.readyState;(!I||I==="loaded"||I==="complete")&&(T(),b(null,window.Plaid))}function v(){A.parentNode.removeChild(A),b(new t(i.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}function T(){A.removeEventListener("error",v),A.removeEventListener("load",N),A.removeEventListener("readystatechange",N)}A.addEventListener("error",v),A.addEventListener("load",N),A.addEventListener("readystatechange",N)}function u(A){return{streetAddress:A.streetAddress,extendedAddress:A.extendedAddress,city:A.locality,state:A.region,zipCode:A.postalCode}}function _(A,b){b.ownershipType==="personal"?A.individualOwner={firstName:b.firstName,lastName:b.lastName}:b.ownershipType==="business"&&(A.businessOwner={businessName:b.businessName})}function y(A){return"mutation Tokenize"+A+"($input: Tokenize"+A+"Input!) {  tokenize"+A+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}O.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),n(this,p(O.prototype)),Promise.resolve()},l.exports=d.wrapPrototype(O)},{"../lib/analytics":10,"../lib/braintree-error":13,"../lib/convert-methods-to-error":15,"../lib/errors":20,"../lib/methods":22,"../lib/once":23,"./constants":25,"./errors":26,"@braintree/wrap-promise":7}]},{},[27])(27)})})(W,W.exports);var de=W.exports;const le=q(de);var Z={exports:{}},Te=Z.exports;(function(D,B){(function(F){if(!0)D.exports=F();else var j})(function(){var F,j,H;return function(){function o(l,m,t){function a(c,f){if(!m[c]){if(!l[c]){var n=typeof k=="function"&&k;if(!f&&n)return n(c,!0);if(i)return i(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var d=m[c]={exports:{}};l[c][0].call(d.exports,function(h){var E=l[c][1][h];return a(E||h)},d,d.exports,o,l,m,t)}return m[c].exports}for(var i=typeof k=="function"&&k,s=0;s<t.length;s++)a(t[s]);return a}return o}()({1:[function(o,l,m){"use strict";var t=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(m,"__esModule",{value:!0}),m.PromiseGlobal=void 0;var a=t(o("promise-polyfill")),i=typeof Promise<"u"?Promise:a.default;m.PromiseGlobal=i},{"promise-polyfill":8}],2:[function(o,l,m){"use strict";var t=o("./lib/promise"),a={};function i(s){var c,f=JSON.stringify(s);if(!s.forceScriptReload&&(c=a[f],c))return c;var n=document.createElement("script"),p=s.dataAttributes||{},d=s.container||document.head;return n.src=s.src,n.id=s.id||"",n.async=!0,s.crossorigin&&n.setAttribute("crossorigin",""+s.crossorigin),Object.keys(p).forEach(function(h){n.setAttribute("data-"+h,""+p[h])}),c=new t.PromiseGlobal(function(h,E){n.addEventListener("load",function(){h(n)}),n.addEventListener("error",function(){E(new Error(s.src+" failed to load."))}),n.addEventListener("abort",function(){E(new Error(s.src+" has aborted."))}),d.appendChild(n)}),a[f]=c,c}i.clearCache=function(){a={}},l.exports=i},{"./lib/promise":1}],3:[function(o,l,m){l.exports=o("./dist/load-script")},{"./dist/load-script":2}],4:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];setTimeout(function(){try{a.apply(void 0,i)}catch(c){console.log("Error in callback function"),console.log(c)}},1)}}m.deferred=t},{}],5:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a){var i=!1;return function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];i||(i=!0,a.apply(void 0,s))}}m.once=t},{}],6:[function(o,l,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});function t(a,i){if(!i)return a;a.then(function(s){return i(null,s)}).catch(function(s){return i(s)})}m.promiseOrCallback=t},{}],7:[function(o,l,m){"use strict";var t=o("./lib/deferred"),a=o("./lib/once"),i=o("./lib/promise-or-callback");function s(c){return function(){for(var f=[],n=0;n<arguments.length;n++)f[n]=arguments[n];var p,d=f[f.length-1];return typeof d=="function"&&(p=f.pop(),p=a.once(t.deferred(p))),i.promiseOrCallback(c.apply(this,f),p)}}s.wrapPrototype=function(c,f){f===void 0&&(f={});var n=f.ignoreMethods||[],p=f.transformPrivateMethods===!0,d=Object.getOwnPropertyNames(c.prototype).filter(function(h){var E,O=h!=="constructor"&&typeof c.prototype[h]=="function",g=n.indexOf(h)===-1;return p?E=!0:E=h.charAt(0)!=="_",O&&E&&g});return d.forEach(function(h){var E=c.prototype[h];c.prototype[h]=s(E)}),c},l.exports=s},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(o,l,m){"use strict";function t(e){var r=this.constructor;return this.then(function(u){return r.resolve(e()).then(function(){return u})},function(u){return r.resolve(e()).then(function(){return r.reject(u)})})}function a(e){var r=this;return new r(function(u,_){if(!(e&&typeof e.length<"u"))return _(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var y=Array.prototype.slice.call(e);if(y.length===0)return u([]);var A=y.length;function b(v,T){if(T&&(typeof T=="object"||typeof T=="function")){var I=T.then;if(typeof I=="function"){I.call(T,function(C){b(v,C)},function(C){y[v]={status:"rejected",reason:C},--A===0&&u(y)});return}}y[v]={status:"fulfilled",value:T},--A===0&&u(y)}for(var N=0;N<y.length;N++)b(N,y[N])})}var i=setTimeout;function s(e){return!!(e&&typeof e.length<"u")}function c(){}function f(e,r){return function(){e.apply(r,arguments)}}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function p(e,r){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(r);return}e._handled=!0,n._immediateFn(function(){var u=e._state===1?r.onFulfilled:r.onRejected;if(u===null){(e._state===1?d:h)(r.promise,e._value);return}var _;try{_=u(e._value)}catch(y){h(r.promise,y);return}d(r.promise,_)})}function d(e,r){try{if(r===e)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var u=r.then;if(r instanceof n){e._state=3,e._value=r,E(e);return}else if(typeof u=="function"){g(f(u,r),e);return}}e._state=1,e._value=r,E(e)}catch(_){h(e,_)}}function h(e,r){e._state=2,e._value=r,E(e)}function E(e){e._state===2&&e._deferreds.length===0&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var r=0,u=e._deferreds.length;r<u;r++)p(e,e._deferreds[r]);e._deferreds=null}function O(e,r,u){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof r=="function"?r:null,this.promise=u}function g(e,r){var u=!1;try{e(function(_){u||(u=!0,d(r,_))},function(_){u||(u=!0,h(r,_))})}catch(_){if(u)return;u=!0,h(r,_)}}n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,r){var u=new this.constructor(c);return p(this,new O(e,r,u)),u},n.prototype.finally=t,n.all=function(e){return new n(function(r,u){if(!s(e))return u(new TypeError("Promise.all accepts an array"));var _=Array.prototype.slice.call(e);if(_.length===0)return r([]);var y=_.length;function A(N,v){try{if(v&&(typeof v=="object"||typeof v=="function")){var T=v.then;if(typeof T=="function"){T.call(v,function(I){A(N,I)},u);return}}_[N]=v,--y===0&&r(_)}catch(I){u(I)}}for(var b=0;b<_.length;b++)A(b,_[b])})},n.allSettled=a,n.resolve=function(e){return e&&typeof e=="object"&&e.constructor===n?e:new n(function(r){r(e)})},n.reject=function(e){return new n(function(r,u){u(e)})},n.race=function(e){return new n(function(r,u){if(!s(e))return u(new TypeError("Promise.race accepts an array"));for(var _=0,y=e.length;_<y;_++)n.resolve(e[_]).then(r,u)})},n._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){i(e,0)},n._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)},l.exports=n},{}],9:[function(o,l,m){"use strict";var t=o("../lib/braintree-error");l.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:t.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:t.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:t.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":16}],10:[function(o,l,m){"use strict";var t=o("../lib/constants").FRAUDNET_FNCLS,a=o("../lib/constants").FRAUDNET_SOURCE,i=o("../lib/constants").FRAUDNET_URL,s=o("../lib/assets").loadScript,c;function f(g){var e=new p;return g=g||{},!g.sessionId&&c?(e.sessionId=c,Promise.resolve(e)):e.initialize(g)}function n(){c=null}function p(){}p.prototype.initialize=function(g){var e=g.environment,r=this;return this.sessionId=g.sessionId||h(),g.sessionId||(c=this.sessionId),this._beaconId=E(this.sessionId),this._parameterBlock=O(this.sessionId,this._beaconId,e),s({src:i}).then(function(u){return r._thirdPartyBlock=u,r}).catch(function(){return null})},p.prototype.teardown=function(){d(document.querySelector('iframe[title="ppfniframe"]')),d(document.querySelector('iframe[title="pbf"]')),d(this._parameterBlock),d(this._thirdPartyBlock)};function d(g){g&&g.parentNode&&g.parentNode.removeChild(g)}function h(){var g,e="";for(g=0;g<32;g++)e+=Math.floor(Math.random()*16).toString(16);return e}function E(g){var e=new Date().getTime()/1e3;return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+g+"&t="+e+"&a=14"}function O(g,e,r){var u=document.body.appendChild(document.createElement("script")),_={f:g,s:a,b:e};return r!=="production"&&(_.sandbox=!0),u.type="application/json",u.setAttribute("fncls",t),u.text=JSON.stringify(_),u}l.exports={setup:f,clearSessionIdCache:n}},{"../lib/assets":14,"../lib/constants":18}],11:[function(o,l,m){"use strict";var t=o("./kount"),a=o("./fraudnet"),i=o("../lib/braintree-error"),s=o("../lib/basic-component-verification"),c=o("../lib/create-deferred-client"),f=o("../lib/create-assets-url"),n=o("../lib/methods"),p=o("../lib/convert-methods-to-error"),d="3.94.0",h=o("@braintree/wrap-promise"),E=o("./errors");function O(r){var u="Data Collector",_={_instances:[]},y;return s.verify({name:u,client:r.client,authorization:r.authorization}).then(function(){return _._instantiatedWithAClient=!r.useDeferredClient,_._createPromise=c.create({authorization:r.authorization,client:r.client,debug:r.debug,assetsUrl:f.create(r.authorization),name:u}).then(function(A){var b,N=A.getConfiguration();if(r.kount===!0&&N.gatewayConfiguration.kount){try{b=t.setup({environment:N.gatewayConfiguration.environment,merchantId:N.gatewayConfiguration.kount.kountMerchantId})}catch(v){return Promise.reject(new i({type:E.DATA_COLLECTOR_KOUNT_ERROR.type,code:E.DATA_COLLECTOR_KOUNT_ERROR.code,message:v.message}))}y=b.deviceData,_._instances.push(b)}else y={};return Promise.resolve(A)}).then(function(A){return a.setup({sessionId:r.riskCorrelationId||r.clientMetadataId||r.correlationId,environment:A.getConfiguration().gatewayConfiguration.environment}).then(function(b){b&&(y.correlation_id=b.sessionId,_._instances.push(b))})}).then(function(){return _._instances.length===0?Promise.reject(new i(E.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(_.deviceData=JSON.stringify(y),_.rawDeviceData=y,_)}),_.teardown=g(_),_.getDeviceData=e(_),_._instantiatedWithAClient?_._createPromise:_})}function g(r){return h(function(){return r._createPromise.then(function(){r._instances.forEach(function(_){_&&_.teardown()}),p(r,n(r))})})}function e(r){return h(function(_){return _=_||{},r._createPromise.then(function(){return _.raw?Promise.resolve(r.rawDeviceData):Promise.resolve(r.deviceData)})})}l.exports={create:h(O),VERSION:d}},{"../lib/basic-component-verification":15,"../lib/braintree-error":16,"../lib/convert-methods-to-error":19,"../lib/create-assets-url":20,"../lib/create-deferred-client":21,"../lib/methods":24,"./errors":9,"./fraudnet":10,"./kount":12,"@braintree/wrap-promise":7}],12:[function(o,l,m){"use strict";var t=o("./vendor/sjcl"),a=o("../lib/camel-case-to-snake-case"),i="https://assets.qa.braintreepayments.com/data",s="braintreeDataFrame-",c={development:i,qa:i,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},f={};function n(d){var h=d??{};return new p(h)}function p(d){var h=p.getCachedDeviceData(d.merchantId);if(h){this.deviceData=h,this._isCached=!0;return}this._currentEnvironment=this._initializeEnvironment(d),t.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),p.setCachedDeviceData(d.merchantId,this.deviceData),this._iframe=this._setupIFrame()}p.getCachedDeviceData=function(d){return f[d]},p.setCachedDeviceData=function(d,h){f[d]=h},p.prototype.teardown=function(){this._isCached||(t.random.stopCollectors(),this._removeIframe())},p.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},p.prototype._getDeviceData=function(){return a({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},p.prototype._generateDeviceSessionId=function(){var d,h;return d=t.random.randomWords(4,0),h=t.codec.hex.fromBits(d),h},p.prototype._setupIFrame=function(){var d,h,E=this;return d="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,h=document.createElement("iframe"),h.width=1,h.id=s+this._deviceSessionId,h.height=1,h.frameBorder=0,h.scrolling="no",h.style.position="fixed",h.style.left="-999999px",h.style.top="-999999px",h.title="Braintree-Kount-iframe",h.setAttribute("aria-hidden","true"),document.body.appendChild(h),setTimeout(function(){h.src=E._currentEnvironment.url+"/logo.htm"+d,h.innerHTML='<img src="'+E._currentEnvironment.url+"/logo.gif"+d+'" alt="" />'},10),h},p.prototype._initializeEnvironment=function(d){var h=c[d.environment];if(h==null)throw new Error(d.environment+" is not a valid environment for kount.environment");return{url:h,name:d.environment,id:d.merchantId}},l.exports={setup:n,Kount:p,environmentUrls:c}},{"../lib/camel-case-to-snake-case":17,"./vendor/sjcl":13}],13:[function(o,l,m){"use strict";var t={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};t.cipher.aes=function(e){this.l[0][0][0]||this.G();var r,u,_,y,A=this.l[0][4],b=this.l[1];r=e.length;var N=1;if(r!==4&&r!==6&&r!==8)throw new t.exception.invalid("invalid aes key size");for(this.b=[_=e.slice(0),y=[]],e=r;e<4*r+28;e++)u=_[e-1],(e%r===0||r===8&&e%r===4)&&(u=A[u>>>24]<<24^A[u>>16&255]<<16^A[u>>8&255]<<8^A[u&255],e%r===0&&(u=u<<8^u>>>24^N<<24,N=N<<1^283*(N>>7))),_[e]=_[e-r]^u;for(r=0;e;r++,e--)u=_[r&3?e:e-4],y[r]=4>=e||4>r?u:b[0][A[u>>>24]]^b[1][A[u>>16&255]]^b[2][A[u>>8&255]]^b[3][A[u&255]]},t.cipher.aes.prototype={encrypt:function(e){return a(this,e,0)},decrypt:function(e){return a(this,e,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var e=this.l[0],r=this.l[1],u=e[4],_=r[4],y,A,b,N=[],v=[],T,I,C,P;for(y=0;256>y;y++)v[(N[y]=y<<1^283*(y>>7))^y]=y;for(A=b=0;!u[A];A^=T||1,b=v[b]||1)for(C=b^b<<1^b<<2^b<<3^b<<4,C=C>>8^C&255^99,u[A]=C,_[C]=A,I=N[y=N[T=N[A]]],P=16843009*I^65537*y^257*T^16843008*A,I=257*N[C]^16843008*C,y=0;4>y;y++)e[y][A]=I=I<<24^I>>>8,r[y][C]=P=P<<24^P>>>8;for(y=0;5>y;y++)e[y]=e[y].slice(0),r[y]=r[y].slice(0)}};function a(e,r,u){if(r.length!==4)throw new t.exception.invalid("invalid aes block size");var _=e.b[u],y=r[0]^_[0],A=r[u?3:1]^_[1],b=r[2]^_[2];r=r[u?1:3]^_[3];var N,v,T,I=_.length/4-2,C,P=4,S=[0,0,0,0];N=e.l[u],e=N[0];var R=N[1],L=N[2],w=N[3],U=N[4];for(C=0;C<I;C++)N=e[y>>>24]^R[A>>16&255]^L[b>>8&255]^w[r&255]^_[P],v=e[A>>>24]^R[b>>16&255]^L[r>>8&255]^w[y&255]^_[P+1],T=e[b>>>24]^R[r>>16&255]^L[y>>8&255]^w[A&255]^_[P+2],r=e[r>>>24]^R[y>>16&255]^L[A>>8&255]^w[b&255]^_[P+3],P+=4,y=N,A=v,b=T;for(C=0;4>C;C++)S[u?3&-C:C]=U[y>>>24]<<24^U[A>>16&255]<<16^U[b>>8&255]<<8^U[r&255]^_[P++],N=y,y=A,A=b,b=r,r=N;return S}t.bitArray={bitSlice:function(e,r,u){return e=t.bitArray.M(e.slice(r/32),32-(r&31)).slice(1),u===void 0?e:t.bitArray.clamp(e,u-r)},extract:function(e,r,u){var _=Math.floor(-r-u&31);return((r+u-1^r)&-32?e[r/32|0]<<32-_^e[r/32+1|0]>>>_:e[r/32|0]>>>_)&(1<<u)-1},concat:function(e,r){if(e.length===0||r.length===0)return e.concat(r);var u=e[e.length-1],_=t.bitArray.getPartial(u);return _===32?e.concat(r):t.bitArray.M(r,_,u|0,e.slice(0,e.length-1))},bitLength:function(e){var r=e.length;return r===0?0:32*(r-1)+t.bitArray.getPartial(e[r-1])},clamp:function(e,r){if(32*e.length<r)return e;e=e.slice(0,Math.ceil(r/32));var u=e.length;return r=r&31,0<u&&r&&(e[u-1]=t.bitArray.partial(r,e[u-1]&2147483648>>r-1,1)),e},partial:function(e,r,u){return e===32?r:(u?r|0:r<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,r){if(t.bitArray.bitLength(e)!==t.bitArray.bitLength(r))return!1;var u=0,_;for(_=0;_<e.length;_++)u|=e[_]^r[_];return u===0},M:function(e,r,u,_){var y;for(y=0,_===void 0&&(_=[]);32<=r;r-=32)_.push(u),u=0;if(r===0)return _.concat(e);for(y=0;y<e.length;y++)_.push(u|e[y]>>>r),u=e[y]<<32-r;return y=e.length?e[e.length-1]:0,e=t.bitArray.getPartial(y),_.push(t.bitArray.partial(r+e&31,32<r+e?u:_.pop(),1)),_},Y:function(e,r){return[e[0]^r[0],e[1]^r[1],e[2]^r[2],e[3]^r[3]]},byteswapM:function(e){var r,u;for(r=0;r<e.length;++r)u=e[r],e[r]=u>>>24|u>>>8&65280|(u&65280)<<8|u<<24;return e}},t.codec.utf8String={fromBits:function(e){var r="",u=t.bitArray.bitLength(e),_,y;for(_=0;_<u/8;_++)!(_&3)&&(y=e[_/4]),r+=String.fromCharCode(y>>>8>>>8>>>8),y<<=8;return decodeURIComponent(escape(r))},toBits:function(e){e=unescape(encodeURIComponent(e));var r=[],u,_=0;for(u=0;u<e.length;u++)_=_<<8|e.charCodeAt(u),(u&3)===3&&(r.push(_),_=0);return u&3&&r.push(t.bitArray.partial(8*(u&3),_)),r}},t.codec.hex={fromBits:function(e){var r="",u;for(u=0;u<e.length;u++)r+=((e[u]|0)+0xf00000000000).toString(16).substr(4);return r.substr(0,t.bitArray.bitLength(e)/4)},toBits:function(e){var r,u=[],_;for(e=e.replace(/\s|0x/g,""),_=e.length,e=e+"00000000",r=0;r<e.length;r+=8)u.push(parseInt(e.substr(r,8),16)^0);return t.bitArray.clamp(u,4*_)}},t.hash.sha256=function(e){this.b[0]||this.G(),e?(this.u=e.u.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},t.hash.sha256.hash=function(e){return new t.hash.sha256().update(e).finalize()},t.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(e){typeof e=="string"&&(e=t.codec.utf8String.toBits(e));var r,u=this.o=t.bitArray.concat(this.o,e);if(r=this.h,e=this.h=r+t.bitArray.bitLength(e),9007199254740991<e)throw new t.exception.invalid("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array<"u"){var _=new Uint32Array(u),y=0;for(r=512+r-(512+r&511);r<=e;r+=512)i(this,_.subarray(16*y,16*(y+1))),y+=1;u.splice(0,16*y)}else for(r=512+r-(512+r&511);r<=e;r+=512)i(this,u.splice(0,16));return this},finalize:function(){var e,u=this.o,r=this.u,u=t.bitArray.concat(u,[t.bitArray.partial(1,1)]);for(e=u.length+2;e&15;e++)u.push(0);for(u.push(Math.floor(this.h/4294967296)),u.push(this.h|0);u.length;)i(this,u.splice(0,16));return this.reset(),r},K:[],b:[],G:function(){function e(A){return 4294967296*(A-Math.floor(A))|0}for(var r=0,u=2,_,y;64>r;u++){for(y=!0,_=2;_*_<=u;_++)if(u%_===0){y=!1;break}y&&(8>r&&(this.K[r]=e(Math.pow(u,.5))),this.b[r]=e(Math.pow(u,1/3)),r++)}}};function i(e,r){var u,_,y,A=e.u,b=e.b,N=A[0],v=A[1],T=A[2],I=A[3],C=A[4],P=A[5],S=A[6],R=A[7];for(u=0;64>u;u++)16>u?_=r[u]:(_=r[u+1&15],y=r[u+14&15],_=r[u&15]=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+r[u&15]+r[u+9&15]|0),_=_+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(S^C&(P^S))+b[u],R=S,S=P,P=C,C=I+_|0,I=T,T=v,v=N,N=_+(v&T^I&(v^T))+(v>>>2^v>>>13^v>>>22^v<<30^v<<19^v<<10)|0;A[0]=A[0]+N|0,A[1]=A[1]+v|0,A[2]=A[2]+T|0,A[3]=A[3]+I|0,A[4]=A[4]+C|0,A[5]=A[5]+P|0,A[6]=A[6]+S|0,A[7]=A[7]+R|0}t.prng=function(e){this.c=[new t.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=e,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},t.prng.prototype={randomWords:function(e,r){var u=[],_;_=this.isReady(r);var y;if(_===this.m)throw new t.exception.notReady("generator isn't seeded");if(_&this.A){_=!(_&this.w),y=[];var A=0,b;for(this.L=y[0]=new Date().valueOf()+this.P,b=0;16>b;b++)y.push(4294967296*Math.random()|0);for(b=0;b<this.c.length&&(y=y.concat(this.c[b].finalize()),A+=this.i[b],this.i[b]=0,_||!(this.H&1<<b));b++);for(this.H>=1<<this.c.length&&(this.c.push(new t.hash.sha256),this.i.push(0)),this.f-=A,A>this.j&&(this.j=A),this.H++,this.b=t.hash.sha256.hash(this.b.concat(y)),this.C=new t.cipher.aes(this.b),_=0;4>_&&(this.g[_]=this.g[_]+1|0,!this.g[_]);_++);}for(_=0;_<e;_+=4)(_+1)%this.O===0&&f(this),y=n(this),u.push(y[0],y[1],y[2],y[3]);return f(this),u.slice(0,e)},setDefaultParanoia:function(e,r){if(e===0&&r!=="Setting paranoia=0 will ruin your security; use it only for testing")throw new t.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=e},addEntropy:function(e,r,u){u=u||"user";var _,y,A=new Date().valueOf(),b=this.v[u],N=this.isReady(),v=0;switch(_=this.J[u],_===void 0&&(_=this.J[u]=this.T++),b===void 0&&(b=this.v[u]=0),this.v[u]=(this.v[u]+1)%this.c.length,typeof e){case"number":r===void 0&&(r=1),this.c[b].update([_,this.F++,1,r,A,1,e|0]);break;case"object":if(u=Object.prototype.toString.call(e),u==="[object Uint32Array]"){for(y=[],u=0;u<e.length;u++)y.push(e[u]);e=y}else for(u!=="[object Array]"&&(v=1),u=0;u<e.length&&!v;u++)typeof e[u]!="number"&&(v=1);if(!v){if(r===void 0)for(u=r=0;u<e.length;u++)for(y=e[u];0<y;)r++,y=y>>>1;this.c[b].update([_,this.F++,2,r,A,e.length].concat(e))}break;case"string":r===void 0&&(r=e.length),this.c[b].update([_,this.F++,3,r,A,e.length]),this.c[b].update(e);break;default:v=1}if(v)throw new t.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[b]+=r,this.f+=r,N===this.m&&(this.isReady()!==this.m&&s("seeded",Math.max(this.j,this.f)),s("progress",this.getProgress()))},isReady:function(e){return e=this.I[e!==void 0?e:this.D],this.j&&this.j>=e?this.i[0]>this.N&&new Date().valueOf()>this.L?this.A|this.w:this.w:this.f>=e?this.A|this.m:this.m},getProgress:function(e){return e=this.I[e||this.D],this.j>=e||this.f>e?1:this.f/e},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:p(this,this.V),mouseCollector:p(this,this.W),keyboardCollector:p(this,this.U),accelerometerCollector:p(this,this.R),touchCollector:p(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new t.exception.bug("can't attach event");this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(e,r){this.B[e][this.S++]=r},removeEventListener:function(e,r){var u,_,y=this.B[e],A=[];for(_ in y)y.hasOwnProperty(_)&&y[_]===r&&A.push(_);for(u=0;u<A.length;u++)_=A[u],delete y[_]},U:function(){c(this,1)},W:function(e){var r,u;try{r=e.x||e.clientX||e.offsetX||0,u=e.y||e.clientY||e.offsetY||0}catch{u=r=0}r!=0&&u!=0&&this.addEntropy([r,u],2,"mouse"),c(this,0)},X:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),c(this,0)},V:function(){c(this,2)},R:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var r=window.orientation;typeof r=="number"&&this.addEntropy(r,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),c(this,0)}};function s(e,r){var u,_=t.random.B[e],y=[];for(u in _)_.hasOwnProperty(u)&&y.push(_[u]);for(u=0;u<y.length;u++)y[u](r)}function c(e,r){typeof window<"u"&&window.performance&&typeof window.performance.now=="function"?e.addEntropy(window.performance.now(),r,"loadtime"):e.addEntropy(new Date().valueOf(),r,"loadtime")}function f(e){e.b=n(e).concat(n(e)),e.C=new t.cipher.aes(e.b)}function n(e){for(var r=0;4>r&&(e.g[r]=e.g[r]+1|0,!e.g[r]);r++);return e.C.encrypt(e.g)}function p(e,r){return function(){r.apply(e,arguments)}}t.random=new t.prng(6);e:try{var d,h,E,O;if(O=typeof l<"u"&&l.exports){var g;try{g=o("crypto")}catch{g=null}O=h=g}if(O&&h.randomBytes)d=h.randomBytes(128),d=new Uint32Array(new Uint8Array(d).buffer),t.random.addEntropy(d,1024,"crypto['randomBytes']");else if(typeof window<"u"&&typeof Uint32Array<"u"){if(E=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(E);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(E);else break e;t.random.addEntropy(E,1024,"crypto['getRandomValues']")}}catch(e){typeof window<"u"&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}typeof l<"u"&&l.exports&&(l.exports=t),typeof F=="function"&&F([],function(){return t})},{crypto:void 0}],14:[function(o,l,m){"use strict";var t=o("@braintree/asset-loader/load-script");l.exports={loadScript:t}},{"@braintree/asset-loader/load-script":3}],15:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./errors"),i="3.94.0";function s(c){var f,n,p;return c?(p=c.name,f=c.client,n=c.authorization,!f&&!n?Promise.reject(new t({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+p+"."})):!n&&f.getVersion()!==i?Promise.reject(new t({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+f.getVersion()+") and "+p+" (version "+i+") components must be from the same SDK version."})):Promise.resolve()):Promise.reject(new t({type:a.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:a.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}l.exports={verify:s}},{"./braintree-error":16,"./errors":23}],16:[function(o,l,m){"use strict";var t=o("./enumerate");function a(i){if(!a.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.types=t(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),a.findRootError=function(i){return i instanceof a&&i.details&&i.details.originalError?a.findRootError(i.details.originalError):i},l.exports=a},{"./enumerate":22}],17:[function(o,l,m){"use strict";function t(a){return a.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}l.exports=function(a){return Object.keys(a).reduce(function(i,s){var c=t(s);return i[c]=a[s],i},{})}},{}],18:[function(o,l,m){"use strict";var t="3.94.0",a="web",i={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},s={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},c={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};l.exports={ANALYTICS_PREFIX:a+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:s,CLIENT_API_URLS:i,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:c,INTEGRATION_TIMEOUT_MS:6e4,VERSION:t,INTEGRATION:"custom",SOURCE:"client",PLATFORM:a,BRAINTREE_LIBRARY_VERSION:"braintree/"+a+"/"+t}},{}],19:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./errors");l.exports=function(i,s){s.forEach(function(c){i[c]=function(){throw new t({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:c+" cannot be called after teardown."})}})}},{"./braintree-error":16,"./errors":23}],20:[function(o,l,m){"use strict";var t=o("./constants").ASSETS_URLS;function a(i){return t.production}l.exports={create:a}},{"./constants":18}],21:[function(o,l,m){"use strict";var t=o("./braintree-error"),a=o("./assets"),i=o("./errors"),s="3.94.0";function c(f){var n=Promise.resolve();return f.client?Promise.resolve(f.client):(window.braintree&&window.braintree.client||(n=a.loadScript({src:f.assetsUrl+"/web/"+s+"/js/client.min.js"}).catch(function(p){return Promise.reject(new t({type:i.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:i.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:i.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:p}}))})),n.then(function(){return window.braintree.client.VERSION!==s?Promise.reject(new t({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+f.name+" (version "+s+") components must be from the same SDK version."})):window.braintree.client.create({authorization:f.authorization,debug:f.debug})}))}l.exports={create:c}},{"./assets":14,"./braintree-error":16,"./errors":23}],22:[function(o,l,m){"use strict";function t(a,i){return i=i??"",a.reduce(function(s,c){return s[c]=i+c,s},{})}l.exports=t},{}],23:[function(o,l,m){"use strict";var t=o("./braintree-error");l.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:t.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:t.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:t.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:t.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:t.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":16}],24:[function(o,l,m){"use strict";l.exports=function(t){return Object.keys(t).filter(function(a){return typeof t[a]=="function"})}},{}]},{},[11])(11)})})(Z,Z.exports);var fe=Z.exports;const pe=q(fe),{log:he,error:me}=ie("bt.service.jsx"),re={Client:se,PayPalCheckout:ue,USBankAccount:le,DataCollector:pe},Ne=async(D,B)=>{if(!Object.hasOwn(re,D)){me("Braintree client SDK class for "+D+" not setup");return}return re[D].create(B)},be=async(D,B,F=[],j=[])=>{const H="/api/braintree/sdk/interface",o=localStorage.getItem("authHeader")?{authorization:"Basic "+localStorage.getItem("authHeader")}:{},l={resource:D,operation:B,args:F,params:j};return await oe.post(H,l,o)},Oe=async(D,B)=>{he(D,B)};export{ue as B,Ne as c,Oe as g,be as s};
//# sourceMappingURL=bt.service-81d9e687.js.map
