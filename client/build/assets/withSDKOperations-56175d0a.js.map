{"version":3,"file":"withSDKOperations-56175d0a.js","sources":["../../src/integrations/components/DataEdit.jsx","../../src/integrations/components/OperationEdit.jsx","../../src/integrations/apps/braintree/layouts/withSDKOperations.jsx"],"sourcesContent":["import React from 'react';\nimport OutputJson from '../../lib/components/form/OutputJson/OutputJson.component';\nimport InputText from '../../lib/components/form/InputText/InputText.component';\n\nconst DataEdit = (props) => {\n\n    const onChange = (value) => props.onChange(props.dataId, value);\n\n    if (typeof props.data === 'object' && props.data !== null) return <OutputJson theme=\"rjv-default\" name={props.dataId} src={props.data} isEditable={true} onChange={onChange} />\n    return <InputText label={props.dataId} onChange={onChange} value={props.data} />\n\n};\n\nexport default DataEdit;\n","import { useCallback } from 'react';\nimport DataEdit from \"./DataEdit\";\nimport Card from '../../lib/components/other/Card/Card.component';\n\nconst OperationEdit = (props) => {\n\n    const onChange = useCallback((dataId, value) => {\n        props.onChange(props.operationId, {\n            ...props.operation.data,\n            [dataId]: value\n        });\n    },[])\n\n    return (\n        <Card>\n            <div className=\"bg-light p-2 text-muted fw-bold\">{props.operation.type + ' --> ' + props.operation.label}</div>\n            {Object.keys(props.operation.data).map(dataId => <DataEdit key={dataId} dataId={dataId} data={props.operation.data[dataId]} onChange={onChange} />)}\n            <br />\n        </Card>\n    );\n};\n\nexport default OperationEdit;\n","import { useReducer } from 'react'\nimport OperationEdit from '../../../components/OperationEdit'\nimport { useAppContext } from '../../../states/AppContext/AppContextHooks'\n\nconst _operationsReducer = {\n    reducer: (state, action) => {\n        return {\n            ...state,\n            [action.id]: {\n                ...state[action.id],\n                data: action.value,\n            },\n        }\n    },\n    init: (operations) => operations,\n}\n\nconst withSDKOperations = (BaseComponent, initOperations, requiredContext = []) => {\n    const WithSDKOperations = (props) => {\n        const appContext = useAppContext()\n        const [operations, dispatchOperations] = useReducer(\n            _operationsReducer.reducer,\n            initOperations,\n            _operationsReducer.init,\n        )\n\n        const updateOperations = (id, value) => {\n            dispatchOperations({\n                id: id,\n                value: value,\n            })\n        }\n\n        const contextRender = () => {\n            if (requiredContext.length < 1) return null\n            return (\n                <div className=\"col-12 px-2 py-4\">\n                    {requiredContext.map((label, key) => {\n                        const color = appContext[label] ? 'bg-success text-bg-success' : 'bg-warning text-bg-warning'\n                        const finalClass = 'm-1 px-3 py-2 rounded-3 app-text-regular ' + color\n                        return (\n                            <span key={label + key} className={finalClass}>\n                                {label}\n                            </span>\n                        )\n                    })}\n                </div>\n            )\n        }\n\n        return (\n            <div className=\"row\">\n                <br />\n                <br />\n                {contextRender()}\n                <div className=\"col-8\">\n                    {Object.keys(operations).map((operationId) => (\n                        <OperationEdit\n                            key={operationId}\n                            operationId={operationId}\n                            operation={operations[operationId]}\n                            onChange={updateOperations}\n                        />\n                    ))}\n                </div>\n                <div className=\"col-4\">\n                    <BaseComponent {...props} operations={operations} />\n                </div>\n            </div>\n        )\n    }\n    WithSDKOperations.displayName = 'WithSDKOperations'\n    return WithSDKOperations\n}\n\nexport default withSDKOperations\n"],"names":["DataEdit","props","onChange","value","jsx","OutputJson","InputText","OperationEdit","useCallback","dataId","Card","_operationsReducer","state","action","operations","withSDKOperations","BaseComponent","initOperations","requiredContext","WithSDKOperations","appContext","useAppContext","dispatchOperations","useReducer","updateOperations","id","jsxs","label","key","finalClass","operationId","withSDKOperations$1"],"mappings":"iIAIA,MAAMA,EAAYC,GAAU,CAExB,MAAMC,EAAYC,GAAUF,EAAM,SAASA,EAAM,OAAQE,CAAK,EAE9D,OAAI,OAAOF,EAAM,MAAS,UAAYA,EAAM,OAAS,KAAcG,EAAAC,EAAA,CAAW,MAAM,cAAc,KAAMJ,EAAM,OAAQ,IAAKA,EAAM,KAAM,WAAY,GAAM,SAAAC,CAAoB,CAAA,EACtKE,EAACE,GAAU,MAAOL,EAAM,OAAQ,SAAAC,EAAoB,MAAOD,EAAM,IAAM,CAAA,CAElF,ECPMM,EAAiBN,GAAU,CAE7B,MAAMC,EAAWM,EAAAA,YAAY,CAACC,EAAQN,IAAU,CACtCF,EAAA,SAASA,EAAM,YAAa,CAC9B,GAAGA,EAAM,UAAU,KACnB,CAACQ,CAAM,EAAGN,CAAA,CACb,CACL,EAAE,CAAE,CAAA,EAEJ,SACKO,EACG,CAAA,SAAA,CAACN,EAAA,MAAA,CAAI,UAAU,kCAAmC,SAAAH,EAAM,UAAU,KAAO,QAAUA,EAAM,UAAU,KAAM,CAAA,EACxG,OAAO,KAAKA,EAAM,UAAU,IAAI,EAAE,IAAcQ,GAAAL,EAACJ,GAAsB,OAAAS,EAAgB,KAAMR,EAAM,UAAU,KAAKQ,CAAM,EAAG,SAAAP,GAA5DO,CAAgF,CAAE,IACjJ,KAAG,EAAA,CACR,CAAA,CAAA,CAER,EChBME,EAAqB,CACvB,QAAS,CAACC,EAAOC,KACN,CACH,GAAGD,EACH,CAACC,EAAO,EAAE,EAAG,CACT,GAAGD,EAAMC,EAAO,EAAE,EAClB,KAAMA,EAAO,KACjB,CAAA,GAGR,KAAOC,GAAeA,CAC1B,EAEMC,EAAoB,CAACC,EAAeC,EAAgBC,EAAkB,CAAA,IAAO,CACzE,MAAAC,EAAqBlB,GAAU,CACjC,MAAMmB,EAAaC,IACb,CAACP,EAAYQ,CAAkB,EAAIC,EAAA,WACrCZ,EAAmB,QACnBM,EACAN,EAAmB,IAAA,EAGjBa,EAAmB,CAACC,EAAItB,IAAU,CACjBmB,EAAA,CACf,GAAAG,EACA,MAAAtB,CAAA,CACH,CAAA,EAqBD,OAAAuB,EAAC,MAAI,CAAA,UAAU,MACX,SAAA,CAAAtB,EAAC,KAAG,EAAA,IACH,KAAG,EAAA,GApBU,IACdc,EAAgB,OAAS,EAAU,KAEnCd,EAAC,OAAI,UAAU,mBACV,WAAgB,IAAI,CAACuB,EAAOC,IAAQ,CAEjC,MAAMC,EAAa,6CADLT,EAAWO,CAAK,EAAI,6BAA+B,8BAEjE,SACK,OAAuB,CAAA,UAAWE,EAC9B,SAAAF,CAAA,EADMA,EAAQC,CAEnB,CAEP,CAAA,CACL,CAAA,GAQe,EACfxB,EAAC,MAAI,CAAA,UAAU,QACV,SAAA,OAAO,KAAKU,CAAU,EAAE,IAAKgB,GAC1B1B,EAACG,EAAA,CAEG,YAAAuB,EACA,UAAWhB,EAAWgB,CAAW,EACjC,SAAUN,CAAA,EAHLM,CAKZ,CAAA,EACL,EACA1B,EAAC,OAAI,UAAU,QACX,WAACY,EAAe,CAAA,GAAGf,EAAO,WAAAa,CAAA,CAAwB,CACtD,CAAA,CACJ,CAAA,CAAA,CAAA,EAGR,OAAAK,EAAkB,YAAc,oBACzBA,CACX,EAEAY,EAAehB"}