import{u as f,b as I,d as g,c as N,f as B,a as E,F as T,j as t}from"./index-5183357d.js";import{r as u,P as v}from"./vendor-d2c1d7ba.js";import{B as A,s as D}from"./bt.service-231e8587.js";import{w as O}from"./withOperations.hoc-a1e834ab.js";import{l as n,d as c,w as x}from"./LoggerService-c6aefb93.js";import"./logger.utils-ababba19.js";import"./http.utils-2a9b74b8.js";import"./InputText.component-62651ba0.js";const z={paypalCheckoutCreate:{label:"braintree-web.paypalCheckout.create(options, callback)",type:"client",data:{options:{client:"CLIENT_INSTANCE_HERE"}}},loadPayPalSDK:{label:"paypalCheckoutInstance.loadPayPalSDK(options, callback)",type:"client",data:{options:{currency:"USD",intent:"capture","disable-funding":"card"}}},renderPayPalButtons:{label:"window.paypal.Buttons(config).render",type:"client",data:{config:{style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal",tagline:!1}}}},createPayment:{label:"paypalCheckoutInstance.createPayment(options, callback)",type:"client",data:{options:{flow:"checkout",intent:"capture",amount:"100.00",currency:"USD",enableShippingAddress:!0,shippingAddressEditable:!0}}},tokenizePayment:{label:"paypalCheckoutInstance.tokenizePayment(tokenizeOptions, callback)",type:"client",data:{tokenizeOptions:{}}},transactionSale:{label:"gateway.transaction.sale(parameters, callback)",type:"server",data:{parameters:{amount:"100.00",merchantAccountId:"odesai_USD",paymentMethodNonce:"NONCE_HERE",options:{submitForSettlement:!0}}}}},K=["clientInstance"],d=l=>{const o=f(),r=I(),y=g(),s=N(),P=B(),i=u.useRef(),[p,m]=u.useState(void 0),[b,C]=u.useState(void 0),h=async()=>{o();try{const e=await A.create({client:P.clientInstance});n("Checkout: createPayPalInstance",e),m(e)}catch(e){s(),c("NewCustomer: createPayPalInstance",e)}r()},k=async()=>{o(),await p.loadPayPalSDK(l.operations.loadPayPalSDK.data.options),r()},w=async()=>{o();try{if(!window?.paypal?.Buttons)throw Error("PayPal JS SDK not found");const e=S();i.current.innerHTML=null,await window.paypal.Buttons(e).render(i.current)}catch(e){s(),c("NewCustomer: renderPayPalButtons",e)}r()},S=()=>({...l.operations.renderPayPalButtons.data.config,fundingSource:window.paypal.FUNDING.PAYPAL,createOrder:async()=>{o();let e;try{e=await p.createPayment(l.operations.createPayment.data.options),n("createOrder",e)}catch(a){s(),c("createOrder",a)}return r(),e},onApprove:async e=>{o();try{n("onApprove",e);const a=await p.tokenizePayment(e);n("tokenizePayment",a),y("TokenizePayment",a),C(a.nonce)}catch(a){s(),c("onApprove",a)}r()},onClick:(...e)=>n("PayPalCheckout: onClick",{...e}),onInit:(...e)=>n("PayPalCheckout: onInit",{...e}),onCancel:e=>x("PayPalCheckout: onCancel",e),onError:e=>c("PayPalCheckout: onError",e)});return E(T,{children:[t("button",{className:"btn btn-outline-success",onClick:h,children:"Create PayPal Instance"}),t("br",{}),t("br",{}),t("button",{className:"btn btn-outline-success",onClick:k,children:"Load PayPal JS SDK"}),t("br",{}),t("br",{}),t("button",{className:"btn btn-outline-success",onClick:w,children:"Render PayPal Buttons"}),t("br",{}),t("br",{}),t("div",{ref:i}),t("br",{}),t("br",{}),t("button",{className:"btn btn-outline-success",onClick:async()=>{o();try{const e={...l.operations.transactionSale.data.parameters,paymentMethodNonce:b},a=await D("transaction","sale",[],e);n("Checkout: createTransaction",a),y("TransactionSale",a)}catch(e){s(),c("Checkout: createTransaction",e)}r()},children:"Create Transaction"})]})};d.propTypes={operations:v.object};const q=O(d,z,K);export{q as default};
//# sourceMappingURL=Checkout-fe31e8b7.js.map
