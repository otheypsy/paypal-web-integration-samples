import{d as m,e as b,f as h,g as v,h as w,r as P,b as f,F as S,j as c}from"./index-bc6e35e4.js";import{w as C}from"./withOperations.component-fd3e39c1.js";import{P as y}from"./PayPalOrdersService-f6f147cd.js";import"./export-5fac481c.js";import{c as E}from"./logger.utils-ababba19.js";import"./InputText.component-c228375d.js";const k=(r,o={},s={})=>new Promise((l,p)=>{const e=document.createElement("script"),i=new URL(r);for(const t in o)i.searchParams.append(t,o[t]);for(const t in s)e.setAttribute(t,s[t]);const d=()=>{l(e),e.removeEventListener("error",a),e.removeEventListener("load",d)},a=t=>{p(t),e.removeEventListener("error",a),e.removeEventListener("load",d)};e.src=i.href,e.async=!0,document.body.appendChild(e),e.addEventListener("load",d),e.addEventListener("error",a)}),B=async(r={},o={})=>{const s={components:"buttons,funding-eligibility","client-id":"test","disable-funding":"card",...r};return await k("https://www.paypal.com/sdk/js",s,o)},{log:D,error:j}=E("PPCheckout.component.jsx"),O={loadPayPalSDK:{label:"Load PayPal JS SDK",type:"client",data:{options:{},dataAttributes:{}}},createOrder:{label:"Create Order",type:"server",data:{uri:"v2/checkout/orders",method:"POST",body:{intent:"CAPTURE",purchase_units:[{invoice_id:"INV-"+Math.round(new Date().getTime()/1e3),amount:{currency_code:"USD",value:"220.00"}}]}}},onApprove:{label:"Execute Order",type:"server",data:{uri:"v2/checkout/orders",method:"POST",body:{}}}},x=r=>{const o=m(),s=b(),l=h(),p=v(),e=w(),i=P.useRef(void 0),[d]=P.useState(),a=()=>{if(setIsBusy(!0),!window.hasOwnProperty("PP")||!window.PP.hasOwnProperty("paypal"))return console.error("Unable to load PayPal Checkout SDK - JSV5");window.PP.paypal.Buttons({createOrder:async()=>{setIsBusy(!0);const n=await y.orders.create(d);return setResponse(n),setIsBusy(!1),n.id},onApprove:async n=>{setIsBusy(!0);const u=await y.orders.execute(n.orderID);setResponse(u),setIsBusy(!1)}}).render("#paypalCheckoutDiv").then(()=>{setIsBusy(!1)})};return f(S,{children:[c("button",{className:"btn btn-outline-success",onClick:async()=>{o(),D(r.operations);const{options:n,dataAttributes:u}=r.operations.loadPayPalSDK.data;await B(n,u),s()},children:"Load PayPal JS SDK"}),c("br",{}),c("button",{className:"btn btn-outline-success",onClick:a,children:"Render PayPal Buttons"}),c("br",{}),c("button",{className:"btn btn-outline-success",onClick:a,children:"Execute Order"}),c("div",{ref:i})]})},U=C(x,O);export{U as default};
//# sourceMappingURL=PPCheckout.component-2c874230.js.map
