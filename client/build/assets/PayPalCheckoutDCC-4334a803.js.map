{"version":3,"file":"PayPalCheckoutDCC-4334a803.js","sources":["../../src/app/paypal/pages/PPHostedFields/PayPalCheckoutDCC.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport { Card, OutputJson } from '../../../../lib/components/export.jsx'\nimport PayPalOrdersService from '../../services/PayPalOrdersService.jsx'\nimport AppService from '../../../../services/app.service.jsx'\nimport createLoggers from '../../../../utils/logger.utils.jsx'\n\nconst { log, error } = createLoggers('ClientToken.component.jsx')\n\nconst PayPalCheckoutDCC = () => {\n    const [order] = useState({\n        intent: 'CAPTURE',\n        purchase_units: [\n            {\n                reference_id: 'PUHF',\n                description: 'Sporting Goods',\n                invoice_id: 'INV-HighFashions-' + Math.round(new Date().getTime() / 1000),\n                custom_id: 'CUST-HighFashions',\n                soft_descriptor: 'HighFashions',\n                amount: {\n                    currency_code: 'USD',\n                    value: '220.00',\n                    breakdown: {\n                        item_total: {\n                            currency_code: 'USD',\n                            value: '180.00',\n                        },\n                        shipping: {\n                            currency_code: 'USD',\n                            value: '20.00',\n                        },\n                        handling: {\n                            currency_code: 'USD',\n                            value: '10.00',\n                        },\n                        tax_total: {\n                            currency_code: 'USD',\n                            value: '20.00',\n                        },\n                        shipping_discount: {\n                            currency_code: 'USD',\n                            value: '5.00',\n                        },\n                        discount: {\n                            currency_code: 'USD',\n                            value: '5.00',\n                        },\n                    },\n                },\n                items: [\n                    {\n                        name: 'T-Shirt',\n                        description: 'Green XL',\n                        sku: 'sku01',\n                        unit_amount: {\n                            currency_code: 'USD',\n                            value: '90.00',\n                        },\n                        tax: {\n                            currency_code: 'USD',\n                            value: '10.00',\n                        },\n                        quantity: '1',\n                        category: 'PHYSICAL_GOODS',\n                    },\n                    {\n                        name: 'Shoes',\n                        description: 'Running, Size 10.5',\n                        sku: 'sku02',\n                        unit_amount: {\n                            currency_code: 'USD',\n                            value: '45.00',\n                        },\n                        tax: {\n                            currency_code: 'USD',\n                            value: '5.00',\n                        },\n                        quantity: '2',\n                        category: 'PHYSICAL_GOODS',\n                    },\n                ],\n            },\n        ],\n    })\n    const [hostedFieldsInstance, setHostedFieldsInstance] = useState({})\n    const busyContext = useContext(BusyContext)\n\n    useEffect(() => {\n        initialize().then()\n    }, [])\n\n    const initialize = async () => {\n        const paypal = await AppService.scripts.paypal.jsv5(\n            {},\n            {\n                'data-client-token': '12345',\n            },\n        )\n        if (paypal?.HostedFields?.isEligible()) {\n            renderPayPalHostedFields(paypal)\n        } else {\n            document.getElementById('paypalHostedFields').style.display = 'none'\n            AppService.logger.error('Not eligible for PayPal Hosted Fields')\n        }\n    }\n\n    const renderPayPalHostedFields = (paypal) => {\n        paypal.HostedFields.render({\n            createOrder: function () {\n                return 'order-ID'\n            }, // replace order-ID with the order ID\n            styles: {\n                input: {\n                    'font-size': '17px',\n                    'font-family': 'helvetica, tahoma, calibri, sans-serif',\n                    color: '#3a3a3a',\n                },\n                ':focus': {\n                    color: 'black',\n                },\n            },\n            fields: {\n                number: {\n                    selector: '#card-number',\n                    placeholder: 'card number',\n                },\n                cvv: {\n                    selector: '#cvv',\n                    placeholder: 'card security number',\n                },\n                expirationDate: {\n                    selector: '#expiration-date',\n                    placeholder: 'mm/yy',\n                },\n            },\n        }).then((hostedFields) => setHostedFieldsInstance(hostedFields))\n    }\n\n    const onSubmit = () => {\n        busyContext.addBusy('paypalHostedFields')\n        hostedFieldsInstance.submit({\n            // Cardholder Name\n            cardholderName: document.getElementById('card-holder-name').value,\n            // Billing Address\n            billingAddress: {\n                streetAddress: document.getElementById('card-billing-address-street').value, // address_line_1 - street\n                extendedAddress: document.getElementById('card-billing-address-unit').value, // address_line_2 - unit\n                region: document.getElementById('card-billing-address-state').value, // admin_area_1 - state\n                locality: document.getElementById('card-billing-address-city').value, // admin_area_2 - town / city\n                postalCode: document.getElementById('card-billing-address-zip').value, // postal_code - postal_code\n                countryCodeAlpha2: document.getElementById('card-billing-address-country').value, // country_code - country\n            },\n        })\n    }\n\n    return (\n        <React.Fragment>\n            <h3>PayPal Checkout - Advance Payments</h3>\n            <hr />\n            <Card>\n                <div id=\"paypalCheckoutDiv\" />\n                <div id=\"paypalHostedFields\">\n                    <div> -- OR -- </div>\n                    <div>\n                        <label htmlFor=\"cardNumber\">Card Number</label>\n                        <div id=\"cardNumber\" className=\"cardField\" />\n                    </div>\n                    <div>\n                        <label htmlFor=\"expirationDate\">Expiration Date</label>\n                        <div id=\"expirationDate\" className=\"cardField\" />\n                    </div>\n                    <div>\n                        <label htmlFor=\"cvv\">CVV</label>\n                        <div id=\"cvv\" className=\"card_field\" />\n                    </div>\n                    <label htmlFor=\"card-holder-name\">Name on Card</label>\n                    <input\n                        type=\"text\"\n                        id=\"card-holder-name\"\n                        name=\"card-holder-name\"\n                        autoComplete=\"off\"\n                        placeholder=\"card holder name\"\n                    />\n                    <div>\n                        <label htmlFor=\"card-billing-address-street\">Billing Address</label>\n                        <input\n                            type=\"text\"\n                            id=\"card-billing-address-street\"\n                            name=\"card-billing-address-street\"\n                            autoComplete=\"off\"\n                            placeholder=\"street address\"\n                        />\n                    </div>\n                    <div>\n                        <label htmlFor=\"card-billing-address-unit\">&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            id=\"card-billing-address-unit\"\n                            name=\"card-billing-address-unit\"\n                            autoComplete=\"off\"\n                            placeholder=\"unit\"\n                        />\n                    </div>\n                    <div>\n                        <input\n                            type=\"text\"\n                            id=\"card-billing-address-city\"\n                            name=\"card-billing-address-city\"\n                            autoComplete=\"off\"\n                            placeholder=\"city\"\n                        />\n                    </div>\n                    <div>\n                        <input\n                            type=\"text\"\n                            id=\"card-billing-address-state\"\n                            name=\"card-billing-address-state\"\n                            autoComplete=\"off\"\n                            placeholder=\"state\"\n                        />\n                    </div>\n                    <div>\n                        <input\n                            type=\"text\"\n                            id=\"card-billing-address-zip\"\n                            name=\"card-billing-address-zip\"\n                            autoComplete=\"off\"\n                            placeholder=\"zip / postal code\"\n                        />\n                    </div>\n                    <div>\n                        <input\n                            type=\"text\"\n                            id=\"card-billing-address-country\"\n                            name=\"card-billing-address-country\"\n                            autoComplete=\"off\"\n                            placeholder=\"country code\"\n                        />\n                    </div>\n                    <br />\n                    <br />\n                    <button value=\"submit\" id=\"submit\" className=\"btn\" onClick={onSubmit}>\n                        Pay\n                    </button>\n                </div>\n            </Card>\n            <br />\n            <OutputJson content={order} />\n        </React.Fragment>\n    )\n}\n\nexport default PayPalCheckoutDCC\n"],"names":["log","error","createLoggers","PayPalCheckoutDCC","order","useState","hostedFieldsInstance","setHostedFieldsInstance","busyContext","useContext","useEffect","initialize","paypal","AppService","renderPayPalHostedFields","hostedFields","onSubmit","jsxs","React","jsx","Card","OutputJson"],"mappings":"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"}