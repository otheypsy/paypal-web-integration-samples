{"version":3,"file":"BraintreeInterface-06e397b0.js","sources":["../../src/utils/logger.utils.jsx","../../../node_modules/braintree-web/dist/browser/client.js","../../../node_modules/braintree-web/dist/browser/paypal-checkout.js","../../../node_modules/braintree-web/dist/browser/us-bank-account.js","../../src/utils/http.utils.jsx","../../src/integrations/apps/braintree/services/BraintreeInterface.jsx"],"sourcesContent":["const getTimePrefix = () => {\n    const dateObj = new Date()\n    return '[' + dateObj.getHours() + ':' + dateObj.getMinutes() + ':' + dateObj.getSeconds() + ']'\n}\n\nconst createLoggers = (label) => {\n    const log = (...args) => console.log(getTimePrefix(), label, ...args)\n    const warn = (...args) => console.warn(getTimePrefix(), label, ...args)\n    const error = (...args) => console.error(getTimePrefix(), label, ...args)\n\n    return { log, warn, error }\n}\n\nexport default createLoggers\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}(g.braintree || (g.braintree = {})).client = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PromiseGlobal = void 0;\nvar promise_polyfill_1 = __importDefault(_dereq_(\"promise-polyfill\"));\nvar PromiseGlobal = \n// eslint-disable-next-line no-undef\ntypeof Promise !== \"undefined\" ? Promise : promise_polyfill_1.default;\nexports.PromiseGlobal = PromiseGlobal;\n\n},{\"promise-polyfill\":9}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar promise_1 = _dereq_(\"./lib/promise\");\nvar scriptPromiseCache = {};\nfunction loadScript(options) {\n    var scriptLoadPromise;\n    var stringifiedOptions = JSON.stringify(options);\n    if (!options.forceScriptReload) {\n        scriptLoadPromise = scriptPromiseCache[stringifiedOptions];\n        if (scriptLoadPromise) {\n            return scriptLoadPromise;\n        }\n    }\n    var script = document.createElement(\"script\");\n    var attrs = options.dataAttributes || {};\n    var container = options.container || document.head;\n    script.src = options.src;\n    script.id = options.id || \"\";\n    script.async = true;\n    if (options.crossorigin) {\n        script.setAttribute(\"crossorigin\", \"\" + options.crossorigin);\n    }\n    Object.keys(attrs).forEach(function (key) {\n        script.setAttribute(\"data-\" + key, \"\" + attrs[key]);\n    });\n    scriptLoadPromise = new promise_1.PromiseGlobal(function (resolve, reject) {\n        script.addEventListener(\"load\", function () {\n            resolve(script);\n        });\n        script.addEventListener(\"error\", function () {\n            reject(new Error(options.src + \" failed to load.\"));\n        });\n        script.addEventListener(\"abort\", function () {\n            reject(new Error(options.src + \" has aborted.\"));\n        });\n        container.appendChild(script);\n    });\n    scriptPromiseCache[stringifiedOptions] = scriptLoadPromise;\n    return scriptLoadPromise;\n}\nloadScript.clearCache = function () {\n    scriptPromiseCache = {};\n};\nmodule.exports = loadScript;\n\n},{\"./lib/promise\":1}],3:[function(_dereq_,module,exports){\nmodule.exports = _dereq_(\"./dist/load-script\");\n\n},{\"./dist/load-script\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nfunction uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n\n    return v.toString(16);\n  });\n}\n\nmodule.exports = uuid;\n\n},{}],5:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction deferred(fn) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        setTimeout(function () {\n            try {\n                fn.apply(void 0, args);\n            }\n            catch (err) {\n                /* eslint-disable no-console */\n                console.log(\"Error in callback function\");\n                console.log(err);\n                /* eslint-enable no-console */\n            }\n        }, 1);\n    };\n}\nexports.deferred = deferred;\n\n},{}],6:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction once(fn) {\n    var called = false;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!called) {\n            called = true;\n            fn.apply(void 0, args);\n        }\n    };\n}\nexports.once = once;\n\n},{}],7:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable consistent-return */\nfunction promiseOrCallback(promise, callback) {\n    if (!callback) {\n        return promise;\n    }\n    promise.then(function (data) { return callback(null, data); }).catch(function (err) { return callback(err); });\n}\nexports.promiseOrCallback = promiseOrCallback;\n\n},{}],8:[function(_dereq_,module,exports){\n\"use strict\";\nvar deferred_1 = _dereq_(\"./lib/deferred\");\nvar once_1 = _dereq_(\"./lib/once\");\nvar promise_or_callback_1 = _dereq_(\"./lib/promise-or-callback\");\nfunction wrapPromise(fn) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callback;\n        var lastArg = args[args.length - 1];\n        if (typeof lastArg === \"function\") {\n            callback = args.pop();\n            callback = once_1.once(deferred_1.deferred(callback));\n        }\n        // I know, I know, this looks bad. But it's a quirk of the library that\n        // we need to allow passing the this context to the original function\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore: this has an implicit any\n        return promise_or_callback_1.promiseOrCallback(fn.apply(this, args), callback); // eslint-disable-line no-invalid-this\n    };\n}\nwrapPromise.wrapPrototype = function (target, options) {\n    if (options === void 0) { options = {}; }\n    var ignoreMethods = options.ignoreMethods || [];\n    var includePrivateMethods = options.transformPrivateMethods === true;\n    var methods = Object.getOwnPropertyNames(target.prototype).filter(function (method) {\n        var isNotPrivateMethod;\n        var isNonConstructorFunction = method !== \"constructor\" &&\n            typeof target.prototype[method] === \"function\";\n        var isNotAnIgnoredMethod = ignoreMethods.indexOf(method) === -1;\n        if (includePrivateMethods) {\n            isNotPrivateMethod = true;\n        }\n        else {\n            isNotPrivateMethod = method.charAt(0) !== \"_\";\n        }\n        return (isNonConstructorFunction && isNotPrivateMethod && isNotAnIgnoredMethod);\n    });\n    methods.forEach(function (method) {\n        var original = target.prototype[method];\n        target.prototype[method] = wrapPromise(original);\n    });\n    return target;\n};\nmodule.exports = wrapPromise;\n\n},{\"./lib/deferred\":5,\"./lib/once\":6,\"./lib/promise-or-callback\":7}],9:[function(_dereq_,module,exports){\n'use strict';\n\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nfunction allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nmodule.exports = Promise;\n\n},{}],10:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BRAINTREE_VERSION = _dereq_(\"./constants\").BRAINTREE_VERSION;\n\nvar GraphQL = _dereq_(\"./request/graphql\");\nvar request = _dereq_(\"./request\");\nvar isVerifiedDomain = _dereq_(\"../lib/is-verified-domain\");\nvar BraintreeError = _dereq_(\"../lib/braintree-error\");\nvar convertToBraintreeError = _dereq_(\"../lib/convert-to-braintree-error\");\nvar getGatewayConfiguration = _dereq_(\"./get-configuration\").getConfiguration;\nvar createAuthorizationData = _dereq_(\"../lib/create-authorization-data\");\nvar addMetadata = _dereq_(\"../lib/add-metadata\");\nvar wrapPromise = _dereq_(\"@braintree/wrap-promise\");\nvar once = _dereq_(\"../lib/once\");\nvar deferred = _dereq_(\"../lib/deferred\");\nvar assign = _dereq_(\"../lib/assign\").assign;\nvar analytics = _dereq_(\"../lib/analytics\");\nvar errors = _dereq_(\"./errors\");\nvar VERSION = _dereq_(\"../lib/constants\").VERSION;\nvar GRAPHQL_URLS = _dereq_(\"../lib/constants\").GRAPHQL_URLS;\nvar methods = _dereq_(\"../lib/methods\");\nvar convertMethodsToError = _dereq_(\"../lib/convert-methods-to-error\");\nvar assets = _dereq_(\"../lib/assets\");\nvar FRAUDNET_FNCLS = _dereq_(\"../lib/constants\").FRAUDNET_FNCLS;\nvar FRAUDNET_SOURCE = _dereq_(\"../lib/constants\").FRAUDNET_SOURCE;\nvar FRAUDNET_URL = _dereq_(\"../lib/constants\").FRAUDNET_URL;\n\nvar cachedClients = {};\n\n/**\n * This object is returned by {@link Client#getConfiguration|getConfiguration}. This information is used extensively by other Braintree modules to properly configure themselves.\n * @typedef {object} Client~configuration\n * @property {object} client The braintree-web/client parameters.\n * @property {string} client.authorization A tokenizationKey or clientToken.\n * @property {object} gatewayConfiguration Gateway-supplied configuration.\n * @property {object} analyticsMetadata Analytics-specific data.\n * @property {string} analyticsMetadata.sessionId Uniquely identifies a browsing session.\n * @property {string} analyticsMetadata.sdkVersion The braintree.js version.\n * @property {string} analyticsMetadata.merchantAppId Identifies the merchant's web app.\n */\n\n/**\n * @class\n * @param {Client~configuration} configuration Options\n * @description <strong>Do not use this constructor directly. Use {@link module:braintree-web/client.create|braintree.client.create} instead.</strong>\n * @classdesc This class is required by many other Braintree components. It serves as the base API layer that communicates with our servers. It is also capable of being used to formulate direct calls to our servers, such as direct credit card tokenization. See {@link Client#request}.\n */\nfunction Client(configuration) {\n  var configurationJSON, gatewayConfiguration;\n\n  configuration = configuration || {};\n\n  configurationJSON = JSON.stringify(configuration);\n  gatewayConfiguration = configuration.gatewayConfiguration;\n\n  if (!gatewayConfiguration) {\n    throw new BraintreeError(errors.CLIENT_MISSING_GATEWAY_CONFIGURATION);\n  }\n\n  [\"assetsUrl\", \"clientApiUrl\", \"configUrl\"].forEach(function (property) {\n    if (\n      property in gatewayConfiguration &&\n      !isVerifiedDomain(gatewayConfiguration[property])\n    ) {\n      throw new BraintreeError({\n        type: errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,\n        code: errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,\n        message: property + \" property is on an invalid domain.\",\n      });\n    }\n  });\n\n  /**\n   * Returns a copy of the configuration values.\n   * @public\n   * @returns {Client~configuration} configuration\n   */\n  this.getConfiguration = function () {\n    return JSON.parse(configurationJSON);\n  };\n\n  this._request = request;\n  this._configuration = this.getConfiguration();\n\n  this._clientApiBaseUrl = gatewayConfiguration.clientApiUrl + \"/v1/\";\n\n  if (gatewayConfiguration.graphQL) {\n    if (!isVerifiedDomain(gatewayConfiguration.graphQL.url)) {\n      throw new BraintreeError({\n        type: errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,\n        code: errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,\n        message: \"graphQL.url property is on an invalid domain.\",\n      });\n    }\n\n    this._graphQL = new GraphQL({\n      graphQL: gatewayConfiguration.graphQL,\n    });\n  }\n}\n\nClient.initialize = function (options) {\n  var clientInstance, authData;\n  var promise = cachedClients[options.authorization];\n\n  if (promise) {\n    analytics.sendEvent(promise, \"custom.client.load.cached\");\n\n    return promise;\n  }\n\n  try {\n    authData = createAuthorizationData(options.authorization);\n  } catch (err) {\n    return Promise.reject(\n      new BraintreeError(errors.CLIENT_INVALID_AUTHORIZATION)\n    );\n  }\n\n  promise = getGatewayConfiguration(authData).then(function (configuration) {\n    if (options.debug) {\n      configuration.isDebug = true;\n    }\n\n    configuration.authorization = options.authorization;\n\n    clientInstance = new Client(configuration);\n\n    return clientInstance;\n  });\n\n  cachedClients[options.authorization] = promise;\n\n  analytics.sendEvent(promise, \"custom.client.load.initialized\");\n\n  return promise\n    .then(function (client) {\n      analytics.sendEvent(clientInstance, \"custom.client.load.succeeded\");\n\n      return client;\n    })\n    .catch(function (err) {\n      delete cachedClients[options.authorization];\n\n      return Promise.reject(err);\n    });\n};\n\n// Primarily used for testing the client initalization call\nClient.clearCache = function () {\n  cachedClients = {};\n};\n\nClient.prototype._findOrCreateFraudnetJSON = function (clientMetadataId) {\n  var el = document.querySelector('script[fncls=\"' + FRAUDNET_FNCLS + '\"]');\n  var config, additionalData, authorizationFingerprint, parameters;\n\n  if (!el) {\n    el = document.body.appendChild(document.createElement(\"script\"));\n    el.type = \"application/json\";\n    el.setAttribute(\"fncls\", FRAUDNET_FNCLS);\n  }\n\n  config = this.getConfiguration();\n  additionalData = {\n    rda_tenant: \"bt_card\", // eslint-disable-line camelcase\n    mid: config.gatewayConfiguration.merchantId,\n  };\n  authorizationFingerprint = config.authorizationFingerprint;\n\n  if (authorizationFingerprint) {\n    authorizationFingerprint.split(\"&\").forEach(function (pieces) {\n      var component = pieces.split(\"=\");\n\n      if (component[0] === \"customer_id\" && component.length > 1) {\n        additionalData.cid = component[1];\n      }\n    });\n  }\n\n  parameters = {\n    f: clientMetadataId.substr(0, 32),\n    fp: additionalData,\n    bu: false,\n    s: FRAUDNET_SOURCE,\n  };\n  el.text = JSON.stringify(parameters);\n};\n\n/**\n * Used by other modules to formulate all network requests to the Braintree gateway. It is also capable of being used directly from your own form to tokenize credit card information. However, be sure to satisfy PCI compliance if you use direct card tokenization.\n * @public\n * @param {object} options Request options:\n * @param {string} options.method HTTP method, e.g. \"get\" or \"post\".\n * @param {string} options.endpoint Endpoint path, e.g. \"payment_methods\".\n * @param {object} options.data Data to send with the request.\n * @param {number} [options.timeout=60000] Set a timeout (in milliseconds) for the request.\n * @param {callback} [callback] The second argument, <code>data</code>, is the returned server data.\n * @example\n * <caption>Direct Credit Card Tokenization</caption>\n * var createClient = require('braintree-web/client').create;\n *\n * createClient({\n *   authorization: CLIENT_AUTHORIZATION\n * }, function (createErr, clientInstance) {\n *   var form = document.getElementById('my-form-id');\n *   var data = {\n *     creditCard: {\n *       number: form['cc-number'].value,\n *       cvv: form['cc-cvv'].value,\n *       expirationDate: form['cc-expiration-date'].value,\n *       billingAddress: {\n *         postalCode: form['cc-postal-code'].value\n *       },\n *       options: {\n *         validate: false\n *       }\n *     }\n *   };\n *\n *   // Warning: For a merchant to be eligible for the easiest level of PCI compliance (SAQ A),\n *   // payment fields cannot be hosted on your checkout page.\n *   // For an alternative to the following, use Hosted Fields.\n *   clientInstance.request({\n *     endpoint: 'payment_methods/credit_cards',\n *     method: 'post',\n *     data: data\n *   }, function (requestErr, response) {\n *     // More detailed example of handling API errors: https://codepen.io/braintree/pen/MbwjdM\n *     if (requestErr) { throw new Error(requestErr); }\n *\n *     console.log('Got nonce:', response.creditCards[0].nonce);\n *   });\n * });\n * @example\n * <caption>Tokenizing Fields for AVS Checks</caption>\n * var createClient = require('braintree-web/client').create;\n *\n * createClient({\n *   authorization: CLIENT_AUTHORIZATION\n * }, function (createErr, clientInstance) {\n *   var form = document.getElementById('my-form-id');\n *   var data = {\n *     creditCard: {\n *       number: form['cc-number'].value,\n *       cvv: form['cc-cvv'].value,\n *       expirationDate: form['cc-date'].value,\n *       // The billing address can be checked with AVS rules.\n *       // See: https://articles.braintreepayments.com/support/guides/fraud-tools/basic/avs-cvv-rules\n *       billingAddress: {\n *         postalCode: form['cc-postal-code'].value,\n *         streetAddress: form['cc-street-address'].value,\n *         countryName: form['cc-country-name'].value,\n *         countryCodeAlpha2: form['cc-country-alpha2'].value,\n *         countryCodeAlpha3: form['cc-country-alpha3'].value,\n *         countryCodeNumeric: form['cc-country-numeric'].value\n *       },\n *       options: {\n *         validate: false\n *       }\n *     }\n *   };\n *\n *   // Warning: For a merchant to be eligible for the easiest level of PCI compliance (SAQ A),\n *   // payment fields cannot be hosted on your checkout page.\n *   // For an alternative to the following, use Hosted Fields.\n *   clientInstance.request({\n *     endpoint: 'payment_methods/credit_cards',\n *     method: 'post',\n *     data: data\n *   }, function (requestErr, response) {\n *     // More detailed example of handling API errors: https://codepen.io/braintree/pen/MbwjdM\n *     if (requestErr) { throw new Error(requestErr); }\n *\n *     console.log('Got nonce:', response.creditCards[0].nonce);\n *   });\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nClient.prototype.request = function (options, callback) {\n  var self = this; // eslint-disable-line no-invalid-this\n  var requestPromise = new Promise(function (resolve, reject) {\n    var optionName, api, baseUrl, requestOptions;\n    var shouldCollectData = Boolean(\n      options.endpoint === \"payment_methods/credit_cards\" &&\n        self.getConfiguration().gatewayConfiguration.creditCards\n          .collectDeviceData\n    );\n\n    if (options.api !== \"graphQLApi\") {\n      if (!options.method) {\n        optionName = \"options.method\";\n      } else if (!options.endpoint) {\n        optionName = \"options.endpoint\";\n      }\n    }\n\n    if (optionName) {\n      throw new BraintreeError({\n        type: errors.CLIENT_OPTION_REQUIRED.type,\n        code: errors.CLIENT_OPTION_REQUIRED.code,\n        message: optionName + \" is required when making a request.\",\n      });\n    }\n\n    if (\"api\" in options) {\n      api = options.api;\n    } else {\n      api = \"clientApi\";\n    }\n\n    requestOptions = {\n      method: options.method,\n      graphQL: self._graphQL,\n      timeout: options.timeout,\n      metadata: self._configuration.analyticsMetadata,\n    };\n\n    if (api === \"clientApi\") {\n      baseUrl = self._clientApiBaseUrl;\n\n      requestOptions.data = addMetadata(self._configuration, options.data);\n    } else if (api === \"graphQLApi\") {\n      baseUrl =\n        GRAPHQL_URLS[self._configuration.gatewayConfiguration.environment];\n      options.endpoint = \"\";\n      requestOptions.method = \"post\";\n      requestOptions.data = assign(\n        {\n          clientSdkMetadata: {\n            platform: self._configuration.analyticsMetadata.platform,\n            source: self._configuration.analyticsMetadata.source,\n            integration: self._configuration.analyticsMetadata.integration,\n            sessionId: self._configuration.analyticsMetadata.sessionId,\n            version: VERSION,\n          },\n        },\n        options.data\n      );\n\n      requestOptions.headers = getAuthorizationHeadersForGraphQL(\n        self._configuration\n      );\n    } else {\n      throw new BraintreeError({\n        type: errors.CLIENT_OPTION_INVALID.type,\n        code: errors.CLIENT_OPTION_INVALID.code,\n        message: \"options.api is invalid.\",\n      });\n    }\n\n    requestOptions.url = baseUrl + options.endpoint;\n    requestOptions.sendAnalyticsEvent = function (kind) {\n      analytics.sendEvent(self, kind);\n    };\n\n    self._request(requestOptions, function (err, data, status) {\n      var resolvedData, requestError;\n\n      requestError = formatRequestError(status, err);\n\n      if (requestError) {\n        reject(requestError);\n\n        return;\n      }\n\n      if (api === \"graphQLApi\" && data.errors) {\n        reject(\n          convertToBraintreeError(data.errors, {\n            type: errors.CLIENT_GRAPHQL_REQUEST_ERROR.type,\n            code: errors.CLIENT_GRAPHQL_REQUEST_ERROR.code,\n            message: errors.CLIENT_GRAPHQL_REQUEST_ERROR.message,\n          })\n        );\n\n        return;\n      }\n\n      resolvedData = assign({ _httpStatus: status }, data);\n\n      if (\n        shouldCollectData &&\n        resolvedData.creditCards &&\n        resolvedData.creditCards.length > 0\n      ) {\n        self._findOrCreateFraudnetJSON(resolvedData.creditCards[0].nonce);\n\n        assets.loadScript({\n          src: FRAUDNET_URL,\n          forceScriptReload: true,\n        });\n      }\n      resolve(resolvedData);\n    });\n  });\n\n  if (typeof callback === \"function\") {\n    callback = once(deferred(callback));\n\n    requestPromise\n      .then(function (response) {\n        callback(null, response, response._httpStatus);\n      })\n      .catch(function (err) {\n        var status = err && err.details && err.details.httpStatus;\n\n        callback(err, null, status);\n      });\n\n    return;\n  }\n\n  return requestPromise; // eslint-disable-line consistent-return\n};\n\n// eslint-disable-next-line consistent-return\nfunction formatRequestError(status, err) {\n  var requestError;\n\n  if (status === -1) {\n    requestError = new BraintreeError(errors.CLIENT_REQUEST_TIMEOUT);\n  } else if (status === 401) {\n    requestError = new BraintreeError(errors.CLIENT_AUTHORIZATION_INVALID);\n  } else if (status === 403) {\n    requestError = new BraintreeError(errors.CLIENT_AUTHORIZATION_INSUFFICIENT);\n  } else if (status === 429) {\n    requestError = new BraintreeError(errors.CLIENT_RATE_LIMITED);\n  } else if (status >= 500) {\n    requestError = new BraintreeError(errors.CLIENT_GATEWAY_NETWORK);\n  } else if (status < 200 || status >= 400) {\n    requestError = convertToBraintreeError(err, {\n      type: errors.CLIENT_REQUEST_ERROR.type,\n      code: errors.CLIENT_REQUEST_ERROR.code,\n      message: errors.CLIENT_REQUEST_ERROR.message,\n    });\n  }\n\n  if (requestError) {\n    requestError.details = requestError.details || {};\n    requestError.details.httpStatus = status;\n\n    return requestError;\n  }\n}\n\nClient.prototype.toJSON = function () {\n  return this.getConfiguration();\n};\n\n/**\n * Returns the Client version.\n * @public\n * @returns {String} The created client's version.\n * @example\n * var createClient = require('braintree-web/client').create;\n *\n * createClient({\n *   authorization: CLIENT_AUTHORIZATION\n * }, function (createErr, clientInstance) {\n *   console.log(clientInstance.getVersion()); // Ex: 1.0.0\n * });\n * @returns {void}\n */\nClient.prototype.getVersion = function () {\n  return VERSION;\n};\n\n/**\n * Cleanly tear down anything set up by {@link module:braintree-web/client.create|create}.\n * @public\n * @param {callback} [callback] Called once teardown is complete. No data is returned if teardown completes successfully.\n * @example\n * clientInstance.teardown();\n * @example <caption>With callback</caption>\n * clientInstance.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nClient.prototype.teardown = wrapPromise(function () {\n  var self = this; // eslint-disable-line no-invalid-this\n\n  delete cachedClients[self.getConfiguration().authorization];\n  convertMethodsToError(self, methods(Client.prototype));\n\n  return Promise.resolve();\n});\n\nfunction getAuthorizationHeadersForGraphQL(configuration) {\n  var token =\n    configuration.authorizationFingerprint || configuration.authorization;\n\n  return {\n    Authorization: \"Bearer \" + token,\n    \"Braintree-Version\": BRAINTREE_VERSION,\n  };\n}\n\nmodule.exports = Client;\n\n},{\"../lib/add-metadata\":28,\"../lib/analytics\":29,\"../lib/assets\":30,\"../lib/assign\":31,\"../lib/braintree-error\":32,\"../lib/constants\":33,\"../lib/convert-methods-to-error\":34,\"../lib/convert-to-braintree-error\":35,\"../lib/create-authorization-data\":36,\"../lib/deferred\":37,\"../lib/is-verified-domain\":41,\"../lib/methods\":43,\"../lib/once\":44,\"./constants\":11,\"./errors\":12,\"./get-configuration\":13,\"./request\":24,\"./request/graphql\":22,\"@braintree/wrap-promise\":8}],11:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = {\n  BRAINTREE_VERSION: \"2018-05-10\",\n};\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\n\n/**\n * @name BraintreeError.Client - Internal Error Codes\n * @ignore\n * @description These codes should never be experienced by the merchant directly.\n * @property {MERCHANT} CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN An error to prevent client creation for domains that are not allowed in the JS.\n * @property {INTERNAL} CLIENT_MISSING_GATEWAY_CONFIGURATION Occurs when the client is created without a gateway configuration. Should never happen.\n */\n\n/**\n * @name BraintreeError.Client - Create Error Codes\n * @description Errors that may occur when [creating the client](./module-braintree-web_client.html#.create)\n * @property {MERCHANT} CLIENT_INVALID_AUTHORIZATION Occurs when client token cannot be parsed.\n */\n\n/**\n * @name BraintreeError.Client - Request Error Codes\n * @description Errors that may occur when [using the request method](./Client.html#request)\n * @property {MERCHANT} CLIENT_OPTION_REQUIRED An option required in the request method was not provided. Usually `options.method` or `options.endpoint`\n * @property {MERCHANT} CLIENT_OPTION_INVALID The request option provided is invalid.\n * @property {MERCHANT} CLIENT_GATEWAY_NETWORK The Braintree gateway could not be contacted.\n * @property {NETWORK} CLIENT_REQUEST_TIMEOUT The request took too long to complete and timed out.\n * @property {NETWORK} CLIENT_REQUEST_ERROR The response from a request had status 400 or greater.\n * @property {NETWORK} CLIENT_GRAPHQL_REQUEST_ERROR The response from a request to GraphQL contained an error.\n * @property {MERCHANT} CLIENT_RATE_LIMITED The response from a request had a status of 429, indicating rate limiting.\n * @property {MERCHANT} CLIENT_AUTHORIZATION_INSUFFICIENT The user associated with the client token or tokenization key does not have permissions to make the request.\n * @property {MERCHANT} CLIENT_AUTHORIZATION_INVALID The provided authorization could not be found. Either the client token has expired and a new client token must be generated or the tokenization key used is set to be inactive or has been deleted.\n */\n\nvar BraintreeError = _dereq_(\"../lib/braintree-error\");\n\nmodule.exports = {\n  CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN\",\n  },\n  CLIENT_OPTION_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_OPTION_REQUIRED\",\n  },\n  CLIENT_OPTION_INVALID: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_OPTION_INVALID\",\n  },\n  CLIENT_MISSING_GATEWAY_CONFIGURATION: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"CLIENT_MISSING_GATEWAY_CONFIGURATION\",\n    message: \"Missing gatewayConfiguration.\",\n  },\n  CLIENT_INVALID_AUTHORIZATION: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_INVALID_AUTHORIZATION\",\n    message:\n      \"Authorization is invalid. Make sure your client token or tokenization key is valid.\",\n  },\n  CLIENT_GATEWAY_NETWORK: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_GATEWAY_NETWORK\",\n    message: \"Cannot contact the gateway at this time.\",\n  },\n  CLIENT_REQUEST_TIMEOUT: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_REQUEST_TIMEOUT\",\n    message: \"Request timed out waiting for a reply.\",\n  },\n  CLIENT_REQUEST_ERROR: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_REQUEST_ERROR\",\n    message: \"There was a problem with your request.\",\n  },\n  CLIENT_GRAPHQL_REQUEST_ERROR: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_GRAPHQL_REQUEST_ERROR\",\n    message: \"There was a problem with your request.\",\n  },\n  CLIENT_RATE_LIMITED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_RATE_LIMITED\",\n    message: \"You are being rate-limited; please try again in a few minutes.\",\n  },\n  CLIENT_AUTHORIZATION_INSUFFICIENT: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_AUTHORIZATION_INSUFFICIENT\",\n    message: \"The authorization used has insufficient privileges.\",\n  },\n  CLIENT_AUTHORIZATION_INVALID: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"CLIENT_AUTHORIZATION_INVALID\",\n    message:\n      \"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted.\",\n  },\n};\n\n},{\"../lib/braintree-error\":32}],13:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"../lib/braintree-error\");\nvar wrapPromise = _dereq_(\"@braintree/wrap-promise\");\nvar request = _dereq_(\"./request\");\nvar uuid = _dereq_(\"@braintree/uuid\");\nvar constants = _dereq_(\"../lib/constants\");\nvar errors = _dereq_(\"./errors\");\nvar GraphQL = _dereq_(\"./request/graphql\");\nvar GRAPHQL_URLS = _dereq_(\"../lib/constants\").GRAPHQL_URLS;\nvar isDateStringBeforeOrOn = _dereq_(\"../lib/is-date-string-before-or-on\");\n\nvar BRAINTREE_VERSION = _dereq_(\"./constants\").BRAINTREE_VERSION;\n\nfunction getConfiguration(authData) {\n  return new Promise(function (resolve, reject) {\n    var configuration, attrs, configUrl, reqOptions;\n    var sessionId = uuid();\n    var analyticsMetadata = {\n      merchantAppId: window.location.host,\n      platform: constants.PLATFORM,\n      sdkVersion: constants.VERSION,\n      source: constants.SOURCE,\n      // NEXT_MAJOR_VERSION remove one of these to not duplicate data. Target parity with mobile platforms approach.\n      integration: constants.INTEGRATION,\n      integrationType: constants.INTEGRATION,\n      sessionId: sessionId,\n    };\n\n    attrs = authData.attrs;\n    configUrl = authData.configUrl;\n\n    attrs._meta = analyticsMetadata;\n    attrs.braintreeLibraryVersion = constants.BRAINTREE_LIBRARY_VERSION;\n    attrs.configVersion = \"3\";\n\n    reqOptions = {\n      url: configUrl,\n      method: \"GET\",\n      data: attrs,\n    };\n\n    if (attrs.authorizationFingerprint && authData.graphQL) {\n      if (isDateStringBeforeOrOn(authData.graphQL.date, BRAINTREE_VERSION)) {\n        reqOptions.graphQL = new GraphQL({\n          graphQL: {\n            url: authData.graphQL.url,\n            features: [\"configuration\"],\n          },\n        });\n      }\n\n      reqOptions.metadata = analyticsMetadata;\n    } else if (attrs.tokenizationKey) {\n      reqOptions.graphQL = new GraphQL({\n        graphQL: {\n          url: GRAPHQL_URLS[authData.environment],\n          features: [\"configuration\"],\n        },\n      });\n\n      reqOptions.metadata = analyticsMetadata;\n    }\n\n    // NEXT_MAJOR_VERSION\n    // there are various issues with the config endpoint where the values returned\n    // do not match the values from the merchant account id passed into a client token\n    // we need to update the configuration request endpoint to be able to pass the\n    // correct values. The following ones are incorrect\n    // * applePayWeb - definitely supportedNetworks, which compiles all the card\n    //    networks from all the merchant accounts instead of providing just the\n    //    ones from the specified one. The same is probably true for ios apple pay\n    //    Also the merchantidentifier\n    // NEXT_MAJOR_VERSION Allow passing in merchant account id when creating the component\n    // to fetch the config for that merchant account id (particularly helpful when using\n    // a tokenization key for authorization)\n    request(reqOptions, function (err, response, status) {\n      var errorTemplate;\n\n      if (err) {\n        if (status === 403) {\n          errorTemplate = errors.CLIENT_AUTHORIZATION_INSUFFICIENT;\n        } else if (status === 401) {\n          errorTemplate = errors.CLIENT_AUTHORIZATION_INVALID;\n        } else {\n          errorTemplate = errors.CLIENT_GATEWAY_NETWORK;\n        }\n\n        reject(\n          new BraintreeError({\n            type: errorTemplate.type,\n            code: errorTemplate.code,\n            message: errorTemplate.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n\n        return;\n      }\n\n      configuration = {\n        authorizationType: attrs.tokenizationKey\n          ? \"TOKENIZATION_KEY\"\n          : \"CLIENT_TOKEN\",\n        authorizationFingerprint: attrs.authorizationFingerprint,\n        analyticsMetadata: analyticsMetadata,\n        gatewayConfiguration: response,\n      };\n\n      resolve(configuration);\n    });\n  });\n}\n\nmodule.exports = {\n  getConfiguration: wrapPromise(getConfiguration),\n};\n\n},{\"../lib/braintree-error\":32,\"../lib/constants\":33,\"../lib/is-date-string-before-or-on\":40,\"./constants\":11,\"./errors\":12,\"./request\":24,\"./request/graphql\":22,\"@braintree/uuid\":4,\"@braintree/wrap-promise\":8}],14:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"../lib/braintree-error\");\nvar Client = _dereq_(\"./client\");\nvar VERSION = \"3.94.0\";\nvar wrapPromise = _dereq_(\"@braintree/wrap-promise\");\nvar sharedErrors = _dereq_(\"../lib/errors\");\n\n/** @module braintree-web/client */\n\n/**\n * @function create\n * @description This function is the entry point for the <code>braintree.client</code> module. It is used for creating {@link Client} instances that service communication to Braintree servers.\n * @param {object} options Object containing all {@link Client} options:\n * @param {string} options.authorization A tokenizationKey or clientToken.\n * @param {callback} [callback] The second argument, <code>data</code>, is the {@link Client} instance.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * var createClient = require('braintree-web/client').create;\n *\n * createClient({\n *   authorization: CLIENT_AUTHORIZATION\n * }, function (createErr, clientInstance) {\n *   if (createErr) {\n *     if (createErr.code === 'CLIENT_AUTHORIZATION_INVALID') {\n *       // either the client token has expired, and a new one should be generated\n *       // or the tokenization key was deactivated or deleted\n *     } else {\n *       console.log('something went wrong creating the client instance', createErr);\n *     }\n *     return;\n *   }\n *\n *  // set up other components\n * });\n * @static\n */\nfunction create(options) {\n  if (!options.authorization) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,\n        code: sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,\n        message:\n          \"options.authorization is required when instantiating a client.\",\n      })\n    );\n  }\n\n  return Client.initialize(options);\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n\n},{\"../lib/braintree-error\":32,\"../lib/errors\":39,\"./client\":10,\"@braintree/wrap-promise\":8}],15:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar querystring = _dereq_(\"../../lib/querystring\");\nvar assign = _dereq_(\"../../lib/assign\").assign;\nvar prepBody = _dereq_(\"./prep-body\");\nvar parseBody = _dereq_(\"./parse-body\");\nvar xhr = _dereq_(\"./xhr\");\nvar isXHRAvailable = xhr.isAvailable;\nvar GraphQLRequest = _dereq_(\"./graphql/request\");\nvar DefaultRequest = _dereq_(\"./default-request\");\n\nvar MAX_TCP_RETRYCOUNT = 1;\nvar TCP_PRECONNECT_BUG_STATUS_CODE = 408;\n\nfunction requestShouldRetry(status) {\n  return !status || status === TCP_PRECONNECT_BUG_STATUS_CODE;\n}\n\nfunction graphQLRequestShouldRetryWithClientApi(body) {\n  var errorClass =\n    !body.data &&\n    body.errors &&\n    body.errors[0] &&\n    body.errors[0].extensions &&\n    body.errors[0].extensions.errorClass;\n\n  return errorClass === \"UNKNOWN\" || errorClass === \"INTERNAL\";\n}\n\nfunction _requestWithRetry(options, tcpRetryCount, cb) {\n  var status, resBody, ajaxRequest, body, method, headers, parsedBody;\n  var url = options.url;\n  var graphQL = options.graphQL;\n  var timeout = options.timeout;\n  var req = xhr.getRequestObject();\n  var callback = cb;\n  var isGraphQLRequest = Boolean(\n    graphQL && graphQL.isGraphQLRequest(url, options.data)\n  );\n\n  options.headers = assign(\n    { \"Content-Type\": \"application/json\" },\n    options.headers\n  );\n\n  if (isGraphQLRequest) {\n    ajaxRequest = new GraphQLRequest(options);\n  } else {\n    ajaxRequest = new DefaultRequest(options);\n  }\n\n  url = ajaxRequest.getUrl();\n  body = ajaxRequest.getBody();\n  method = ajaxRequest.getMethod();\n  headers = ajaxRequest.getHeaders();\n\n  if (method === \"GET\") {\n    url = querystring.queryify(url, body);\n    body = null;\n  }\n\n  if (isXHRAvailable) {\n    req.onreadystatechange = function () {\n      if (req.readyState !== 4) {\n        return;\n      }\n\n      if (req.status === 0 && isGraphQLRequest) {\n        // If a merchant experiences a connection\n        // issue to the GraphQL endpoint (possibly\n        // due to a Content Security Policy), retry\n        // the request against the old client API.\n        delete options.graphQL;\n        _requestWithRetry(options, tcpRetryCount, cb);\n\n        return;\n      }\n\n      parsedBody = parseBody(req.responseText);\n      resBody = ajaxRequest.adaptResponseBody(parsedBody);\n      status = ajaxRequest.determineStatus(req.status, parsedBody);\n\n      if (status >= 400 || status < 200) {\n        if (\n          isGraphQLRequest &&\n          graphQLRequestShouldRetryWithClientApi(parsedBody)\n        ) {\n          delete options.graphQL;\n          _requestWithRetry(options, tcpRetryCount, cb);\n\n          return;\n        }\n\n        if (tcpRetryCount < MAX_TCP_RETRYCOUNT && requestShouldRetry(status)) {\n          tcpRetryCount++;\n          _requestWithRetry(options, tcpRetryCount, cb);\n\n          return;\n        }\n        callback(resBody || \"error\", null, status || 500);\n      } else {\n        callback(null, resBody, status);\n      }\n    };\n  } else {\n    if (options.headers) {\n      url = querystring.queryify(url, headers);\n    }\n\n    req.onload = function () {\n      callback(null, parseBody(req.responseText), req.status);\n    };\n\n    req.onerror = function () {\n      // XDomainRequest does not report a body or status for errors, so\n      // hardcode to 'error' and 500, respectively\n      callback(\"error\", null, 500);\n    };\n\n    // This must remain for IE9 to work\n    req.onprogress = function () {};\n\n    req.ontimeout = function () {\n      callback(\"timeout\", null, -1);\n    };\n  }\n\n  try {\n    req.open(method, url, true);\n  } catch (requestOpenError) {\n    // If a merchant has a Content Security Policy and they have\n    // not allowed our endpoints, some browsers may\n    // synchronously throw an error. If it is not a GraphQL\n    // request, we throw the error. If it is a GraphQL request\n    // we remove the GraphQL option and try the request against\n    // the old client API.\n    if (!isGraphQLRequest) {\n      throw requestOpenError;\n    }\n\n    delete options.graphQL;\n\n    _requestWithRetry(options, tcpRetryCount, cb);\n\n    return;\n  }\n\n  req.timeout = timeout;\n\n  if (isXHRAvailable) {\n    Object.keys(headers).forEach(function (headerKey) {\n      req.setRequestHeader(headerKey, headers[headerKey]);\n    });\n  }\n\n  try {\n    req.send(prepBody(method, body));\n  } catch (e) {\n    /* ignored */\n  }\n}\n\nfunction request(options, cb) {\n  _requestWithRetry(options, 0, cb);\n}\n\nmodule.exports = {\n  request: request,\n};\n\n},{\"../../lib/assign\":31,\"../../lib/querystring\":45,\"./default-request\":16,\"./graphql/request\":23,\"./parse-body\":25,\"./prep-body\":26,\"./xhr\":27}],16:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction DefaultRequest(options) {\n  this._url = options.url;\n  this._data = options.data;\n  this._method = options.method;\n  this._headers = options.headers;\n}\n\nDefaultRequest.prototype.getUrl = function () {\n  return this._url;\n};\n\nDefaultRequest.prototype.getBody = function () {\n  return this._data;\n};\n\nDefaultRequest.prototype.getMethod = function () {\n  return this._method;\n};\n\nDefaultRequest.prototype.getHeaders = function () {\n  return this._headers;\n};\n\nDefaultRequest.prototype.adaptResponseBody = function (parsedBody) {\n  return parsedBody;\n};\n\nDefaultRequest.prototype.determineStatus = function (status) {\n  return status;\n};\n\nmodule.exports = DefaultRequest;\n\n},{}],17:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar errorResponseAdapter = _dereq_(\"./error\");\nvar assign = _dereq_(\"../../../../lib/assign\").assign;\n\n/* eslint-disable camelcase */\nvar cardTypeTransforms = {\n  creditCard: {\n    AMERICAN_EXPRESS: \"American Express\",\n    DISCOVER: \"Discover\",\n    INTERNATIONAL_MAESTRO: \"Maestro\",\n    JCB: \"JCB\",\n    MASTERCARD: \"MasterCard\",\n    SOLO: \"Solo\",\n    UK_MAESTRO: \"UK Maestro\",\n    UNION_PAY: \"UnionPay\",\n    VISA: \"Visa\",\n    ELO: \"Elo\",\n    HIPER: \"Hiper\",\n    HIPERCARD: \"Hipercard\",\n  },\n  applePayWeb: {\n    VISA: \"visa\",\n    MASTERCARD: \"mastercard\",\n    DISCOVER: \"discover\",\n    AMERICAN_EXPRESS: \"amex\",\n    INTERNATIONAL_MAESTRO: \"maestro\",\n    ELO: \"elo\",\n  },\n  visaCheckout: {\n    VISA: \"Visa\",\n    MASTERCARD: \"MasterCard\",\n    DISCOVER: \"Discover\",\n    AMERICAN_EXPRESS: \"American Express\",\n  },\n  googlePay: {\n    VISA: \"visa\",\n    MASTERCARD: \"mastercard\",\n    DISCOVER: \"discover\",\n    AMERICAN_EXPRESS: \"amex\",\n    INTERNATIONAL_MAESTRO: \"maestro\",\n    ELO: \"elo\",\n  },\n  masterpass: {\n    VISA: \"visa\",\n    MASTERCARD: \"master\",\n    DISCOVER: \"discover\",\n    AMERICAN_EXPRESS: \"amex\",\n    DINERS: \"diners\",\n    INTERNATIONAL_MAESTRO: \"maestro\",\n    JCB: \"jcb\",\n  },\n};\n/* eslint-enable camelcase */\n\nfunction configurationResponseAdapter(responseBody, ctx) {\n  var adaptedResponse;\n\n  if (responseBody.data && !responseBody.errors) {\n    adaptedResponse = adaptConfigurationResponseBody(responseBody, ctx);\n  } else {\n    adaptedResponse = errorResponseAdapter(responseBody);\n  }\n\n  return adaptedResponse;\n}\n\nfunction adaptConfigurationResponseBody(body, ctx) {\n  var configuration = body.data.clientConfiguration;\n  var response;\n\n  response = {\n    environment: configuration.environment.toLowerCase(),\n    clientApiUrl: configuration.clientApiUrl,\n    assetsUrl: configuration.assetsUrl,\n    analytics: {\n      url: configuration.analyticsUrl,\n    },\n    merchantId: configuration.merchantId,\n    venmo: \"off\",\n  };\n\n  if (configuration.supportedFeatures) {\n    response.graphQL = {\n      url: ctx._graphQL._config.url,\n      features: configuration.supportedFeatures.map(function (feature) {\n        return feature.toLowerCase();\n      }),\n    };\n  }\n\n  if (configuration.braintreeApi) {\n    response.braintreeApi = configuration.braintreeApi;\n  }\n\n  if (configuration.applePayWeb) {\n    response.applePayWeb = configuration.applePayWeb;\n    response.applePayWeb.supportedNetworks = mapCardTypes(\n      configuration.applePayWeb.supportedCardBrands,\n      cardTypeTransforms.applePayWeb\n    );\n\n    delete response.applePayWeb.supportedCardBrands;\n  }\n\n  if (configuration.ideal) {\n    response.ideal = configuration.ideal;\n  }\n\n  if (configuration.kount) {\n    response.kount = {\n      kountMerchantId: configuration.kount.merchantId,\n    };\n  }\n\n  if (configuration.creditCard) {\n    response.challenges = configuration.creditCard.challenges.map(function (\n      challenge\n    ) {\n      return challenge.toLowerCase();\n    });\n\n    response.creditCards = {\n      supportedCardTypes: mapCardTypes(\n        configuration.creditCard.supportedCardBrands,\n        cardTypeTransforms.creditCard\n      ),\n    };\n    response.threeDSecureEnabled = configuration.creditCard.threeDSecureEnabled;\n    response.threeDSecure = configuration.creditCard.threeDSecure;\n  } else {\n    response.challenges = [];\n    response.creditCards = {\n      supportedCardTypes: [],\n    };\n    response.threeDSecureEnabled = false;\n  }\n\n  if (configuration.googlePay) {\n    response.androidPay = {\n      displayName: configuration.googlePay.displayName,\n      enabled: true,\n      environment: configuration.googlePay.environment.toLowerCase(),\n      googleAuthorizationFingerprint:\n        configuration.googlePay.googleAuthorization,\n      paypalClientId: configuration.googlePay.paypalClientId,\n      supportedNetworks: mapCardTypes(\n        configuration.googlePay.supportedCardBrands,\n        cardTypeTransforms.googlePay\n      ),\n    };\n  }\n\n  if (configuration.venmo) {\n    response.payWithVenmo = {\n      merchantId: configuration.venmo.merchantId,\n      accessToken: configuration.venmo.accessToken,\n      environment: configuration.venmo.environment.toLowerCase(),\n    };\n  }\n\n  if (configuration.paypal) {\n    response.paypalEnabled = true;\n    response.paypal = assign({}, configuration.paypal);\n    response.paypal.currencyIsoCode = response.paypal.currencyCode;\n    response.paypal.environment = response.paypal.environment.toLowerCase();\n\n    delete response.paypal.currencyCode;\n  } else {\n    response.paypalEnabled = false;\n  }\n\n  if (configuration.unionPay) {\n    response.unionPay = {\n      enabled: true,\n      merchantAccountId: configuration.unionPay.merchantAccountId,\n    };\n  }\n\n  if (configuration.visaCheckout) {\n    response.visaCheckout = {\n      apikey: configuration.visaCheckout.apiKey,\n      encryptionKey: configuration.visaCheckout.encryptionKey,\n      externalClientId: configuration.visaCheckout.externalClientId,\n      supportedCardTypes: mapCardTypes(\n        configuration.visaCheckout.supportedCardBrands,\n        cardTypeTransforms.visaCheckout\n      ),\n    };\n  }\n\n  if (configuration.masterpass) {\n    response.masterpass = {\n      merchantCheckoutId: configuration.masterpass.merchantCheckoutId,\n      supportedNetworks: mapCardTypes(\n        configuration.masterpass.supportedCardBrands,\n        cardTypeTransforms.masterpass\n      ),\n    };\n  }\n\n  if (configuration.usBankAccount) {\n    response.usBankAccount = {\n      routeId: configuration.usBankAccount.routeId,\n      plaid: {\n        publicKey: configuration.usBankAccount.plaidPublicKey,\n      },\n    };\n  }\n\n  return response;\n}\n\nfunction mapCardTypes(cardTypes, cardTypeTransformMap) {\n  return cardTypes.reduce(function (acc, type) {\n    if (cardTypeTransformMap.hasOwnProperty(type)) {\n      return acc.concat(cardTypeTransformMap[type]);\n    }\n\n    return acc;\n  }, []);\n}\n\nmodule.exports = configurationResponseAdapter;\n\n},{\"../../../../lib/assign\":31,\"./error\":19}],18:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar errorResponseAdapter = _dereq_(\"./error\");\n\nvar CARD_BRAND_MAP = {\n  /* eslint-disable camelcase */\n  AMERICAN_EXPRESS: \"American Express\",\n  DINERS: \"Discover\",\n  DISCOVER: \"Discover\",\n  ELO: \"Elo\",\n  HIPER: \"Hiper\",\n  HIPERCARD: \"Hipercard\",\n  INTERNATIONAL_MAESTRO: \"Maestro\",\n  JCB: \"JCB\",\n  MASTERCARD: \"MasterCard\",\n  UK_MAESTRO: \"Maestro\",\n  UNION_PAY: \"UnionPay\",\n  VISA: \"Visa\",\n  /* eslint-enable camelcase */\n};\n\nvar BIN_DATA_MAP = {\n  YES: \"Yes\",\n  NO: \"No\",\n  UNKNOWN: \"Unknown\",\n};\n\nvar AUTHENTICATION_INSIGHT_MAP = {\n  PSDTWO: \"psd2\",\n};\n\nfunction creditCardTokenizationResponseAdapter(responseBody) {\n  var adaptedResponse;\n\n  if (responseBody.data && !responseBody.errors) {\n    adaptedResponse = adaptTokenizeCreditCardResponseBody(responseBody);\n  } else {\n    adaptedResponse = errorResponseAdapter(responseBody);\n  }\n\n  return adaptedResponse;\n}\n\nfunction adaptTokenizeCreditCardResponseBody(body) {\n  var data = body.data.tokenizeCreditCard;\n  var creditCard = data.creditCard;\n  var lastTwo = creditCard.last4 ? creditCard.last4.substr(2, 4) : \"\";\n  var binData = creditCard.binData;\n  var response, regulationEnvironment;\n\n  if (binData) {\n    [\n      \"commercial\",\n      \"debit\",\n      \"durbinRegulated\",\n      \"healthcare\",\n      \"payroll\",\n      \"prepaid\",\n    ].forEach(function (key) {\n      if (binData[key]) {\n        binData[key] = BIN_DATA_MAP[binData[key]];\n      } else {\n        binData[key] = \"Unknown\";\n      }\n    });\n\n    [\"issuingBank\", \"countryOfIssuance\", \"productId\"].forEach(function (key) {\n      if (!binData[key]) {\n        binData[key] = \"Unknown\";\n      }\n    });\n  }\n\n  response = {\n    creditCards: [\n      {\n        binData: binData,\n        consumed: false,\n        description: lastTwo ? \"ending in \" + lastTwo : \"\",\n        nonce: data.token,\n        details: {\n          cardholderName: creditCard.cardholderName,\n          expirationMonth: creditCard.expirationMonth,\n          expirationYear: creditCard.expirationYear,\n          bin: creditCard.bin || \"\",\n          cardType: CARD_BRAND_MAP[creditCard.brandCode] || \"Unknown\",\n          lastFour: creditCard.last4 || \"\",\n          lastTwo: lastTwo,\n        },\n        type: \"CreditCard\",\n        threeDSecureInfo: null,\n      },\n    ],\n  };\n\n  if (data.authenticationInsight) {\n    regulationEnvironment =\n      data.authenticationInsight.customerAuthenticationRegulationEnvironment;\n    response.creditCards[0].authenticationInsight = {\n      regulationEnvironment:\n        AUTHENTICATION_INSIGHT_MAP[regulationEnvironment] ||\n        regulationEnvironment.toLowerCase(),\n    };\n  }\n\n  return response;\n}\n\nmodule.exports = creditCardTokenizationResponseAdapter;\n\n},{\"./error\":19}],19:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction errorResponseAdapter(responseBody) {\n  var response;\n  var errorClass =\n    responseBody.errors &&\n    responseBody.errors[0] &&\n    responseBody.errors[0].extensions &&\n    responseBody.errors[0].extensions.errorClass;\n\n  if (errorClass === \"VALIDATION\") {\n    response = userErrorResponseAdapter(responseBody);\n  } else if (errorClass) {\n    response = errorWithClassResponseAdapter(responseBody);\n  } else {\n    response = {\n      error: { message: \"There was a problem serving your request\" },\n      fieldErrors: [],\n    };\n  }\n\n  return response;\n}\n\nfunction errorWithClassResponseAdapter(responseBody) {\n  return {\n    error: { message: responseBody.errors[0].message },\n    fieldErrors: [],\n  };\n}\n\nfunction userErrorResponseAdapter(responseBody) {\n  var fieldErrors = buildFieldErrors(responseBody.errors);\n\n  if (fieldErrors.length === 0) {\n    return { error: { message: responseBody.errors[0].message } };\n  }\n\n  return {\n    error: { message: getLegacyMessage(fieldErrors) },\n    fieldErrors: fieldErrors,\n  };\n}\n\nfunction buildFieldErrors(errors) {\n  var fieldErrors = [];\n\n  errors.forEach(function (error) {\n    if (!(error.extensions && error.extensions.inputPath)) {\n      return;\n    }\n    addFieldError(error.extensions.inputPath.slice(1), error, fieldErrors);\n  });\n\n  return fieldErrors;\n}\n\nfunction addFieldError(inputPath, errorDetail, fieldErrors) {\n  var fieldError;\n  var legacyCode = errorDetail.extensions.legacyCode;\n  var inputField = inputPath[0];\n\n  if (inputPath.length === 1) {\n    fieldErrors.push({\n      code: legacyCode,\n      field: inputField,\n      message: errorDetail.message,\n    });\n\n    return;\n  }\n\n  fieldErrors.forEach(function (candidate) {\n    if (candidate.field === inputField) {\n      fieldError = candidate;\n    }\n  });\n\n  if (!fieldError) {\n    fieldError = { field: inputField, fieldErrors: [] };\n    fieldErrors.push(fieldError);\n  }\n\n  addFieldError(inputPath.slice(1), errorDetail, fieldError.fieldErrors);\n}\n\nfunction getLegacyMessage(errors) {\n  var legacyMessages = {\n    creditCard: \"Credit card is invalid\",\n  };\n\n  var field = errors[0].field;\n\n  return legacyMessages[field];\n}\n\nmodule.exports = errorResponseAdapter;\n\n},{}],20:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar CONFIGURATION_QUERY =\n  \"query ClientConfiguration { \" +\n  \"  clientConfiguration { \" +\n  \"    analyticsUrl \" +\n  \"    environment \" +\n  \"    merchantId \" +\n  \"    assetsUrl \" +\n  \"    clientApiUrl \" +\n  \"    creditCard { \" +\n  \"      supportedCardBrands \" +\n  \"      challenges \" +\n  \"      threeDSecureEnabled \" +\n  \"      threeDSecure { \" +\n  \"        cardinalAuthenticationJWT \" +\n  \"      } \" +\n  \"    } \" +\n  \"    applePayWeb { \" +\n  \"      countryCode \" +\n  \"      currencyCode \" +\n  \"      merchantIdentifier \" +\n  \"      supportedCardBrands \" +\n  \"    } \" +\n  \"    googlePay { \" +\n  \"      displayName \" +\n  \"      supportedCardBrands \" +\n  \"      environment \" +\n  \"      googleAuthorization \" +\n  \"      paypalClientId \" +\n  \"    } \" +\n  \"    ideal { \" +\n  \"      routeId \" +\n  \"      assetsUrl \" +\n  \"    } \" +\n  \"    kount { \" +\n  \"      merchantId \" +\n  \"    } \" +\n  \"    masterpass { \" +\n  \"      merchantCheckoutId \" +\n  \"      supportedCardBrands \" +\n  \"    } \" +\n  \"    paypal { \" +\n  \"      displayName \" +\n  \"      clientId \" +\n  \"      privacyUrl \" +\n  \"      userAgreementUrl \" +\n  \"      assetsUrl \" +\n  \"      environment \" +\n  \"      environmentNoNetwork \" +\n  \"      unvettedMerchant \" +\n  \"      braintreeClientId \" +\n  \"      billingAgreementsEnabled \" +\n  \"      merchantAccountId \" +\n  \"      currencyCode \" +\n  \"      payeeEmail \" +\n  \"    } \" +\n  \"    unionPay { \" +\n  \"      merchantAccountId \" +\n  \"    } \" +\n  \"    usBankAccount { \" +\n  \"      routeId \" +\n  \"      plaidPublicKey \" +\n  \"    } \" +\n  \"    venmo { \" +\n  \"      merchantId \" +\n  \"      accessToken \" +\n  \"      environment \" +\n  \"    } \" +\n  \"    visaCheckout { \" +\n  \"      apiKey \" +\n  \"      externalClientId \" +\n  \"      supportedCardBrands \" +\n  \"    } \" +\n  \"    braintreeApi { \" +\n  \"      accessToken \" +\n  \"      url \" +\n  \"    } \" +\n  \"    supportedFeatures \" +\n  \"  } \" +\n  \"}\";\n\nfunction configuration() {\n  return {\n    query: CONFIGURATION_QUERY,\n    operationName: \"ClientConfiguration\",\n  };\n}\n\nmodule.exports = configuration;\n\n},{}],21:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar assign = _dereq_(\"../../../../lib/assign\").assign;\n\nfunction createMutation(config) {\n  var hasAuthenticationInsight = config.hasAuthenticationInsight;\n  var mutation = \"mutation TokenizeCreditCard($input: TokenizeCreditCardInput!\";\n\n  if (hasAuthenticationInsight) {\n    mutation += \", $authenticationInsightInput: AuthenticationInsightInput!\";\n  }\n\n  mutation +=\n    \") { \" +\n    \"  tokenizeCreditCard(input: $input) { \" +\n    \"    token \" +\n    \"    creditCard { \" +\n    \"      bin \" +\n    \"      brandCode \" +\n    \"      last4 \" +\n    \"      cardholderName \" +\n    \"      expirationMonth\" +\n    \"      expirationYear\" +\n    \"      binData { \" +\n    \"        prepaid \" +\n    \"        healthcare \" +\n    \"        debit \" +\n    \"        durbinRegulated \" +\n    \"        commercial \" +\n    \"        payroll \" +\n    \"        issuingBank \" +\n    \"        countryOfIssuance \" +\n    \"        productId \" +\n    \"      } \" +\n    \"    } \";\n\n  if (hasAuthenticationInsight) {\n    mutation +=\n      \"    authenticationInsight(input: $authenticationInsightInput) {\" +\n      \"      customerAuthenticationRegulationEnvironment\" +\n      \"    }\";\n  }\n\n  mutation += \"  } }\";\n\n  return mutation;\n}\n\nfunction createCreditCardTokenizationBody(body, options) {\n  var cc = body.creditCard;\n  var billingAddress = cc && cc.billingAddress;\n  var expDate = cc && cc.expirationDate;\n  var expirationMonth =\n    cc && (cc.expirationMonth || (expDate && expDate.split(\"/\")[0].trim()));\n  var expirationYear =\n    cc && (cc.expirationYear || (expDate && expDate.split(\"/\")[1].trim()));\n  var variables = {\n    input: {\n      creditCard: {\n        number: cc && cc.number,\n        expirationMonth: expirationMonth,\n        expirationYear: expirationYear,\n        cvv: cc && cc.cvv,\n        cardholderName: cc && cc.cardholderName,\n      },\n      options: {},\n    },\n  };\n\n  if (options.hasAuthenticationInsight) {\n    variables.authenticationInsightInput = {\n      merchantAccountId: body.merchantAccountId,\n    };\n  }\n\n  if (billingAddress) {\n    variables.input.creditCard.billingAddress = billingAddress;\n  }\n\n  variables.input = addValidationRule(body, variables.input);\n\n  return variables;\n}\n\nfunction addValidationRule(body, input) {\n  var validate;\n\n  if (\n    body.creditCard &&\n    body.creditCard.options &&\n    typeof body.creditCard.options.validate === \"boolean\"\n  ) {\n    validate = body.creditCard.options.validate;\n  } else if (\n    (body.authorizationFingerprint && body.tokenizationKey) ||\n    body.authorizationFingerprint\n  ) {\n    validate = true;\n  } else if (body.tokenizationKey) {\n    validate = false;\n  }\n\n  if (typeof validate === \"boolean\") {\n    input.options = assign(\n      {\n        validate: validate,\n      },\n      input.options\n    );\n  }\n\n  return input;\n}\n\nfunction creditCardTokenization(body) {\n  var options = {\n    hasAuthenticationInsight: Boolean(\n      body.authenticationInsight && body.merchantAccountId\n    ),\n  };\n\n  return {\n    query: createMutation(options),\n    variables: createCreditCardTokenizationBody(body, options),\n    operationName: \"TokenizeCreditCard\",\n  };\n}\n\nmodule.exports = creditCardTokenization;\n\n},{\"../../../../lib/assign\":31}],22:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar features = {\n  tokenize_credit_cards: \"payment_methods/credit_cards\", // eslint-disable-line camelcase\n  configuration: \"configuration\",\n};\n\nvar disallowedInputPaths = [\"creditCard.options.unionPayEnrollment\"];\n\nfunction GraphQL(config) {\n  this._config = config.graphQL;\n}\n\nGraphQL.prototype.getGraphQLEndpoint = function () {\n  return this._config.url;\n};\n\nGraphQL.prototype.isGraphQLRequest = function (url, body) {\n  var featureEnabled;\n  var path = this.getClientApiPath(url);\n\n  if (!this._isGraphQLEnabled() || !path) {\n    return false;\n  }\n\n  featureEnabled = this._config.features.some(function (feature) {\n    return features[feature] === path;\n  });\n\n  if (containsDisallowedlistedKeys(body)) {\n    return false;\n  }\n\n  return featureEnabled;\n};\n\nGraphQL.prototype.getClientApiPath = function (url) {\n  var path;\n  var clientApiPrefix = \"/client_api/v1/\";\n  var pathParts = url.split(clientApiPrefix);\n\n  if (pathParts.length > 1) {\n    path = pathParts[1].split(\"?\")[0];\n  }\n\n  return path;\n};\n\nGraphQL.prototype._isGraphQLEnabled = function () {\n  return Boolean(this._config);\n};\n\nfunction containsDisallowedlistedKeys(body) {\n  return disallowedInputPaths.some(function (keys) {\n    var value = keys.split(\".\").reduce(function (accumulator, key) {\n      return accumulator && accumulator[key];\n    }, body);\n\n    return value !== undefined; // eslint-disable-line no-undefined\n  });\n}\n\nmodule.exports = GraphQL;\n\n},{}],23:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BRAINTREE_VERSION = _dereq_(\"../../constants\").BRAINTREE_VERSION;\n\nvar assign = _dereq_(\"../../../lib/assign\").assign;\nvar snakeCaseToCamelCase = _dereq_(\"../../../lib/snake-case-to-camel-case\");\n\nvar creditCardTokenizationBodyGenerator = _dereq_(\"./generators/credit-card-tokenization\");\nvar creditCardTokenizationResponseAdapter = _dereq_(\"./adapters/credit-card-tokenization\");\n\nvar configurationBodyGenerator = _dereq_(\"./generators/configuration\");\nvar configurationResponseAdapter = _dereq_(\"./adapters/configuration\");\n\nvar generators = {\n  \"payment_methods/credit_cards\": creditCardTokenizationBodyGenerator,\n  configuration: configurationBodyGenerator,\n};\nvar adapters = {\n  \"payment_methods/credit_cards\": creditCardTokenizationResponseAdapter,\n  configuration: configurationResponseAdapter,\n};\n\nfunction GraphQLRequest(options) {\n  var clientApiPath = options.graphQL.getClientApiPath(options.url);\n\n  this._graphQL = options.graphQL;\n  this._data = options.data;\n  this._method = options.method;\n  this._headers = options.headers;\n  this._clientSdkMetadata = {\n    source: options.metadata.source,\n    integration: options.metadata.integration,\n    sessionId: options.metadata.sessionId,\n  };\n  this._sendAnalyticsEvent = options.sendAnalyticsEvent || Function.prototype;\n\n  this._generator = generators[clientApiPath];\n  this._adapter = adapters[clientApiPath];\n\n  this._sendAnalyticsEvent(\"graphql.init\");\n}\n\nGraphQLRequest.prototype.getUrl = function () {\n  return this._graphQL.getGraphQLEndpoint();\n};\n\nGraphQLRequest.prototype.getBody = function () {\n  var formattedBody = formatBodyKeys(this._data);\n  var generatedBody = this._generator(formattedBody);\n  var body = assign(\n    { clientSdkMetadata: this._clientSdkMetadata },\n    generatedBody\n  );\n\n  return JSON.stringify(body);\n};\n\nGraphQLRequest.prototype.getMethod = function () {\n  return \"POST\";\n};\n\nGraphQLRequest.prototype.getHeaders = function () {\n  var authorization, headers;\n\n  if (this._data.authorizationFingerprint) {\n    this._sendAnalyticsEvent(\"graphql.authorization-fingerprint\");\n    authorization = this._data.authorizationFingerprint;\n  } else {\n    this._sendAnalyticsEvent(\"graphql.tokenization-key\");\n    authorization = this._data.tokenizationKey;\n  }\n\n  headers = {\n    Authorization: \"Bearer \" + authorization,\n    \"Braintree-Version\": BRAINTREE_VERSION,\n  };\n\n  return assign({}, this._headers, headers);\n};\n\nGraphQLRequest.prototype.adaptResponseBody = function (parsedBody) {\n  return this._adapter(parsedBody, this);\n};\n\nGraphQLRequest.prototype.determineStatus = function (\n  httpStatus,\n  parsedResponse\n) {\n  var status, errorClass;\n\n  if (httpStatus === 200) {\n    errorClass =\n      parsedResponse.errors &&\n      parsedResponse.errors[0] &&\n      parsedResponse.errors[0].extensions &&\n      parsedResponse.errors[0].extensions.errorClass;\n\n    if (parsedResponse.data && !parsedResponse.errors) {\n      status = 200;\n    } else if (errorClass === \"VALIDATION\") {\n      status = 422;\n    } else if (errorClass === \"AUTHORIZATION\") {\n      status = 403;\n    } else if (errorClass === \"AUTHENTICATION\") {\n      status = 401;\n    } else if (isGraphQLError(errorClass, parsedResponse)) {\n      status = 403;\n    } else {\n      status = 500;\n    }\n  } else if (!httpStatus) {\n    status = 500;\n  } else {\n    status = httpStatus;\n  }\n\n  this._sendAnalyticsEvent(\"graphql.status.\" + httpStatus);\n  this._sendAnalyticsEvent(\"graphql.determinedStatus.\" + status);\n\n  return status;\n};\n\nfunction isGraphQLError(errorClass, parsedResponse) {\n  return !errorClass && parsedResponse.errors[0].message;\n}\n\nfunction formatBodyKeys(originalBody) {\n  var body = {};\n\n  Object.keys(originalBody).forEach(function (key) {\n    var camelCaseKey = snakeCaseToCamelCase(key);\n\n    if (typeof originalBody[key] === \"object\") {\n      body[camelCaseKey] = formatBodyKeys(originalBody[key]);\n    } else if (typeof originalBody[key] === \"number\") {\n      body[camelCaseKey] = String(originalBody[key]);\n    } else {\n      body[camelCaseKey] = originalBody[key];\n    }\n  });\n\n  return body;\n}\n\nmodule.exports = GraphQLRequest;\n\n},{\"../../../lib/assign\":31,\"../../../lib/snake-case-to-camel-case\":46,\"../../constants\":11,\"./adapters/configuration\":17,\"./adapters/credit-card-tokenization\":18,\"./generators/configuration\":20,\"./generators/credit-card-tokenization\":21}],24:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar once = _dereq_(\"../../lib/once\");\nvar AJAXDriver = _dereq_(\"./ajax-driver\");\n\nmodule.exports = function (options, cb) {\n  cb = once(cb || Function.prototype);\n  options.method = (options.method || \"GET\").toUpperCase();\n  options.timeout = options.timeout == null ? 60000 : options.timeout;\n  options.data = options.data || {};\n\n  AJAXDriver.request(options, cb);\n};\n\n},{\"../../lib/once\":44,\"./ajax-driver\":15}],25:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (body) {\n  try {\n    body = JSON.parse(body);\n  } catch (e) {\n    /* ignored */\n  }\n\n  return body;\n};\n\n},{}],26:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (method, body) {\n  if (typeof method !== \"string\") {\n    throw new Error(\"Method must be a string\");\n  }\n\n  if (method.toLowerCase() !== \"get\" && body != null) {\n    body = typeof body === \"string\" ? body : JSON.stringify(body);\n  }\n\n  return body;\n};\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar isXHRAvailable =\n  typeof window !== \"undefined\" &&\n  window.XMLHttpRequest &&\n  \"withCredentials\" in new window.XMLHttpRequest();\n\nfunction getRequestObject() {\n  return isXHRAvailable\n    ? new window.XMLHttpRequest()\n    : new window.XDomainRequest();\n}\n\nmodule.exports = {\n  isAvailable: isXHRAvailable,\n  getRequestObject: getRequestObject,\n};\n\n},{}],28:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar createAuthorizationData = _dereq_(\"./create-authorization-data\");\nvar jsonClone = _dereq_(\"./json-clone\");\nvar constants = _dereq_(\"./constants\");\n\nfunction addMetadata(configuration, data) {\n  var key;\n  var attrs = data ? jsonClone(data) : {};\n  var authAttrs = createAuthorizationData(configuration.authorization).attrs;\n  var _meta = jsonClone(configuration.analyticsMetadata);\n\n  attrs.braintreeLibraryVersion = constants.BRAINTREE_LIBRARY_VERSION;\n\n  for (key in attrs._meta) {\n    if (attrs._meta.hasOwnProperty(key)) {\n      _meta[key] = attrs._meta[key];\n    }\n  }\n\n  attrs._meta = _meta;\n\n  if (authAttrs.tokenizationKey) {\n    attrs.tokenizationKey = authAttrs.tokenizationKey;\n  } else {\n    attrs.authorizationFingerprint = authAttrs.authorizationFingerprint;\n  }\n\n  return attrs;\n}\n\nmodule.exports = addMetadata;\n\n},{\"./constants\":33,\"./create-authorization-data\":36,\"./json-clone\":42}],29:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar constants = _dereq_(\"./constants\");\nvar addMetadata = _dereq_(\"./add-metadata\");\n\nfunction sendAnalyticsEvent(clientInstanceOrPromise, kind, callback) {\n  var timestamp = Date.now(); // milliseconds\n\n  return Promise.resolve(clientInstanceOrPromise)\n    .then(function (client) {\n      var timestampInPromise = Date.now();\n      var configuration = client.getConfiguration();\n      var request = client._request;\n      var url = configuration.gatewayConfiguration.analytics.url;\n      var data = {\n        analytics: [\n          {\n            kind: constants.ANALYTICS_PREFIX + kind,\n            isAsync:\n              Math.floor(timestampInPromise / 1000) !==\n              Math.floor(timestamp / 1000),\n            timestamp: timestamp,\n          },\n        ],\n      };\n\n      request(\n        {\n          url: url,\n          method: \"post\",\n          data: addMetadata(configuration, data),\n          timeout: constants.ANALYTICS_REQUEST_TIMEOUT_MS,\n        },\n        callback\n      );\n    })\n    .catch(function (err) {\n      // for all non-test cases, we don't provide a callback,\n      // so this error will always be swallowed. In this case,\n      // that's fine, it should only error when the deferred\n      // client fails to set up, in which case we don't want\n      // that error to report over and over again via these\n      // deferred analytics events\n      if (callback) {\n        callback(err);\n      }\n    });\n}\n\nmodule.exports = {\n  sendEvent: sendAnalyticsEvent,\n};\n\n},{\"./add-metadata\":28,\"./constants\":33}],30:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar loadScript = _dereq_(\"@braintree/asset-loader/load-script\");\n\nmodule.exports = {\n  loadScript: loadScript,\n};\n\n},{\"@braintree/asset-loader/load-script\":3}],31:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar assignNormalized =\n  typeof Object.assign === \"function\" ? Object.assign : assignPolyfill;\n\nfunction assignPolyfill(destination) {\n  var i, source, key;\n\n  for (i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      if (source.hasOwnProperty(key)) {\n        destination[key] = source[key];\n      }\n    }\n  }\n\n  return destination;\n}\n\nmodule.exports = {\n  assign: assignNormalized,\n  _assign: assignPolyfill,\n};\n\n},{}],32:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar enumerate = _dereq_(\"./enumerate\");\n\n/**\n * @class\n * @global\n * @param {object} options Construction options\n * @classdesc This class is used to report error conditions, frequently as the first parameter to callbacks throughout the Braintree SDK.\n * @description <strong>You cannot use this constructor directly. Interact with instances of this class through {@link callback callbacks}.</strong>\n */\nfunction BraintreeError(options) {\n  if (!BraintreeError.types.hasOwnProperty(options.type)) {\n    throw new Error(options.type + \" is not a valid type.\");\n  }\n\n  if (!options.code) {\n    throw new Error(\"Error code required.\");\n  }\n\n  if (!options.message) {\n    throw new Error(\"Error message required.\");\n  }\n\n  this.name = \"BraintreeError\";\n\n  /**\n   * @type {string}\n   * @description A code that corresponds to specific errors.\n   */\n  this.code = options.code;\n\n  /**\n   * @type {string}\n   * @description A short description of the error.\n   */\n  this.message = options.message;\n\n  /**\n   * @type {BraintreeError.types}\n   * @description The type of error.\n   */\n  this.type = options.type;\n\n  /**\n   * @type {object=}\n   * @description Additional information about the error, such as an underlying network error response.\n   */\n  this.details = options.details;\n}\n\nBraintreeError.prototype = Object.create(Error.prototype);\nBraintreeError.prototype.constructor = BraintreeError;\n\n/**\n * Enum for {@link BraintreeError} types.\n * @name BraintreeError.types\n * @enum\n * @readonly\n * @memberof BraintreeError\n * @property {string} CUSTOMER An error caused by the customer.\n * @property {string} MERCHANT An error that is actionable by the merchant.\n * @property {string} NETWORK An error due to a network problem.\n * @property {string} INTERNAL An error caused by Braintree code.\n * @property {string} UNKNOWN An error where the origin is unknown.\n */\nBraintreeError.types = enumerate([\n  \"CUSTOMER\",\n  \"MERCHANT\",\n  \"NETWORK\",\n  \"INTERNAL\",\n  \"UNKNOWN\",\n]);\n\nBraintreeError.findRootError = function (err) {\n  if (\n    err instanceof BraintreeError &&\n    err.details &&\n    err.details.originalError\n  ) {\n    return BraintreeError.findRootError(err.details.originalError);\n  }\n\n  return err;\n};\n\nmodule.exports = BraintreeError;\n\n},{\"./enumerate\":38}],33:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar VERSION = \"3.94.0\";\nvar PLATFORM = \"web\";\n\nvar CLIENT_API_URLS = {\n  production: \"https://api.braintreegateway.com:443\",\n  sandbox: \"https://api.sandbox.braintreegateway.com:443\",\n};\n\nvar ASSETS_URLS = {\n  production: \"https://assets.braintreegateway.com\",\n  sandbox: \"https://assets.braintreegateway.com\",\n};\n\nvar GRAPHQL_URLS = {\n  production: \"https://payments.braintree-api.com/graphql\",\n  sandbox: \"https://payments.sandbox.braintree-api.com/graphql\",\n};\n\n// endRemoveIf(production)\n\nmodule.exports = {\n  ANALYTICS_PREFIX: PLATFORM + \".\",\n  ANALYTICS_REQUEST_TIMEOUT_MS: 2000,\n  ASSETS_URLS: ASSETS_URLS,\n  CLIENT_API_URLS: CLIENT_API_URLS,\n  FRAUDNET_SOURCE: \"BRAINTREE_SIGNIN\",\n  FRAUDNET_FNCLS: \"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99\",\n  FRAUDNET_URL: \"https://c.paypal.com/da/r/fb.js\",\n  BUS_CONFIGURATION_REQUEST_EVENT: \"BUS_CONFIGURATION_REQUEST\",\n  GRAPHQL_URLS: GRAPHQL_URLS,\n  INTEGRATION_TIMEOUT_MS: 60000,\n  VERSION: VERSION,\n  INTEGRATION: \"custom\",\n  SOURCE: \"client\",\n  PLATFORM: PLATFORM,\n  BRAINTREE_LIBRARY_VERSION: \"braintree/\" + PLATFORM + \"/\" + VERSION,\n};\n\n},{}],34:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\nvar sharedErrors = _dereq_(\"./errors\");\n\nmodule.exports = function (instance, methodNames) {\n  methodNames.forEach(function (methodName) {\n    instance[methodName] = function () {\n      throw new BraintreeError({\n        type: sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.type,\n        code: sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.code,\n        message: methodName + \" cannot be called after teardown.\",\n      });\n    };\n  });\n};\n\n},{\"./braintree-error\":32,\"./errors\":39}],35:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\n\nfunction convertToBraintreeError(originalErr, btErrorObject) {\n  if (originalErr instanceof BraintreeError) {\n    return originalErr;\n  }\n\n  return new BraintreeError({\n    type: btErrorObject.type,\n    code: btErrorObject.code,\n    message: btErrorObject.message,\n    details: {\n      originalError: originalErr,\n    },\n  });\n}\n\nmodule.exports = convertToBraintreeError;\n\n},{\"./braintree-error\":32}],36:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar atob = _dereq_(\"../lib/vendor/polyfill\").atob;\nvar CLIENT_API_URLS = _dereq_(\"../lib/constants\").CLIENT_API_URLS;\n\nfunction _isTokenizationKey(str) {\n  return /^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(str);\n}\n\nfunction _parseTokenizationKey(tokenizationKey) {\n  var tokens = tokenizationKey.split(\"_\");\n  var environment = tokens[0];\n  var merchantId = tokens.slice(2).join(\"_\");\n\n  return {\n    merchantId: merchantId,\n    environment: environment,\n  };\n}\n\nfunction createAuthorizationData(authorization) {\n  var parsedClientToken, parsedTokenizationKey;\n  var data = {\n    attrs: {},\n    configUrl: \"\",\n  };\n\n  if (_isTokenizationKey(authorization)) {\n    parsedTokenizationKey = _parseTokenizationKey(authorization);\n    data.environment = parsedTokenizationKey.environment;\n    data.attrs.tokenizationKey = authorization;\n    data.configUrl =\n      CLIENT_API_URLS[parsedTokenizationKey.environment] +\n      \"/merchants/\" +\n      parsedTokenizationKey.merchantId +\n      \"/client_api/v1/configuration\";\n  } else {\n    parsedClientToken = JSON.parse(atob(authorization));\n    data.environment = parsedClientToken.environment;\n    data.attrs.authorizationFingerprint =\n      parsedClientToken.authorizationFingerprint;\n    data.configUrl = parsedClientToken.configUrl;\n    data.graphQL = parsedClientToken.graphQL;\n  }\n\n  return data;\n}\n\nmodule.exports = createAuthorizationData;\n\n},{\"../lib/constants\":33,\"../lib/vendor/polyfill\":47}],37:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (fn) {\n  return function () {\n    // IE9 doesn't support passing arguments to setTimeout so we have to emulate it.\n    var args = arguments;\n\n    setTimeout(function () {\n      fn.apply(null, args);\n    }, 1);\n  };\n};\n\n},{}],38:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction enumerate(values, prefix) {\n  prefix = prefix == null ? \"\" : prefix;\n\n  return values.reduce(function (enumeration, value) {\n    enumeration[value] = prefix + value;\n\n    return enumeration;\n  }, {});\n}\n\nmodule.exports = enumerate;\n\n},{}],39:[function(_dereq_,module,exports){\n\"use strict\";\n\n/**\n * @name BraintreeError.Shared Internal Error Codes\n * @ignore\n * @description These codes should never be experienced by the merchant directly.\n * @property {INTERNAL} INVALID_USE_OF_INTERNAL_FUNCTION Occurs when the client is created without a gateway configuration. Should never happen.\n */\n\n/**\n * @name BraintreeError.Shared Errors - Component Creation Error Codes\n * @description Errors that occur when creating components.\n * @property {MERCHANT} INSTANTIATION_OPTION_REQUIRED Occurs when a component is created that is missing a required option.\n * @property {MERCHANT} INCOMPATIBLE_VERSIONS Occurs when a component is created with a client with a different version than the component.\n * @property {NETWORK} CLIENT_SCRIPT_FAILED_TO_LOAD Occurs when a component attempts to load the Braintree client script, but the request fails.\n */\n\n/**\n * @name BraintreeError.Shared Errors - Component Instance Error Codes\n * @description Errors that occur when using instances of components.\n * @property {MERCHANT} METHOD_CALLED_AFTER_TEARDOWN Occurs when a method is called on a component instance after it has been torn down.\n */\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\n\nmodule.exports = {\n  INVALID_USE_OF_INTERNAL_FUNCTION: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"INVALID_USE_OF_INTERNAL_FUNCTION\",\n  },\n  INSTANTIATION_OPTION_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"INSTANTIATION_OPTION_REQUIRED\",\n  },\n  INCOMPATIBLE_VERSIONS: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"INCOMPATIBLE_VERSIONS\",\n  },\n  CLIENT_SCRIPT_FAILED_TO_LOAD: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_SCRIPT_FAILED_TO_LOAD\",\n    message: \"Braintree client script could not be loaded.\",\n  },\n  METHOD_CALLED_AFTER_TEARDOWN: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"METHOD_CALLED_AFTER_TEARDOWN\",\n  },\n};\n\n},{\"./braintree-error\":32}],40:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction convertDateStringToDate(dateString) {\n  var splitDate = dateString.split(\"-\");\n\n  return new Date(splitDate[0], splitDate[1], splitDate[2]);\n}\n\nfunction isDateStringBeforeOrOn(firstDate, secondDate) {\n  return (\n    convertDateStringToDate(firstDate) <= convertDateStringToDate(secondDate)\n  );\n}\n\nmodule.exports = isDateStringBeforeOrOn;\n\n},{}],41:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar parser;\nvar legalHosts = {\n  \"paypal.com\": 1,\n  \"braintreepayments.com\": 1,\n  \"braintreegateway.com\": 1,\n  \"braintree-api.com\": 1,\n};\n\n// endRemoveIf(production)\n\nfunction stripSubdomains(domain) {\n  return domain.split(\".\").slice(-2).join(\".\");\n}\n\nfunction isVerifiedDomain(url) {\n  var mainDomain;\n\n  url = url.toLowerCase();\n\n  if (!/^https:/.test(url)) {\n    return false;\n  }\n\n  parser = parser || document.createElement(\"a\");\n  parser.href = url;\n  mainDomain = stripSubdomains(parser.hostname);\n\n  return legalHosts.hasOwnProperty(mainDomain);\n}\n\nmodule.exports = isVerifiedDomain;\n\n},{}],42:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (value) {\n  return JSON.parse(JSON.stringify(value));\n};\n\n},{}],43:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (obj) {\n  return Object.keys(obj).filter(function (key) {\n    return typeof obj[key] === \"function\";\n  });\n};\n\n},{}],44:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction once(fn) {\n  var called = false;\n\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(null, arguments);\n    }\n  };\n}\n\nmodule.exports = once;\n\n},{}],45:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction _notEmpty(obj) {\n  var key;\n\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/* eslint-disable no-mixed-operators */\nfunction _isArray(value) {\n  return (\n    (value &&\n      typeof value === \"object\" &&\n      typeof value.length === \"number\" &&\n      Object.prototype.toString.call(value) === \"[object Array]\") ||\n    false\n  );\n}\n/* eslint-enable no-mixed-operators */\n\nfunction hasQueryParams(url) {\n  url = url || window.location.href;\n\n  return /\\?/.test(url);\n}\n\nfunction parse(url) {\n  var query, params;\n\n  url = url || window.location.href;\n\n  if (!hasQueryParams(url)) {\n    return {};\n  }\n\n  query = url.split(\"?\")[1] || \"\";\n  query = query.replace(/#.*$/, \"\").split(\"&\");\n\n  params = query.reduce(function (toReturn, keyValue) {\n    var parts = keyValue.split(\"=\");\n    var key = decodeURIComponent(parts[0]);\n    var value = decodeURIComponent(parts[1]);\n\n    toReturn[key] = value;\n\n    return toReturn;\n  }, {});\n\n  return params;\n}\n\nfunction stringify(params, namespace) {\n  var k, v, p;\n  var query = [];\n\n  for (p in params) {\n    if (!params.hasOwnProperty(p)) {\n      continue;\n    }\n\n    v = params[p];\n\n    if (namespace) {\n      if (_isArray(params)) {\n        k = namespace + \"[]\";\n      } else {\n        k = namespace + \"[\" + p + \"]\";\n      }\n    } else {\n      k = p;\n    }\n    if (typeof v === \"object\") {\n      query.push(stringify(v, k));\n    } else {\n      query.push(encodeURIComponent(k) + \"=\" + encodeURIComponent(v));\n    }\n  }\n\n  return query.join(\"&\");\n}\n\nfunction queryify(url, params) {\n  url = url || \"\";\n\n  if (params != null && typeof params === \"object\" && _notEmpty(params)) {\n    url += url.indexOf(\"?\") === -1 ? \"?\" : \"\";\n    url += url.indexOf(\"=\") !== -1 ? \"&\" : \"\";\n    url += stringify(params);\n  }\n\n  return url;\n}\n\nmodule.exports = {\n  parse: parse,\n  stringify: stringify,\n  queryify: queryify,\n  hasQueryParams: hasQueryParams,\n};\n\n},{}],46:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (snakeString) {\n  if (snakeString.indexOf(\"_\") === -1) {\n    return snakeString;\n  }\n\n  return snakeString.toLowerCase().replace(/(\\_\\w)/g, function (match) {\n    return match[1].toUpperCase();\n  });\n};\n\n},{}],47:[function(_dereq_,module,exports){\n\"use strict\";\n\n// NEXT_MAJOR_VERSION old versions of IE don't have atob, in the\n// next major version, we're dropping support for those versions\n// so we can eliminate the need to have this atob polyfill\nvar atobNormalized = typeof atob === \"function\" ? atob : atobPolyfill;\n\nfunction atobPolyfill(base64String) {\n  var a, b, c, b1, b2, b3, b4, i;\n  var base64Matcher = new RegExp(\n    \"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$\"\n  );\n  var characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  var result = \"\";\n\n  if (!base64Matcher.test(base64String)) {\n    throw new Error(\"Non base64 encoded input passed to window.atob polyfill\");\n  }\n\n  i = 0;\n  do {\n    b1 = characters.indexOf(base64String.charAt(i++));\n    b2 = characters.indexOf(base64String.charAt(i++));\n    b3 = characters.indexOf(base64String.charAt(i++));\n    b4 = characters.indexOf(base64String.charAt(i++));\n\n    a = ((b1 & 0x3f) << 2) | ((b2 >> 4) & 0x3);\n    b = ((b2 & 0xf) << 4) | ((b3 >> 2) & 0xf);\n    c = ((b3 & 0x3) << 6) | (b4 & 0x3f);\n\n    result +=\n      String.fromCharCode(a) +\n      (b ? String.fromCharCode(b) : \"\") +\n      (c ? String.fromCharCode(c) : \"\");\n  } while (i < base64String.length);\n\n  return result;\n}\n\nmodule.exports = {\n  atob: function (base64String) {\n    return atobNormalized.call(window, base64String);\n  },\n  _atob: atobPolyfill,\n};\n\n},{}]},{},[14])(14)\n});\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}(g.braintree || (g.braintree = {})).paypalCheckout = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PromiseGlobal = void 0;\nvar promise_polyfill_1 = __importDefault(_dereq_(\"promise-polyfill\"));\nvar PromiseGlobal = \n// eslint-disable-next-line no-undef\ntypeof Promise !== \"undefined\" ? Promise : promise_polyfill_1.default;\nexports.PromiseGlobal = PromiseGlobal;\n\n},{\"promise-polyfill\":45}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar promise_1 = _dereq_(\"./lib/promise\");\nvar scriptPromiseCache = {};\nfunction loadScript(options) {\n    var scriptLoadPromise;\n    var stringifiedOptions = JSON.stringify(options);\n    if (!options.forceScriptReload) {\n        scriptLoadPromise = scriptPromiseCache[stringifiedOptions];\n        if (scriptLoadPromise) {\n            return scriptLoadPromise;\n        }\n    }\n    var script = document.createElement(\"script\");\n    var attrs = options.dataAttributes || {};\n    var container = options.container || document.head;\n    script.src = options.src;\n    script.id = options.id || \"\";\n    script.async = true;\n    if (options.crossorigin) {\n        script.setAttribute(\"crossorigin\", \"\" + options.crossorigin);\n    }\n    Object.keys(attrs).forEach(function (key) {\n        script.setAttribute(\"data-\" + key, \"\" + attrs[key]);\n    });\n    scriptLoadPromise = new promise_1.PromiseGlobal(function (resolve, reject) {\n        script.addEventListener(\"load\", function () {\n            resolve(script);\n        });\n        script.addEventListener(\"error\", function () {\n            reject(new Error(options.src + \" failed to load.\"));\n        });\n        script.addEventListener(\"abort\", function () {\n            reject(new Error(options.src + \" has aborted.\"));\n        });\n        container.appendChild(script);\n    });\n    scriptPromiseCache[stringifiedOptions] = scriptLoadPromise;\n    return scriptLoadPromise;\n}\nloadScript.clearCache = function () {\n    scriptPromiseCache = {};\n};\nmodule.exports = loadScript;\n\n},{\"./lib/promise\":1}],3:[function(_dereq_,module,exports){\nmodule.exports = _dereq_(\"./dist/load-script\");\n\n},{\"./dist/load-script\":2}],4:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function isAndroid(ua) {\n    ua = ua || window.navigator.userAgent;\n    return /Android/i.test(ua);\n};\n\n},{}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar isEdge = _dereq_(\"./is-edge\");\nvar isSamsung = _dereq_(\"./is-samsung\");\nvar isDuckDuckGo = _dereq_(\"./is-duckduckgo\");\nvar isOpera = _dereq_(\"./is-opera\");\nvar isSilk = _dereq_(\"./is-silk\");\nmodule.exports = function isChrome(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ((ua.indexOf(\"Chrome\") !== -1 || ua.indexOf(\"CriOS\") !== -1) &&\n        !isEdge(ua) &&\n        !isSamsung(ua) &&\n        !isDuckDuckGo(ua) &&\n        !isOpera(ua) &&\n        !isSilk(ua));\n};\n\n},{\"./is-duckduckgo\":6,\"./is-edge\":7,\"./is-opera\":13,\"./is-samsung\":14,\"./is-silk\":15}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function isDuckDuckGo(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ua.indexOf(\"DuckDuckGo/\") !== -1;\n};\n\n},{}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function isEdge(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ua.indexOf(\"Edge/\") !== -1;\n};\n\n},{}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function isIosFirefox(ua) {\n    ua = ua || window.navigator.userAgent;\n    return /FxiOS/i.test(ua);\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nvar isIos = _dereq_(\"./is-ios\");\nfunction isGoogleSearchApp(ua) {\n    return /\\bGSA\\b/.test(ua);\n}\nmodule.exports = function isIosGoogleSearchApp(ua) {\n    ua = ua || window.navigator.userAgent;\n    return isIos(ua) && isGoogleSearchApp(ua);\n};\n\n},{\"./is-ios\":12}],10:[function(_dereq_,module,exports){\n\"use strict\";\nvar isIos = _dereq_(\"./is-ios\");\nvar isIosGoogleSearchApp = _dereq_(\"./is-ios-google-search-app\");\nmodule.exports = function isIosWebview(ua) {\n    ua = ua || window.navigator.userAgent;\n    if (isIos(ua)) {\n        // The Google Search iOS app is technically a webview and doesn't support popups.\n        if (isIosGoogleSearchApp(ua)) {\n            return true;\n        }\n        // Historically, a webview could be identified by the presence of AppleWebKit and _no_ presence of Safari after.\n        return /.+AppleWebKit(?!.*Safari)/i.test(ua);\n    }\n    return false;\n};\n\n},{\"./is-ios\":12,\"./is-ios-google-search-app\":9}],11:[function(_dereq_,module,exports){\n\"use strict\";\nvar isIosWebview = _dereq_(\"./is-ios-webview\");\nmodule.exports = function isIosWKWebview(ua, statusBarVisible) {\n    statusBarVisible =\n        typeof statusBarVisible !== \"undefined\"\n            ? statusBarVisible\n            : window.statusbar.visible;\n    return isIosWebview(ua) && statusBarVisible;\n};\n\n},{\"./is-ios-webview\":10}],12:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function isIos(ua) {\n    ua = ua || window.navigator.userAgent;\n    return /iPhone|iPod|iPad/i.test(ua);\n};\n\n},{}],13:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function isOpera(ua) {\n    ua = ua || window.navigator.userAgent;\n    return (ua.indexOf(\"OPR/\") !== -1 ||\n        ua.indexOf(\"Opera/\") !== -1 ||\n        ua.indexOf(\"OPT/\") !== -1);\n};\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function isSamsungBrowser(ua) {\n    ua = ua || window.navigator.userAgent;\n    return /SamsungBrowser/i.test(ua);\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function isSilk(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ua.indexOf(\"Silk/\") !== -1;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n\"use strict\";\nvar MINIMUM_SUPPORTED_CHROME_IOS_VERSION = 48;\nvar isAndroid = _dereq_(\"./is-android\");\nvar isIosFirefox = _dereq_(\"./is-ios-firefox\");\nvar isIosWebview = _dereq_(\"./is-ios-webview\");\nvar isChrome = _dereq_(\"./is-chrome\");\nvar isSamsungBrowser = _dereq_(\"./is-samsung\");\nvar isDuckDuckGo = _dereq_(\"./is-duckduckgo\");\nfunction isUnsupportedIosChrome(ua) {\n    ua = ua || window.navigator.userAgent;\n    var match = ua.match(/CriOS\\/(\\d+)\\./);\n    if (!match) {\n        return false;\n    }\n    var version = parseInt(match[1], 10);\n    return version < MINIMUM_SUPPORTED_CHROME_IOS_VERSION;\n}\nfunction isOperaMini(ua) {\n    ua = ua || window.navigator.userAgent;\n    return ua.indexOf(\"Opera Mini\") > -1;\n}\nfunction isAndroidWebview(ua) {\n    var androidWebviewRegExp = /Version\\/[\\d.]+/i;\n    ua = ua || window.navigator.userAgent;\n    if (isAndroid(ua)) {\n        return (androidWebviewRegExp.test(ua) && !isOperaMini(ua) && !isDuckDuckGo(ua));\n    }\n    return false;\n}\nfunction isOldSamsungBrowserOrSamsungWebview(ua) {\n    return !isChrome(ua) && !isSamsungBrowser(ua) && /samsung/i.test(ua);\n}\nmodule.exports = function supportsPopups(ua) {\n    ua = ua || window.navigator.userAgent;\n    return !(isIosWebview(ua) ||\n        isIosFirefox(ua) ||\n        isAndroidWebview(ua) ||\n        isOperaMini(ua) ||\n        isUnsupportedIosChrome(ua) ||\n        isOldSamsungBrowserOrSamsungWebview(ua));\n};\n\n},{\"./is-android\":4,\"./is-chrome\":5,\"./is-duckduckgo\":6,\"./is-ios-firefox\":8,\"./is-ios-webview\":10,\"./is-samsung\":14}],17:[function(_dereq_,module,exports){\nmodule.exports = _dereq_(\"./dist/is-ios-wkwebview\");\n\n},{\"./dist/is-ios-wkwebview\":11}],18:[function(_dereq_,module,exports){\nmodule.exports = _dereq_(\"./dist/is-ios\");\n\n},{\"./dist/is-ios\":12}],19:[function(_dereq_,module,exports){\nmodule.exports = _dereq_(\"./dist/supports-popups\");\n\n},{\"./dist/supports-popups\":16}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar GlobalPromise = (typeof Promise !== \"undefined\"\n    ? Promise // eslint-disable-line no-undef\n    : null);\nvar ExtendedPromise = /** @class */ (function () {\n    function ExtendedPromise(options) {\n        var _this = this;\n        if (typeof options === \"function\") {\n            this._promise = new ExtendedPromise.Promise(options);\n            return;\n        }\n        this._promise = new ExtendedPromise.Promise(function (resolve, reject) {\n            _this._resolveFunction = resolve;\n            _this._rejectFunction = reject;\n        });\n        options = options || {};\n        this._onResolve = options.onResolve || ExtendedPromise.defaultOnResolve;\n        this._onReject = options.onReject || ExtendedPromise.defaultOnReject;\n        if (ExtendedPromise.shouldCatchExceptions(options)) {\n            this._promise.catch(function () {\n                // prevents unhandled promise rejection warning\n                // in the console for extended promises that\n                // that catch the error in an asynchronous manner\n            });\n        }\n        this._resetState();\n    }\n    ExtendedPromise.defaultOnResolve = function (result) {\n        return ExtendedPromise.Promise.resolve(result);\n    };\n    ExtendedPromise.defaultOnReject = function (err) {\n        return ExtendedPromise.Promise.reject(err);\n    };\n    ExtendedPromise.setPromise = function (PromiseClass) {\n        ExtendedPromise.Promise = PromiseClass;\n    };\n    ExtendedPromise.shouldCatchExceptions = function (options) {\n        if (options.hasOwnProperty(\"suppressUnhandledPromiseMessage\")) {\n            return Boolean(options.suppressUnhandledPromiseMessage);\n        }\n        return Boolean(ExtendedPromise.suppressUnhandledPromiseMessage);\n    };\n    // start Promise methods documented in:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise#Methods\n    ExtendedPromise.all = function (args) {\n        return ExtendedPromise.Promise.all(args);\n    };\n    ExtendedPromise.allSettled = function (args) {\n        return ExtendedPromise.Promise.allSettled(args);\n    };\n    ExtendedPromise.race = function (args) {\n        return ExtendedPromise.Promise.race(args);\n    };\n    ExtendedPromise.reject = function (arg) {\n        return ExtendedPromise.Promise.reject(arg);\n    };\n    ExtendedPromise.resolve = function (arg) {\n        return ExtendedPromise.Promise.resolve(arg);\n    };\n    ExtendedPromise.prototype.then = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return (_a = this._promise).then.apply(_a, args);\n    };\n    ExtendedPromise.prototype.catch = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return (_a = this._promise).catch.apply(_a, args);\n    };\n    ExtendedPromise.prototype.resolve = function (arg) {\n        var _this = this;\n        if (this.isFulfilled) {\n            return this;\n        }\n        this._setResolved();\n        ExtendedPromise.Promise.resolve()\n            .then(function () {\n            return _this._onResolve(arg);\n        })\n            .then(function (argForResolveFunction) {\n            _this._resolveFunction(argForResolveFunction);\n        })\n            .catch(function (err) {\n            _this._resetState();\n            _this.reject(err);\n        });\n        return this;\n    };\n    ExtendedPromise.prototype.reject = function (arg) {\n        var _this = this;\n        if (this.isFulfilled) {\n            return this;\n        }\n        this._setRejected();\n        ExtendedPromise.Promise.resolve()\n            .then(function () {\n            return _this._onReject(arg);\n        })\n            .then(function (result) {\n            _this._setResolved();\n            _this._resolveFunction(result);\n        })\n            .catch(function (err) {\n            return _this._rejectFunction(err);\n        });\n        return this;\n    };\n    ExtendedPromise.prototype._resetState = function () {\n        this.isFulfilled = false;\n        this.isResolved = false;\n        this.isRejected = false;\n    };\n    ExtendedPromise.prototype._setResolved = function () {\n        this.isFulfilled = true;\n        this.isResolved = true;\n        this.isRejected = false;\n    };\n    ExtendedPromise.prototype._setRejected = function () {\n        this.isFulfilled = true;\n        this.isResolved = false;\n        this.isRejected = true;\n    };\n    ExtendedPromise.Promise = GlobalPromise;\n    return ExtendedPromise;\n}());\nmodule.exports = ExtendedPromise;\n\n},{}],21:[function(_dereq_,module,exports){\n\"use strict\";\nvar set_attributes_1 = _dereq_(\"./lib/set-attributes\");\nvar default_attributes_1 = _dereq_(\"./lib/default-attributes\");\nvar assign_1 = _dereq_(\"./lib/assign\");\nmodule.exports = function createFrame(options) {\n    if (options === void 0) { options = {}; }\n    var iframe = document.createElement(\"iframe\");\n    var config = assign_1.assign({}, default_attributes_1.defaultAttributes, options);\n    if (config.style && typeof config.style !== \"string\") {\n        assign_1.assign(iframe.style, config.style);\n        delete config.style;\n    }\n    set_attributes_1.setAttributes(iframe, config);\n    if (!iframe.getAttribute(\"id\")) {\n        iframe.id = iframe.name;\n    }\n    return iframe;\n};\n\n},{\"./lib/assign\":22,\"./lib/default-attributes\":23,\"./lib/set-attributes\":24}],22:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assign = void 0;\nfunction assign(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntarget) {\n    var objs = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objs[_i - 1] = arguments[_i];\n    }\n    objs.forEach(function (obj) {\n        if (typeof obj !== \"object\") {\n            return;\n        }\n        Object.keys(obj).forEach(function (key) {\n            target[key] = obj[key];\n        });\n    });\n    return target;\n}\nexports.assign = assign;\n\n},{}],23:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultAttributes = void 0;\nexports.defaultAttributes = {\n    src: \"about:blank\",\n    frameBorder: 0,\n    allowtransparency: true,\n    scrolling: \"no\",\n};\n\n},{}],24:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setAttributes = void 0;\nfunction setAttributes(element, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nattributes) {\n    for (var key in attributes) {\n        if (attributes.hasOwnProperty(key)) {\n            var value = attributes[key];\n            if (value == null) {\n                element.removeAttribute(key);\n            }\n            else {\n                element.setAttribute(key, value);\n            }\n        }\n    }\n}\nexports.setAttributes = setAttributes;\n\n},{}],25:[function(_dereq_,module,exports){\n'use strict';\n\nfunction uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n\n    return v.toString(16);\n  });\n}\n\nmodule.exports = uuid;\n\n},{}],26:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction deferred(fn) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        setTimeout(function () {\n            try {\n                fn.apply(void 0, args);\n            }\n            catch (err) {\n                /* eslint-disable no-console */\n                console.log(\"Error in callback function\");\n                console.log(err);\n                /* eslint-enable no-console */\n            }\n        }, 1);\n    };\n}\nexports.deferred = deferred;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction once(fn) {\n    var called = false;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!called) {\n            called = true;\n            fn.apply(void 0, args);\n        }\n    };\n}\nexports.once = once;\n\n},{}],28:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable consistent-return */\nfunction promiseOrCallback(promise, callback) {\n    if (!callback) {\n        return promise;\n    }\n    promise.then(function (data) { return callback(null, data); }).catch(function (err) { return callback(err); });\n}\nexports.promiseOrCallback = promiseOrCallback;\n\n},{}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar deferred_1 = _dereq_(\"./lib/deferred\");\nvar once_1 = _dereq_(\"./lib/once\");\nvar promise_or_callback_1 = _dereq_(\"./lib/promise-or-callback\");\nfunction wrapPromise(fn) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callback;\n        var lastArg = args[args.length - 1];\n        if (typeof lastArg === \"function\") {\n            callback = args.pop();\n            callback = once_1.once(deferred_1.deferred(callback));\n        }\n        // I know, I know, this looks bad. But it's a quirk of the library that\n        // we need to allow passing the this context to the original function\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore: this has an implicit any\n        return promise_or_callback_1.promiseOrCallback(fn.apply(this, args), callback); // eslint-disable-line no-invalid-this\n    };\n}\nwrapPromise.wrapPrototype = function (target, options) {\n    if (options === void 0) { options = {}; }\n    var ignoreMethods = options.ignoreMethods || [];\n    var includePrivateMethods = options.transformPrivateMethods === true;\n    var methods = Object.getOwnPropertyNames(target.prototype).filter(function (method) {\n        var isNotPrivateMethod;\n        var isNonConstructorFunction = method !== \"constructor\" &&\n            typeof target.prototype[method] === \"function\";\n        var isNotAnIgnoredMethod = ignoreMethods.indexOf(method) === -1;\n        if (includePrivateMethods) {\n            isNotPrivateMethod = true;\n        }\n        else {\n            isNotPrivateMethod = method.charAt(0) !== \"_\";\n        }\n        return (isNonConstructorFunction && isNotPrivateMethod && isNotAnIgnoredMethod);\n    });\n    methods.forEach(function (method) {\n        var original = target.prototype[method];\n        target.prototype[method] = wrapPromise(original);\n    });\n    return target;\n};\nmodule.exports = wrapPromise;\n\n},{\"./lib/deferred\":26,\"./lib/once\":27,\"./lib/promise-or-callback\":28}],30:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Framebus = void 0;\nvar is_not_string_1 = _dereq_(\"./lib/is-not-string\");\nvar subscription_args_invalid_1 = _dereq_(\"./lib/subscription-args-invalid\");\nvar broadcast_1 = _dereq_(\"./lib/broadcast\");\nvar package_payload_1 = _dereq_(\"./lib/package-payload\");\nvar send_message_1 = _dereq_(\"./lib/send-message\");\nvar constants_1 = _dereq_(\"./lib/constants\");\nvar DefaultPromise = (typeof window !== \"undefined\" &&\n    window.Promise);\nvar Framebus = /** @class */ (function () {\n    function Framebus(options) {\n        if (options === void 0) { options = {}; }\n        this.origin = options.origin || \"*\";\n        this.channel = options.channel || \"\";\n        this.verifyDomain = options.verifyDomain;\n        // if a targetFrames configuration is not passed in,\n        // the default behavior is to broadcast the payload\n        // to the top level window or to the frame itself.\n        // By default, the broadcast function will loop through\n        // all the known siblings and children of the window.\n        // If a targetFrames array is passed, it will instead\n        // only broadcast to those specified targetFrames\n        this.targetFrames = options.targetFrames || [];\n        this.limitBroadcastToFramesArray = Boolean(options.targetFrames);\n        this.isDestroyed = false;\n        this.listeners = [];\n        this.hasAdditionalChecksForOnListeners = Boolean(this.verifyDomain || this.limitBroadcastToFramesArray);\n    }\n    Framebus.setPromise = function (PromiseGlobal) {\n        Framebus.Promise = PromiseGlobal;\n    };\n    Framebus.target = function (options) {\n        return new Framebus(options);\n    };\n    Framebus.prototype.addTargetFrame = function (frame) {\n        if (!this.limitBroadcastToFramesArray) {\n            return;\n        }\n        this.targetFrames.push(frame);\n    };\n    Framebus.prototype.include = function (childWindow) {\n        if (childWindow == null) {\n            return false;\n        }\n        if (childWindow.Window == null) {\n            return false;\n        }\n        if (childWindow.constructor !== childWindow.Window) {\n            return false;\n        }\n        constants_1.childWindows.push(childWindow);\n        return true;\n    };\n    Framebus.prototype.target = function (options) {\n        return Framebus.target(options);\n    };\n    Framebus.prototype.emit = function (eventName, data, reply) {\n        if (this.isDestroyed) {\n            return false;\n        }\n        var origin = this.origin;\n        eventName = this.namespaceEvent(eventName);\n        if ((0, is_not_string_1.isntString)(eventName)) {\n            return false;\n        }\n        if ((0, is_not_string_1.isntString)(origin)) {\n            return false;\n        }\n        if (typeof data === \"function\") {\n            reply = data;\n            data = undefined; // eslint-disable-line no-undefined\n        }\n        var payload = (0, package_payload_1.packagePayload)(eventName, origin, data, reply);\n        if (!payload) {\n            return false;\n        }\n        if (this.limitBroadcastToFramesArray) {\n            this.targetFramesAsWindows().forEach(function (frame) {\n                (0, send_message_1.sendMessage)(frame, payload, origin);\n            });\n        }\n        else {\n            (0, broadcast_1.broadcast)(payload, {\n                origin: origin,\n                frame: window.top || window.self,\n            });\n        }\n        return true;\n    };\n    Framebus.prototype.emitAsPromise = function (eventName, data) {\n        var _this = this;\n        return new Framebus.Promise(function (resolve, reject) {\n            var didAttachListener = _this.emit(eventName, data, function (payload) {\n                resolve(payload);\n            });\n            if (!didAttachListener) {\n                reject(new Error(\"Listener not added for \\\"\".concat(eventName, \"\\\"\")));\n            }\n        });\n    };\n    Framebus.prototype.on = function (eventName, originalHandler) {\n        if (this.isDestroyed) {\n            return false;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        var origin = this.origin;\n        var handler = originalHandler;\n        eventName = this.namespaceEvent(eventName);\n        if ((0, subscription_args_invalid_1.subscriptionArgsInvalid)(eventName, handler, origin)) {\n            return false;\n        }\n        if (this.hasAdditionalChecksForOnListeners) {\n            /* eslint-disable no-invalid-this, @typescript-eslint/ban-ts-comment */\n            handler = function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                // @ts-ignore\n                if (!self.passesVerifyDomainCheck(this && this.origin)) {\n                    return;\n                }\n                // @ts-ignore\n                if (!self.hasMatchingTargetFrame(this && this.source)) {\n                    return;\n                }\n                originalHandler.apply(void 0, args);\n            };\n            /* eslint-enable no-invalid-this, @typescript-eslint/ban-ts-comment */\n        }\n        this.listeners.push({\n            eventName: eventName,\n            handler: handler,\n            originalHandler: originalHandler,\n        });\n        constants_1.subscribers[origin] = constants_1.subscribers[origin] || {};\n        constants_1.subscribers[origin][eventName] = constants_1.subscribers[origin][eventName] || [];\n        constants_1.subscribers[origin][eventName].push(handler);\n        return true;\n    };\n    Framebus.prototype.off = function (eventName, originalHandler) {\n        var handler = originalHandler;\n        if (this.isDestroyed) {\n            return false;\n        }\n        if (this.verifyDomain) {\n            for (var i = 0; i < this.listeners.length; i++) {\n                var listener = this.listeners[i];\n                if (listener.originalHandler === originalHandler) {\n                    handler = listener.handler;\n                }\n            }\n        }\n        eventName = this.namespaceEvent(eventName);\n        var origin = this.origin;\n        if ((0, subscription_args_invalid_1.subscriptionArgsInvalid)(eventName, handler, origin)) {\n            return false;\n        }\n        var subscriberList = constants_1.subscribers[origin] && constants_1.subscribers[origin][eventName];\n        if (!subscriberList) {\n            return false;\n        }\n        for (var i = 0; i < subscriberList.length; i++) {\n            if (subscriberList[i] === handler) {\n                subscriberList.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Framebus.prototype.teardown = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.isDestroyed = true;\n        for (var i = 0; i < this.listeners.length; i++) {\n            var listener = this.listeners[i];\n            this.off(listener.eventName, listener.handler);\n        }\n        this.listeners.length = 0;\n    };\n    Framebus.prototype.passesVerifyDomainCheck = function (origin) {\n        if (!this.verifyDomain) {\n            // always pass this check if no verifyDomain option was set\n            return true;\n        }\n        return this.checkOrigin(origin);\n    };\n    Framebus.prototype.targetFramesAsWindows = function () {\n        if (!this.limitBroadcastToFramesArray) {\n            return [];\n        }\n        return this.targetFrames\n            .map(function (frame) {\n            // we can't pull off the contentWindow\n            // when the iframe is originally added\n            // to the array, because if it is not\n            // in the DOM at that time, it will have\n            // a contentWindow of `null`\n            if (frame instanceof HTMLIFrameElement) {\n                return frame.contentWindow;\n            }\n            return frame;\n        })\n            .filter(function (win) {\n            // just in case an iframe element\n            // was removed from the DOM\n            // and the contentWindow property\n            // is null\n            return win;\n        });\n    };\n    Framebus.prototype.hasMatchingTargetFrame = function (source) {\n        if (!this.limitBroadcastToFramesArray) {\n            // always pass this check if we aren't limiting to the target frames\n            return true;\n        }\n        var matchingFrame = this.targetFramesAsWindows().find(function (frame) {\n            return frame === source;\n        });\n        return Boolean(matchingFrame);\n    };\n    Framebus.prototype.checkOrigin = function (postMessageOrigin) {\n        var merchantHost;\n        var a = document.createElement(\"a\");\n        a.href = location.href;\n        if (a.protocol === \"https:\") {\n            merchantHost = a.host.replace(/:443$/, \"\");\n        }\n        else if (a.protocol === \"http:\") {\n            merchantHost = a.host.replace(/:80$/, \"\");\n        }\n        else {\n            merchantHost = a.host;\n        }\n        var merchantOrigin = a.protocol + \"//\" + merchantHost;\n        if (merchantOrigin === postMessageOrigin) {\n            return true;\n        }\n        if (this.verifyDomain) {\n            return this.verifyDomain(postMessageOrigin);\n        }\n        return true;\n    };\n    Framebus.prototype.namespaceEvent = function (eventName) {\n        if (!this.channel) {\n            return eventName;\n        }\n        return \"\".concat(this.channel, \":\").concat(eventName);\n    };\n    Framebus.Promise = DefaultPromise;\n    return Framebus;\n}());\nexports.Framebus = Framebus;\n\n},{\"./lib/broadcast\":34,\"./lib/constants\":35,\"./lib/is-not-string\":38,\"./lib/package-payload\":40,\"./lib/send-message\":41,\"./lib/subscription-args-invalid\":43}],31:[function(_dereq_,module,exports){\n\"use strict\";\nvar attach_1 = _dereq_(\"./lib/attach\");\nvar framebus_1 = _dereq_(\"./framebus\");\n(0, attach_1.attach)();\nmodule.exports = framebus_1.Framebus;\n\n},{\"./framebus\":30,\"./lib/attach\":32}],32:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.detach = exports.attach = void 0;\nvar message_1 = _dereq_(\"./message\");\nvar isAttached = false;\nfunction attach() {\n    if (isAttached || typeof window === \"undefined\") {\n        return;\n    }\n    isAttached = true;\n    window.addEventListener(\"message\", message_1.onmessage, false);\n}\nexports.attach = attach;\n// removeIf(production)\nfunction detach() {\n    isAttached = false;\n    window.removeEventListener(\"message\", message_1.onmessage, false);\n}\nexports.detach = detach;\n// endRemoveIf(production)\n\n},{\"./message\":39}],33:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.broadcastToChildWindows = void 0;\nvar broadcast_1 = _dereq_(\"./broadcast\");\nvar constants_1 = _dereq_(\"./constants\");\nfunction broadcastToChildWindows(payload, origin, source) {\n    for (var i = constants_1.childWindows.length - 1; i >= 0; i--) {\n        var childWindow = constants_1.childWindows[i];\n        if (childWindow.closed) {\n            constants_1.childWindows.splice(i, 1);\n        }\n        else if (source !== childWindow) {\n            (0, broadcast_1.broadcast)(payload, {\n                origin: origin,\n                frame: childWindow.top,\n            });\n        }\n    }\n}\nexports.broadcastToChildWindows = broadcastToChildWindows;\n\n},{\"./broadcast\":34,\"./constants\":35}],34:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.broadcast = void 0;\nvar has_opener_1 = _dereq_(\"./has-opener\");\nfunction broadcast(payload, options) {\n    var i = 0;\n    var frameToBroadcastTo;\n    var origin = options.origin, frame = options.frame;\n    try {\n        frame.postMessage(payload, origin);\n        if ((0, has_opener_1.hasOpener)(frame) && frame.opener.top !== window.top) {\n            broadcast(payload, {\n                origin: origin,\n                frame: frame.opener.top,\n            });\n        }\n        // previously, our max value was frame.frames.length\n        // but frames.length inherits from window.length\n        // which can be overwritten if a developer does\n        // `var length = value;` outside of a function\n        // scope, it'll prevent us from looping through\n        // all the frames. With this, we loop through\n        // until there are no longer any frames\n        // eslint-disable-next-line no-cond-assign\n        while ((frameToBroadcastTo = frame.frames[i])) {\n            broadcast(payload, {\n                origin: origin,\n                frame: frameToBroadcastTo,\n            });\n            i++;\n        }\n    }\n    catch (_) {\n        /* ignored */\n    }\n}\nexports.broadcast = broadcast;\n\n},{\"./has-opener\":37}],35:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subscribers = exports.childWindows = exports.prefix = void 0;\nexports.prefix = \"/*framebus*/\";\nexports.childWindows = [];\nexports.subscribers = {};\n\n},{}],36:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dispatch = void 0;\nvar constants_1 = _dereq_(\"./constants\");\nfunction dispatch(origin, event, data, reply, e) {\n    if (!constants_1.subscribers[origin]) {\n        return;\n    }\n    if (!constants_1.subscribers[origin][event]) {\n        return;\n    }\n    var args = [];\n    if (data) {\n        args.push(data);\n    }\n    if (reply) {\n        args.push(reply);\n    }\n    for (var i = 0; i < constants_1.subscribers[origin][event].length; i++) {\n        constants_1.subscribers[origin][event][i].apply(e, args);\n    }\n}\nexports.dispatch = dispatch;\n\n},{\"./constants\":35}],37:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasOpener = void 0;\nfunction hasOpener(frame) {\n    if (frame.top !== frame) {\n        return false;\n    }\n    if (frame.opener == null) {\n        return false;\n    }\n    if (frame.opener === frame) {\n        return false;\n    }\n    if (frame.opener.closed === true) {\n        return false;\n    }\n    return true;\n}\nexports.hasOpener = hasOpener;\n\n},{}],38:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isntString = void 0;\nfunction isntString(str) {\n    return typeof str !== \"string\";\n}\nexports.isntString = isntString;\n\n},{}],39:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.onmessage = void 0;\nvar is_not_string_1 = _dereq_(\"./is-not-string\");\nvar unpack_payload_1 = _dereq_(\"./unpack-payload\");\nvar dispatch_1 = _dereq_(\"./dispatch\");\nvar broadcast_to_child_windows_1 = _dereq_(\"./broadcast-to-child-windows\");\nfunction onmessage(e) {\n    if ((0, is_not_string_1.isntString)(e.data)) {\n        return;\n    }\n    var payload = (0, unpack_payload_1.unpackPayload)(e);\n    if (!payload) {\n        return;\n    }\n    var data = payload.eventData;\n    var reply = payload.reply;\n    (0, dispatch_1.dispatch)(\"*\", payload.event, data, reply, e);\n    (0, dispatch_1.dispatch)(e.origin, payload.event, data, reply, e);\n    (0, broadcast_to_child_windows_1.broadcastToChildWindows)(e.data, payload.origin, e.source);\n}\nexports.onmessage = onmessage;\n\n},{\"./broadcast-to-child-windows\":33,\"./dispatch\":36,\"./is-not-string\":38,\"./unpack-payload\":44}],40:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.packagePayload = void 0;\nvar subscribe_replier_1 = _dereq_(\"./subscribe-replier\");\nvar constants_1 = _dereq_(\"./constants\");\nfunction packagePayload(event, origin, data, reply) {\n    var packaged;\n    var payload = {\n        event: event,\n        origin: origin,\n    };\n    if (typeof reply === \"function\") {\n        payload.reply = (0, subscribe_replier_1.subscribeReplier)(reply, origin);\n    }\n    payload.eventData = data;\n    try {\n        packaged = constants_1.prefix + JSON.stringify(payload);\n    }\n    catch (e) {\n        throw new Error(\"Could not stringify event: \".concat(e.message));\n    }\n    return packaged;\n}\nexports.packagePayload = packagePayload;\n\n},{\"./constants\":35,\"./subscribe-replier\":42}],41:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sendMessage = void 0;\n/**\n * A basic function for wrapping the sending of postMessages to frames.\n */\nfunction sendMessage(frame, payload, origin) {\n    try {\n        frame.postMessage(payload, origin);\n    }\n    catch (error) {\n        /* ignored */\n    }\n}\nexports.sendMessage = sendMessage;\n\n},{}],42:[function(_dereq_,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subscribeReplier = void 0;\nvar framebus_1 = _dereq_(\"../framebus\");\nvar uuid_1 = __importDefault(_dereq_(\"@braintree/uuid\"));\nfunction subscribeReplier(fn, origin) {\n    var uuid = (0, uuid_1.default)();\n    function replier(data, replyOriginHandler) {\n        fn(data, replyOriginHandler);\n        framebus_1.Framebus.target({\n            origin: origin,\n        }).off(uuid, replier);\n    }\n    framebus_1.Framebus.target({\n        origin: origin,\n    }).on(uuid, replier);\n    return uuid;\n}\nexports.subscribeReplier = subscribeReplier;\n\n},{\"../framebus\":30,\"@braintree/uuid\":25}],43:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subscriptionArgsInvalid = void 0;\nvar is_not_string_1 = _dereq_(\"./is-not-string\");\nfunction subscriptionArgsInvalid(event, fn, origin) {\n    if ((0, is_not_string_1.isntString)(event)) {\n        return true;\n    }\n    if (typeof fn !== \"function\") {\n        return true;\n    }\n    return (0, is_not_string_1.isntString)(origin);\n}\nexports.subscriptionArgsInvalid = subscriptionArgsInvalid;\n\n},{\"./is-not-string\":38}],44:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unpackPayload = void 0;\nvar constants_1 = _dereq_(\"./constants\");\nvar package_payload_1 = _dereq_(\"./package-payload\");\nfunction unpackPayload(e) {\n    var payload;\n    if (e.data.slice(0, constants_1.prefix.length) !== constants_1.prefix) {\n        return false;\n    }\n    try {\n        payload = JSON.parse(e.data.slice(constants_1.prefix.length));\n    }\n    catch (err) {\n        return false;\n    }\n    if (payload.reply) {\n        var replyOrigin_1 = e.origin;\n        var replySource_1 = e.source;\n        var replyEvent_1 = payload.reply;\n        payload.reply = function reply(replyData) {\n            if (!replySource_1) {\n                return;\n            }\n            var replyPayload = (0, package_payload_1.packagePayload)(replyEvent_1, replyOrigin_1, replyData);\n            if (!replyPayload) {\n                return;\n            }\n            replySource_1.postMessage(replyPayload, replyOrigin_1);\n        };\n    }\n    return payload;\n}\nexports.unpackPayload = unpackPayload;\n\n},{\"./constants\":35,\"./package-payload\":40}],45:[function(_dereq_,module,exports){\n'use strict';\n\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nfunction allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nmodule.exports = Promise;\n\n},{}],46:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar createAuthorizationData = _dereq_(\"./create-authorization-data\");\nvar jsonClone = _dereq_(\"./json-clone\");\nvar constants = _dereq_(\"./constants\");\n\nfunction addMetadata(configuration, data) {\n  var key;\n  var attrs = data ? jsonClone(data) : {};\n  var authAttrs = createAuthorizationData(configuration.authorization).attrs;\n  var _meta = jsonClone(configuration.analyticsMetadata);\n\n  attrs.braintreeLibraryVersion = constants.BRAINTREE_LIBRARY_VERSION;\n\n  for (key in attrs._meta) {\n    if (attrs._meta.hasOwnProperty(key)) {\n      _meta[key] = attrs._meta[key];\n    }\n  }\n\n  attrs._meta = _meta;\n\n  if (authAttrs.tokenizationKey) {\n    attrs.tokenizationKey = authAttrs.tokenizationKey;\n  } else {\n    attrs.authorizationFingerprint = authAttrs.authorizationFingerprint;\n  }\n\n  return attrs;\n}\n\nmodule.exports = addMetadata;\n\n},{\"./constants\":52,\"./create-authorization-data\":56,\"./json-clone\":71}],47:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar constants = _dereq_(\"./constants\");\nvar addMetadata = _dereq_(\"./add-metadata\");\n\nfunction sendAnalyticsEvent(clientInstanceOrPromise, kind, callback) {\n  var timestamp = Date.now(); // milliseconds\n\n  return Promise.resolve(clientInstanceOrPromise)\n    .then(function (client) {\n      var timestampInPromise = Date.now();\n      var configuration = client.getConfiguration();\n      var request = client._request;\n      var url = configuration.gatewayConfiguration.analytics.url;\n      var data = {\n        analytics: [\n          {\n            kind: constants.ANALYTICS_PREFIX + kind,\n            isAsync:\n              Math.floor(timestampInPromise / 1000) !==\n              Math.floor(timestamp / 1000),\n            timestamp: timestamp,\n          },\n        ],\n      };\n\n      request(\n        {\n          url: url,\n          method: \"post\",\n          data: addMetadata(configuration, data),\n          timeout: constants.ANALYTICS_REQUEST_TIMEOUT_MS,\n        },\n        callback\n      );\n    })\n    .catch(function (err) {\n      // for all non-test cases, we don't provide a callback,\n      // so this error will always be swallowed. In this case,\n      // that's fine, it should only error when the deferred\n      // client fails to set up, in which case we don't want\n      // that error to report over and over again via these\n      // deferred analytics events\n      if (callback) {\n        callback(err);\n      }\n    });\n}\n\nmodule.exports = {\n  sendEvent: sendAnalyticsEvent,\n};\n\n},{\"./add-metadata\":46,\"./constants\":52}],48:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar loadScript = _dereq_(\"@braintree/asset-loader/load-script\");\n\nmodule.exports = {\n  loadScript: loadScript,\n};\n\n},{\"@braintree/asset-loader/load-script\":3}],49:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar assignNormalized =\n  typeof Object.assign === \"function\" ? Object.assign : assignPolyfill;\n\nfunction assignPolyfill(destination) {\n  var i, source, key;\n\n  for (i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      if (source.hasOwnProperty(key)) {\n        destination[key] = source[key];\n      }\n    }\n  }\n\n  return destination;\n}\n\nmodule.exports = {\n  assign: assignNormalized,\n  _assign: assignPolyfill,\n};\n\n},{}],50:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\nvar sharedErrors = _dereq_(\"./errors\");\nvar VERSION = \"3.94.0\";\n\nfunction basicComponentVerification(options) {\n  var client, authorization, name;\n\n  if (!options) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.type,\n        code: sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.code,\n        message:\n          \"Options must be passed to basicComponentVerification function.\",\n      })\n    );\n  }\n\n  name = options.name;\n  client = options.client;\n  authorization = options.authorization;\n\n  if (!client && !authorization) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,\n        code: sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,\n        // NEXT_MAJOR_VERSION in major version, we expose passing in authorization for all components\n        // instead of passing in a client instance. Leave this a silent feature for now.\n        message: \"options.client is required when instantiating \" + name + \".\",\n      })\n    );\n  }\n\n  if (!authorization && client.getVersion() !== VERSION) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INCOMPATIBLE_VERSIONS.type,\n        code: sharedErrors.INCOMPATIBLE_VERSIONS.code,\n        message:\n          \"Client (version \" +\n          client.getVersion() +\n          \") and \" +\n          name +\n          \" (version \" +\n          VERSION +\n          \") components must be from the same SDK version.\",\n      })\n    );\n  }\n\n  return Promise.resolve();\n}\n\nmodule.exports = {\n  verify: basicComponentVerification,\n};\n\n},{\"./braintree-error\":51,\"./errors\":59}],51:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar enumerate = _dereq_(\"./enumerate\");\n\n/**\n * @class\n * @global\n * @param {object} options Construction options\n * @classdesc This class is used to report error conditions, frequently as the first parameter to callbacks throughout the Braintree SDK.\n * @description <strong>You cannot use this constructor directly. Interact with instances of this class through {@link callback callbacks}.</strong>\n */\nfunction BraintreeError(options) {\n  if (!BraintreeError.types.hasOwnProperty(options.type)) {\n    throw new Error(options.type + \" is not a valid type.\");\n  }\n\n  if (!options.code) {\n    throw new Error(\"Error code required.\");\n  }\n\n  if (!options.message) {\n    throw new Error(\"Error message required.\");\n  }\n\n  this.name = \"BraintreeError\";\n\n  /**\n   * @type {string}\n   * @description A code that corresponds to specific errors.\n   */\n  this.code = options.code;\n\n  /**\n   * @type {string}\n   * @description A short description of the error.\n   */\n  this.message = options.message;\n\n  /**\n   * @type {BraintreeError.types}\n   * @description The type of error.\n   */\n  this.type = options.type;\n\n  /**\n   * @type {object=}\n   * @description Additional information about the error, such as an underlying network error response.\n   */\n  this.details = options.details;\n}\n\nBraintreeError.prototype = Object.create(Error.prototype);\nBraintreeError.prototype.constructor = BraintreeError;\n\n/**\n * Enum for {@link BraintreeError} types.\n * @name BraintreeError.types\n * @enum\n * @readonly\n * @memberof BraintreeError\n * @property {string} CUSTOMER An error caused by the customer.\n * @property {string} MERCHANT An error that is actionable by the merchant.\n * @property {string} NETWORK An error due to a network problem.\n * @property {string} INTERNAL An error caused by Braintree code.\n * @property {string} UNKNOWN An error where the origin is unknown.\n */\nBraintreeError.types = enumerate([\n  \"CUSTOMER\",\n  \"MERCHANT\",\n  \"NETWORK\",\n  \"INTERNAL\",\n  \"UNKNOWN\",\n]);\n\nBraintreeError.findRootError = function (err) {\n  if (\n    err instanceof BraintreeError &&\n    err.details &&\n    err.details.originalError\n  ) {\n    return BraintreeError.findRootError(err.details.originalError);\n  }\n\n  return err;\n};\n\nmodule.exports = BraintreeError;\n\n},{\"./enumerate\":58}],52:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar VERSION = \"3.94.0\";\nvar PLATFORM = \"web\";\n\nvar CLIENT_API_URLS = {\n  production: \"https://api.braintreegateway.com:443\",\n  sandbox: \"https://api.sandbox.braintreegateway.com:443\",\n};\n\nvar ASSETS_URLS = {\n  production: \"https://assets.braintreegateway.com\",\n  sandbox: \"https://assets.braintreegateway.com\",\n};\n\nvar GRAPHQL_URLS = {\n  production: \"https://payments.braintree-api.com/graphql\",\n  sandbox: \"https://payments.sandbox.braintree-api.com/graphql\",\n};\n\n// endRemoveIf(production)\n\nmodule.exports = {\n  ANALYTICS_PREFIX: PLATFORM + \".\",\n  ANALYTICS_REQUEST_TIMEOUT_MS: 2000,\n  ASSETS_URLS: ASSETS_URLS,\n  CLIENT_API_URLS: CLIENT_API_URLS,\n  FRAUDNET_SOURCE: \"BRAINTREE_SIGNIN\",\n  FRAUDNET_FNCLS: \"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99\",\n  FRAUDNET_URL: \"https://c.paypal.com/da/r/fb.js\",\n  BUS_CONFIGURATION_REQUEST_EVENT: \"BUS_CONFIGURATION_REQUEST\",\n  GRAPHQL_URLS: GRAPHQL_URLS,\n  INTEGRATION_TIMEOUT_MS: 60000,\n  VERSION: VERSION,\n  INTEGRATION: \"custom\",\n  SOURCE: \"client\",\n  PLATFORM: PLATFORM,\n  BRAINTREE_LIBRARY_VERSION: \"braintree/\" + PLATFORM + \"/\" + VERSION,\n};\n\n},{}],53:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\nvar sharedErrors = _dereq_(\"./errors\");\n\nmodule.exports = function (instance, methodNames) {\n  methodNames.forEach(function (methodName) {\n    instance[methodName] = function () {\n      throw new BraintreeError({\n        type: sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.type,\n        code: sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.code,\n        message: methodName + \" cannot be called after teardown.\",\n      });\n    };\n  });\n};\n\n},{\"./braintree-error\":51,\"./errors\":59}],54:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\n\nfunction convertToBraintreeError(originalErr, btErrorObject) {\n  if (originalErr instanceof BraintreeError) {\n    return originalErr;\n  }\n\n  return new BraintreeError({\n    type: btErrorObject.type,\n    code: btErrorObject.code,\n    message: btErrorObject.message,\n    details: {\n      originalError: originalErr,\n    },\n  });\n}\n\nmodule.exports = convertToBraintreeError;\n\n},{\"./braintree-error\":51}],55:[function(_dereq_,module,exports){\n\"use strict\";\n\n// endRemoveIf(production)\nvar ASSETS_URLS = _dereq_(\"./constants\").ASSETS_URLS;\n\nfunction createAssetsUrl(authorization) {\n  // endRemoveIf(production)\n\n  return ASSETS_URLS.production;\n}\n/* eslint-enable */\n\nmodule.exports = {\n  create: createAssetsUrl,\n};\n\n},{\"./constants\":52}],56:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar atob = _dereq_(\"../lib/vendor/polyfill\").atob;\nvar CLIENT_API_URLS = _dereq_(\"../lib/constants\").CLIENT_API_URLS;\n\nfunction _isTokenizationKey(str) {\n  return /^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(str);\n}\n\nfunction _parseTokenizationKey(tokenizationKey) {\n  var tokens = tokenizationKey.split(\"_\");\n  var environment = tokens[0];\n  var merchantId = tokens.slice(2).join(\"_\");\n\n  return {\n    merchantId: merchantId,\n    environment: environment,\n  };\n}\n\nfunction createAuthorizationData(authorization) {\n  var parsedClientToken, parsedTokenizationKey;\n  var data = {\n    attrs: {},\n    configUrl: \"\",\n  };\n\n  if (_isTokenizationKey(authorization)) {\n    parsedTokenizationKey = _parseTokenizationKey(authorization);\n    data.environment = parsedTokenizationKey.environment;\n    data.attrs.tokenizationKey = authorization;\n    data.configUrl =\n      CLIENT_API_URLS[parsedTokenizationKey.environment] +\n      \"/merchants/\" +\n      parsedTokenizationKey.merchantId +\n      \"/client_api/v1/configuration\";\n  } else {\n    parsedClientToken = JSON.parse(atob(authorization));\n    data.environment = parsedClientToken.environment;\n    data.attrs.authorizationFingerprint =\n      parsedClientToken.authorizationFingerprint;\n    data.configUrl = parsedClientToken.configUrl;\n    data.graphQL = parsedClientToken.graphQL;\n  }\n\n  return data;\n}\n\nmodule.exports = createAuthorizationData;\n\n},{\"../lib/constants\":52,\"../lib/vendor/polyfill\":75}],57:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\nvar assets = _dereq_(\"./assets\");\nvar sharedErrors = _dereq_(\"./errors\");\n\nvar VERSION = \"3.94.0\";\n\nfunction createDeferredClient(options) {\n  var promise = Promise.resolve();\n\n  if (options.client) {\n    return Promise.resolve(options.client);\n  }\n\n  if (!(window.braintree && window.braintree.client)) {\n    promise = assets\n      .loadScript({\n        src: options.assetsUrl + \"/web/\" + VERSION + \"/js/client.min.js\",\n      })\n      .catch(function (err) {\n        return Promise.reject(\n          new BraintreeError({\n            type: sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.type,\n            code: sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.code,\n            message: sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      });\n  }\n\n  return promise.then(function () {\n    if (window.braintree.client.VERSION !== VERSION) {\n      return Promise.reject(\n        new BraintreeError({\n          type: sharedErrors.INCOMPATIBLE_VERSIONS.type,\n          code: sharedErrors.INCOMPATIBLE_VERSIONS.code,\n          message:\n            \"Client (version \" +\n            window.braintree.client.VERSION +\n            \") and \" +\n            options.name +\n            \" (version \" +\n            VERSION +\n            \") components must be from the same SDK version.\",\n        })\n      );\n    }\n\n    return window.braintree.client.create({\n      authorization: options.authorization,\n      debug: options.debug,\n    });\n  });\n}\n\nmodule.exports = {\n  create: createDeferredClient,\n};\n\n},{\"./assets\":48,\"./braintree-error\":51,\"./errors\":59}],58:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction enumerate(values, prefix) {\n  prefix = prefix == null ? \"\" : prefix;\n\n  return values.reduce(function (enumeration, value) {\n    enumeration[value] = prefix + value;\n\n    return enumeration;\n  }, {});\n}\n\nmodule.exports = enumerate;\n\n},{}],59:[function(_dereq_,module,exports){\n\"use strict\";\n\n/**\n * @name BraintreeError.Shared Internal Error Codes\n * @ignore\n * @description These codes should never be experienced by the merchant directly.\n * @property {INTERNAL} INVALID_USE_OF_INTERNAL_FUNCTION Occurs when the client is created without a gateway configuration. Should never happen.\n */\n\n/**\n * @name BraintreeError.Shared Errors - Component Creation Error Codes\n * @description Errors that occur when creating components.\n * @property {MERCHANT} INSTANTIATION_OPTION_REQUIRED Occurs when a component is created that is missing a required option.\n * @property {MERCHANT} INCOMPATIBLE_VERSIONS Occurs when a component is created with a client with a different version than the component.\n * @property {NETWORK} CLIENT_SCRIPT_FAILED_TO_LOAD Occurs when a component attempts to load the Braintree client script, but the request fails.\n */\n\n/**\n * @name BraintreeError.Shared Errors - Component Instance Error Codes\n * @description Errors that occur when using instances of components.\n * @property {MERCHANT} METHOD_CALLED_AFTER_TEARDOWN Occurs when a method is called on a component instance after it has been torn down.\n */\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\n\nmodule.exports = {\n  INVALID_USE_OF_INTERNAL_FUNCTION: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"INVALID_USE_OF_INTERNAL_FUNCTION\",\n  },\n  INSTANTIATION_OPTION_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"INSTANTIATION_OPTION_REQUIRED\",\n  },\n  INCOMPATIBLE_VERSIONS: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"INCOMPATIBLE_VERSIONS\",\n  },\n  CLIENT_SCRIPT_FAILED_TO_LOAD: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_SCRIPT_FAILED_TO_LOAD\",\n    message: \"Braintree client script could not be loaded.\",\n  },\n  METHOD_CALLED_AFTER_TEARDOWN: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"METHOD_CALLED_AFTER_TEARDOWN\",\n  },\n};\n\n},{\"./braintree-error\":51}],60:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar Popup = _dereq_(\"./strategies/popup\");\nvar PopupBridge = _dereq_(\"./strategies/popup-bridge\");\nvar Modal = _dereq_(\"./strategies/modal\");\nvar Bus = _dereq_(\"framebus\");\nvar events = _dereq_(\"../shared/events\");\nvar errors = _dereq_(\"../shared/errors\");\nvar constants = _dereq_(\"../shared/constants\");\nvar uuid = _dereq_(\"@braintree/uuid\");\nvar iFramer = _dereq_(\"@braintree/iframer\");\nvar BraintreeError = _dereq_(\"../../braintree-error\");\nvar browserDetection = _dereq_(\"../shared/browser-detection\");\nvar assign = _dereq_(\"./../../assign\").assign;\nvar BUS_CONFIGURATION_REQUEST_EVENT =\n  _dereq_(\"../../constants\").BUS_CONFIGURATION_REQUEST_EVENT;\n\nvar REQUIRED_CONFIG_KEYS = [\"name\", \"dispatchFrameUrl\", \"openFrameUrl\"];\n\nfunction noop() {}\n\nfunction _validateFrameConfiguration(options) {\n  if (!options) {\n    throw new Error(\"Valid configuration is required\");\n  }\n\n  REQUIRED_CONFIG_KEYS.forEach(function (key) {\n    if (!options.hasOwnProperty(key)) {\n      throw new Error(\"A valid frame \" + key + \" must be provided\");\n    }\n  });\n\n  if (!/^[\\w_]+$/.test(options.name)) {\n    throw new Error(\"A valid frame name must be provided\");\n  }\n}\n\nfunction FrameService(options) {\n  _validateFrameConfiguration(options);\n\n  this._serviceId = uuid().replace(/-/g, \"\");\n\n  this._options = {\n    name: options.name + \"_\" + this._serviceId,\n    dispatchFrameUrl: options.dispatchFrameUrl,\n    openFrameUrl: options.openFrameUrl,\n    height: options.height,\n    width: options.width,\n    top: options.top,\n    left: options.left,\n  };\n  this.state = options.state || {};\n\n  this._bus = new Bus({ channel: this._serviceId });\n  this._setBusEvents();\n}\n\nFrameService.prototype.initialize = function (callback) {\n  var dispatchFrameReadyHandler = function () {\n    callback();\n    this._bus.off(events.DISPATCH_FRAME_READY, dispatchFrameReadyHandler);\n  }.bind(this);\n\n  this._bus.on(events.DISPATCH_FRAME_READY, dispatchFrameReadyHandler);\n  this._writeDispatchFrame();\n};\n\nFrameService.prototype._writeDispatchFrame = function () {\n  var frameName = constants.DISPATCH_FRAME_NAME + \"_\" + this._serviceId;\n  var frameSrc = this._options.dispatchFrameUrl;\n\n  this._dispatchFrame = iFramer({\n    \"aria-hidden\": true,\n    name: frameName,\n    title: frameName,\n    src: frameSrc,\n    class: constants.DISPATCH_FRAME_CLASS,\n    height: 0,\n    width: 0,\n    style: {\n      position: \"absolute\",\n      left: \"-9999px\",\n    },\n  });\n\n  document.body.appendChild(this._dispatchFrame);\n};\n\nFrameService.prototype._setBusEvents = function () {\n  this._bus.on(\n    events.DISPATCH_FRAME_REPORT,\n    function (res, reply) {\n      if (this._onCompleteCallback) {\n        this._onCompleteCallback.call(null, res.err, res.payload);\n      }\n      this._frame.close();\n\n      this._onCompleteCallback = null;\n\n      if (reply) {\n        reply();\n      }\n    }.bind(this)\n  );\n\n  this._bus.on(\n    BUS_CONFIGURATION_REQUEST_EVENT,\n    function (reply) {\n      reply(this.state);\n    }.bind(this)\n  );\n};\n\nFrameService.prototype.open = function (options, callback) {\n  options = options || {};\n  this._frame = this._getFrameForEnvironment(options);\n\n  this._frame.initialize(callback);\n\n  if (this._frame instanceof PopupBridge) {\n    // Frameservice loads a spinner then redirects to the final destination url.\n    // For Popupbridge it doesn't have the same rules around popups since it's deferred to the mobile side\n    // therefore, skips the regular open path and instead uses `#redirect` to handle things\n    return;\n  }\n\n  assign(this.state, options.state);\n\n  this._onCompleteCallback = callback;\n  this._frame.open();\n\n  if (this.isFrameClosed()) {\n    this._cleanupFrame();\n\n    if (callback) {\n      callback(new BraintreeError(errors.FRAME_SERVICE_FRAME_OPEN_FAILED));\n    }\n\n    return;\n  }\n  this._pollForPopupClose();\n};\n\nFrameService.prototype.redirect = function (url) {\n  if (this._frame && !this.isFrameClosed()) {\n    this._frame.redirect(url);\n  }\n};\n\nFrameService.prototype.close = function () {\n  if (!this.isFrameClosed()) {\n    this._frame.close();\n  }\n};\n\nFrameService.prototype.focus = function () {\n  if (!this.isFrameClosed()) {\n    this._frame.focus();\n  }\n};\n\nFrameService.prototype.createHandler = function (options) {\n  options = options || {};\n\n  return {\n    close: function () {\n      if (options.beforeClose) {\n        options.beforeClose();\n      }\n\n      this.close();\n    }.bind(this),\n    focus: function () {\n      if (options.beforeFocus) {\n        options.beforeFocus();\n      }\n\n      this.focus();\n    }.bind(this),\n  };\n};\n\nFrameService.prototype.createNoopHandler = function () {\n  return {\n    close: noop,\n    focus: noop,\n  };\n};\n\nFrameService.prototype.teardown = function () {\n  this.close();\n  this._dispatchFrame.parentNode.removeChild(this._dispatchFrame);\n  this._dispatchFrame = null;\n  this._cleanupFrame();\n};\n\nFrameService.prototype.isFrameClosed = function () {\n  return this._frame == null || this._frame.isClosed();\n};\n\nFrameService.prototype._cleanupFrame = function () {\n  this._frame = null;\n  clearInterval(this._popupInterval);\n  this._popupInterval = null;\n};\n\nFrameService.prototype._pollForPopupClose = function () {\n  this._popupInterval = setInterval(\n    function () {\n      if (this.isFrameClosed()) {\n        this._cleanupFrame();\n        if (this._onCompleteCallback) {\n          this._onCompleteCallback(\n            new BraintreeError(errors.FRAME_SERVICE_FRAME_CLOSED)\n          );\n        }\n      }\n    }.bind(this),\n    constants.POPUP_POLL_INTERVAL\n  );\n\n  return this._popupInterval;\n};\n\nFrameService.prototype._getFrameForEnvironment = function (options) {\n  var usePopup = browserDetection.supportsPopups();\n  var popupBridgeExists = Boolean(window.popupBridge);\n\n  var initOptions = assign({}, this._options, options);\n\n  if (popupBridgeExists) {\n    return new PopupBridge(initOptions);\n  } else if (usePopup) {\n    return new Popup(initOptions);\n  }\n\n  return new Modal(initOptions);\n};\n\nmodule.exports = FrameService;\n\n},{\"../../braintree-error\":51,\"../../constants\":52,\"../shared/browser-detection\":67,\"../shared/constants\":68,\"../shared/errors\":69,\"../shared/events\":70,\"./../../assign\":49,\"./strategies/modal\":62,\"./strategies/popup\":65,\"./strategies/popup-bridge\":63,\"@braintree/iframer\":21,\"@braintree/uuid\":25,\"framebus\":31}],61:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar FrameService = _dereq_(\"./frame-service\");\n\n/**\n * @ignore\n * @function create\n * Initializing FrameService should be done at the point when the component is created, so it is ready whenever a component needs to open a popup window.\n * Browsers have varying rules around what constitutes and async action worth blocking a popup for, but the likes of Safari\n * will block the popup if `frameService#create` is invoked during any asynchronous process (such as an API request to tokenize payment details).\n *\n * The process of setting up the dispatch frame and subsequent framebus communications via event listeners are considered async by Safari's standards.\n *\n * @param {object} options The options provided to frameservice\n * @param {string} options.name The name to use for identifying the various pieces associated with frameservice.\n * @param {string} options.dispatchFrameUrl The static asset to load for use as the dispatch frame. This allows for secure communication between the iframe and the popup, since they are on the same asset domain (usually checkout.paypal.com or assets.braintreegateway.com)\n * @param {string} options.openFrameUrl The url to load in the popup. Sometimes it is the case that you'll need info that comes _after_ the popup loads in which case we load the `landing-frame` that's a loading spinner then redirect to the proper/final destination. See the PayPal component for an example.\n * Otherwise if all the info needed is ready up-front, then you can forego a landing frame and go straight to the final destination.\n * @param {string} [options.height] The desired popup height.\n * @param {string} [options.width] The desired popup width.\n * @param {string} [options.top] The desired top value of the popup for positioning.\n * @param {string} [options.left] The desired left value of the popup for positioning.\n * @param {object} [options.state] Seems to be dead code, but allows for injecting data in to popup. NEXT_MAJOR_VERSION remove this param if no usage exists.\n * @param {function} callback The function to invoke once the frameservice is created and ready to use. FrameService instance is returned.\n */\nmodule.exports = {\n  create: function createFrameService(options, callback) {\n    var frameService = new FrameService(options);\n\n    frameService.initialize(function () {\n      callback(frameService);\n    });\n  },\n};\n\n},{\"./frame-service\":60}],62:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar iFramer = _dereq_(\"@braintree/iframer\");\nvar assign = _dereq_(\"../../../assign\").assign;\nvar browserDetection = _dereq_(\"../../shared/browser-detection\");\n\nvar ELEMENT_STYLES = {\n  position: \"fixed\",\n  top: 0,\n  left: 0,\n  bottom: 0,\n  padding: 0,\n  margin: 0,\n  border: 0,\n  outline: \"none\",\n  zIndex: 20001,\n  background: \"#FFFFFF\",\n};\n\nfunction noop() {}\n\n/**\n *\n * We should not ever really use the Modal. Modals are _like_  popups, but the key difference is that the customer can't actually verify it's app domain and thus secure/valid. Old PP sdk (./src/paypal) uses this\n * to get info from webviews (e.g. facebook).\n */\n\nfunction Modal(options) {\n  this._closed = null;\n  this._frame = null;\n  this._options = options || {};\n  this._container = this._options.container || document.body;\n}\n\nModal.prototype.initialize = noop;\n\nModal.prototype.open = function () {\n  var iframerConfig = {\n    src: this._options.openFrameUrl,\n    name: this._options.name,\n    scrolling: \"yes\",\n    height: \"100%\",\n    width: \"100%\",\n    style: assign({}, ELEMENT_STYLES),\n    title: \"Lightbox Frame\",\n  };\n\n  if (browserDetection.isIos()) {\n    // WKWebView has buggy behavior when scrolling a fixed position modal. The workaround is to lock scrolling in\n    // the background. When modal is closed, we restore scrolling and return to the previous scroll position.\n    if (browserDetection.isIosWKWebview()) {\n      this._lockScrolling();\n      // Allows WKWebView to scroll all the way down to bottom\n      iframerConfig.style = {};\n    }\n\n    this._el = document.createElement(\"div\");\n\n    assign(this._el.style, ELEMENT_STYLES, {\n      height: \"100%\",\n      width: \"100%\",\n      overflow: \"auto\",\n      \"-webkit-overflow-scrolling\": \"touch\",\n    });\n\n    this._frame = iFramer(iframerConfig);\n    this._el.appendChild(this._frame);\n  } else {\n    this._el = this._frame = iFramer(iframerConfig);\n  }\n  this._closed = false;\n\n  this._container.appendChild(this._el);\n};\n\nModal.prototype.focus = noop;\n\nModal.prototype.close = function () {\n  this._container.removeChild(this._el);\n  this._frame = null;\n  this._closed = true;\n  if (browserDetection.isIosWKWebview()) {\n    this._unlockScrolling();\n  }\n};\n\nModal.prototype.isClosed = function () {\n  return Boolean(this._closed);\n};\n\nModal.prototype.redirect = function (redirectUrl) {\n  this._frame.src = redirectUrl;\n};\n\nModal.prototype._unlockScrolling = function () {\n  document.body.style.overflow = this._savedBodyProperties.overflowStyle;\n  document.body.style.position = this._savedBodyProperties.positionStyle;\n  window.scrollTo(\n    this._savedBodyProperties.left,\n    this._savedBodyProperties.top\n  );\n  delete this._savedBodyProperties;\n};\n\nModal.prototype._lockScrolling = function () {\n  var doc = document.documentElement;\n\n  // From https://stackoverflow.com/questions/9538868/prevent-body-from-scrolling-when-a-modal-is-opened#comment65626743_24727206\n  this._savedBodyProperties = {\n    left: (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\n    top: (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0),\n    overflowStyle: document.body.style.overflow,\n    positionStyle: document.body.style.position,\n  };\n  document.body.style.overflow = \"hidden\";\n  document.body.style.position = \"fixed\";\n  window.scrollTo(0, 0);\n};\n\nmodule.exports = Modal;\n\n},{\"../../../assign\":49,\"../../shared/browser-detection\":67,\"@braintree/iframer\":21}],63:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"../../../braintree-error\");\nvar errors = _dereq_(\"../../shared/errors\");\n\nfunction noop() {}\n\nfunction PopupBridge(options) {\n  this._closed = null;\n  this._options = options;\n}\n\nPopupBridge.prototype.initialize = function (callback) {\n  var self = this;\n\n  window.popupBridge.onComplete = function (err, payload) {\n    var popupDismissed = !payload && !err;\n\n    self._closed = true;\n\n    if (err || popupDismissed) {\n      // User clicked \"Done\" button of browser view\n      callback(new BraintreeError(errors.FRAME_SERVICE_FRAME_CLOSED));\n\n      return;\n    }\n    // User completed popup flow (includes success and cancel cases)\n    callback(null, payload);\n  };\n};\n\nPopupBridge.prototype.open = function (options) {\n  var url;\n\n  options = options || {};\n  url = options.openFrameUrl || this._options.openFrameUrl;\n\n  this._closed = false;\n  window.popupBridge.open(url);\n};\n\nPopupBridge.prototype.focus = noop;\n\nPopupBridge.prototype.close = noop;\n\nPopupBridge.prototype.isClosed = function () {\n  return Boolean(this._closed);\n};\n\nPopupBridge.prototype.redirect = function (redirectUrl) {\n  this.open({ openFrameUrl: redirectUrl });\n};\n\nmodule.exports = PopupBridge;\n\n},{\"../../../braintree-error\":51,\"../../shared/errors\":69}],64:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar constants = _dereq_(\"../../../shared/constants\");\nvar position = _dereq_(\"./position\");\n\nfunction calculatePosition(type, userDefinedPosition, size) {\n  if (typeof userDefinedPosition !== \"undefined\") {\n    return userDefinedPosition;\n  }\n\n  return position[type](size);\n}\n\nmodule.exports = function composePopupOptions(options) {\n  var height = options.height || constants.DEFAULT_POPUP_HEIGHT;\n  var width = options.width || constants.DEFAULT_POPUP_WIDTH;\n  var top = calculatePosition(\"top\", options.top, height);\n  var left = calculatePosition(\"left\", options.left, width);\n\n  return [\n    constants.POPUP_BASE_OPTIONS,\n    \"height=\" + height,\n    \"width=\" + width,\n    \"top=\" + top,\n    \"left=\" + left,\n  ].join(\",\");\n};\n\n},{\"../../../shared/constants\":68,\"./position\":66}],65:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar composeOptions = _dereq_(\"./compose-options\");\n\nfunction noop() {}\n\nfunction Popup(options) {\n  this._frame = null;\n  this._options = options || {};\n}\n\nPopup.prototype.initialize = noop;\n\nPopup.prototype.open = function () {\n  this._frame = window.open(\n    this._options.openFrameUrl,\n    this._options.name,\n    composeOptions(this._options)\n  );\n};\n\nPopup.prototype.focus = function () {\n  this._frame.focus();\n};\n\nPopup.prototype.close = function () {\n  if (this._frame.closed) {\n    return;\n  }\n  this._frame.close();\n};\n\nPopup.prototype.isClosed = function () {\n  return !this._frame || Boolean(this._frame.closed);\n};\n\nPopup.prototype.redirect = function (redirectUrl) {\n  this._frame.location.href = redirectUrl;\n};\n\nmodule.exports = Popup;\n\n},{\"./compose-options\":64}],66:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction top(height) {\n  var windowHeight =\n    window.outerHeight || document.documentElement.clientHeight;\n  var windowTop = window.screenY == null ? window.screenTop : window.screenY;\n\n  return center(windowHeight, height, windowTop);\n}\n\nfunction left(width) {\n  var windowWidth = window.outerWidth || document.documentElement.clientWidth;\n  var windowLeft = window.screenX == null ? window.screenLeft : window.screenX;\n\n  return center(windowWidth, width, windowLeft);\n}\n\nfunction center(windowMetric, popupMetric, offset) {\n  return (windowMetric - popupMetric) / 2 + offset;\n}\n\nmodule.exports = {\n  top: top,\n  left: left,\n  center: center,\n};\n\n},{}],67:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = {\n  isIos: _dereq_(\"@braintree/browser-detection/is-ios\"),\n  isIosWKWebview: _dereq_(\"@braintree/browser-detection/is-ios-wkwebview\"),\n  supportsPopups: _dereq_(\"@braintree/browser-detection/supports-popups\"),\n};\n\n},{\"@braintree/browser-detection/is-ios\":18,\"@braintree/browser-detection/is-ios-wkwebview\":17,\"@braintree/browser-detection/supports-popups\":19}],68:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = {\n  DISPATCH_FRAME_NAME: \"dispatch\",\n  DISPATCH_FRAME_CLASS: \"braintree-dispatch-frame\",\n  POPUP_BASE_OPTIONS: \"resizable,scrollbars\",\n  DEFAULT_POPUP_WIDTH: 450,\n  DEFAULT_POPUP_HEIGHT: 535,\n  POPUP_POLL_INTERVAL: 100,\n  POPUP_CLOSE_TIMEOUT: 100,\n};\n\n},{}],69:[function(_dereq_,module,exports){\n\"use strict\";\n\n/**\n * @name BraintreeError.Popup Related Error Codes\n * @ignore\n * @description Errors that occur when using a component that opens a popup window.\n * @property {INTERNAL} FRAME_SERVICE_FRAME_CLOSED - Occurs when the frame is closed before tokenization can occur.\n * @property {INTERNAL} FRAME_SERVICE_FRAME_OPEN_FAILED - Occurs when the popup could not be opened.\n */\n\nvar BraintreeError = _dereq_(\"../../braintree-error\");\n\nmodule.exports = {\n  FRAME_SERVICE_FRAME_CLOSED: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"FRAME_SERVICE_FRAME_CLOSED\",\n    message: \"Frame closed before tokenization could occur.\",\n  },\n  FRAME_SERVICE_FRAME_OPEN_FAILED: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"FRAME_SERVICE_FRAME_OPEN_FAILED\",\n    message: \"Frame failed to open.\",\n  },\n};\n\n},{\"../../braintree-error\":51}],70:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar enumerate = _dereq_(\"../../enumerate\");\n\nmodule.exports = enumerate(\n  [\"DISPATCH_FRAME_READY\", \"DISPATCH_FRAME_REPORT\"],\n  \"frameService:\"\n);\n\n},{\"../../enumerate\":58}],71:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (value) {\n  return JSON.parse(JSON.stringify(value));\n};\n\n},{}],72:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (obj) {\n  return Object.keys(obj).filter(function (key) {\n    return typeof obj[key] === \"function\";\n  });\n};\n\n},{}],73:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction _notEmpty(obj) {\n  var key;\n\n  for (key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/* eslint-disable no-mixed-operators */\nfunction _isArray(value) {\n  return (\n    (value &&\n      typeof value === \"object\" &&\n      typeof value.length === \"number\" &&\n      Object.prototype.toString.call(value) === \"[object Array]\") ||\n    false\n  );\n}\n/* eslint-enable no-mixed-operators */\n\nfunction hasQueryParams(url) {\n  url = url || window.location.href;\n\n  return /\\?/.test(url);\n}\n\nfunction parse(url) {\n  var query, params;\n\n  url = url || window.location.href;\n\n  if (!hasQueryParams(url)) {\n    return {};\n  }\n\n  query = url.split(\"?\")[1] || \"\";\n  query = query.replace(/#.*$/, \"\").split(\"&\");\n\n  params = query.reduce(function (toReturn, keyValue) {\n    var parts = keyValue.split(\"=\");\n    var key = decodeURIComponent(parts[0]);\n    var value = decodeURIComponent(parts[1]);\n\n    toReturn[key] = value;\n\n    return toReturn;\n  }, {});\n\n  return params;\n}\n\nfunction stringify(params, namespace) {\n  var k, v, p;\n  var query = [];\n\n  for (p in params) {\n    if (!params.hasOwnProperty(p)) {\n      continue;\n    }\n\n    v = params[p];\n\n    if (namespace) {\n      if (_isArray(params)) {\n        k = namespace + \"[]\";\n      } else {\n        k = namespace + \"[\" + p + \"]\";\n      }\n    } else {\n      k = p;\n    }\n    if (typeof v === \"object\") {\n      query.push(stringify(v, k));\n    } else {\n      query.push(encodeURIComponent(k) + \"=\" + encodeURIComponent(v));\n    }\n  }\n\n  return query.join(\"&\");\n}\n\nfunction queryify(url, params) {\n  url = url || \"\";\n\n  if (params != null && typeof params === \"object\" && _notEmpty(params)) {\n    url += url.indexOf(\"?\") === -1 ? \"?\" : \"\";\n    url += url.indexOf(\"=\") !== -1 ? \"&\" : \"\";\n    url += stringify(params);\n  }\n\n  return url;\n}\n\nmodule.exports = {\n  parse: parse,\n  stringify: stringify,\n  queryify: queryify,\n  hasQueryParams: hasQueryParams,\n};\n\n},{}],74:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction useMin(isDebug) {\n  return isDebug ? \"\" : \".min\";\n}\n\nmodule.exports = useMin;\n\n},{}],75:[function(_dereq_,module,exports){\n\"use strict\";\n\n// NEXT_MAJOR_VERSION old versions of IE don't have atob, in the\n// next major version, we're dropping support for those versions\n// so we can eliminate the need to have this atob polyfill\nvar atobNormalized = typeof atob === \"function\" ? atob : atobPolyfill;\n\nfunction atobPolyfill(base64String) {\n  var a, b, c, b1, b2, b3, b4, i;\n  var base64Matcher = new RegExp(\n    \"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$\"\n  );\n  var characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  var result = \"\";\n\n  if (!base64Matcher.test(base64String)) {\n    throw new Error(\"Non base64 encoded input passed to window.atob polyfill\");\n  }\n\n  i = 0;\n  do {\n    b1 = characters.indexOf(base64String.charAt(i++));\n    b2 = characters.indexOf(base64String.charAt(i++));\n    b3 = characters.indexOf(base64String.charAt(i++));\n    b4 = characters.indexOf(base64String.charAt(i++));\n\n    a = ((b1 & 0x3f) << 2) | ((b2 >> 4) & 0x3);\n    b = ((b2 & 0xf) << 4) | ((b3 >> 2) & 0xf);\n    c = ((b3 & 0x3) << 6) | (b4 & 0x3f);\n\n    result +=\n      String.fromCharCode(a) +\n      (b ? String.fromCharCode(b) : \"\") +\n      (c ? String.fromCharCode(c) : \"\");\n  } while (i < base64String.length);\n\n  return result;\n}\n\nmodule.exports = {\n  atob: function (base64String) {\n    return atobNormalized.call(window, base64String);\n  },\n  _atob: atobPolyfill,\n};\n\n},{}],76:[function(_dereq_,module,exports){\n\"use strict\";\n\n/**\n * @name BraintreeError.PayPal Checkout - Creation Error Codes\n * @description Errors that occur when [creating the PayPal Checkout component](./module-braintree-web_paypal-checkout.html#.create).\n * @property {MERCHANT} PAYPAL_NOT_ENABLED Occurs when PayPal is not enabled on the Braintree control panel.\n * @property {MERCHANT} PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED Occurs only when testing in Sandbox, when a PayPal sandbox account is not linked to the merchant account in the Braintree control panel.\n */\n\n/**\n * @name BraintreeError.PayPal Checkout - createPayment Error Codes\n * @description Errors that occur when using the [`createPayment` method](./PayPalCheckout.html#createPayment).\n * @property {MERCHANT} PAYPAL_FLOW_OPTION_REQUIRED Occurs when a required option is missing.\n * @property {MERCHANT} PAYPAL_INVALID_PAYMENT_OPTION Occurs when an option contains an invalid value.\n * @property {NETWORK} PAYPAL_FLOW_FAILED Occurs when something goes wrong when initializing the flow.\n */\n\n/**\n * @name BraintreeError.PayPal Checkout - startVaultInitiatedCheckout Error Codes\n * @description Errors that occur when using the [`startVaultInitiatedCheckout` method](./PayPalCheckout.html#startVaultInitiatedCheckout).\n * @property {MERCHANT} PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED Occurs when a required param is missing when calling the method.\n * @property {MERCHANT} PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED Occurs when PayPal window could not be opened. This often occurs because the call to start the vault initiated flow was not triggered from a click event.\n * @property {CUSTOMER} PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED Occurs when a customer closes the PayPal flow before completion.\n * @property {MERCHANT} PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS Occurs when the flow is initialized while an authorization is already in progress.\n * @property {NETWORK} PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED Occurs when something went wrong setting up the flow.\n */\n\n/**\n * @name BraintreeError.PayPal Checkout - tokenizePayment Error Codes\n * @description Errors that occur when using the [`tokenizePayment` method](./PayPalCheckout.html#tokenizePayment).\n * @property {NETWORK} PAYPAL_ACCOUNT_TOKENIZATION_FAILED Occurs when PayPal account could not be tokenized.\n */\n\n/**\n * @name BraintreeError.Paypal Checkout - updatePayment Error Codes\n * @description Errors that occur when using the [`updatePayment` method](./PayPalCheckout.html#updatePayment).\n * @property {MERCHANT} PAYPAL_INVALID_PAYMENT_OPTION Occurs when an option contains an invalid value.\n * @property {MERCHANT} PAYPAL_MISSING_REQUIRED_OPTION Occurs when a required option is missing.\n * @property {NETWORK} PAYPAL_FLOW_FAILED Occurs when something goes wrong when initializing the flow or communicating with the server.\n */\nvar BraintreeError = _dereq_(\"../lib/braintree-error\");\n\nmodule.exports = {\n  PAYPAL_NOT_ENABLED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_NOT_ENABLED\",\n    message: \"PayPal is not enabled for this merchant.\",\n  },\n  PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED\",\n    message:\n      \"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developer.paypal.com/braintree/docs/guides/paypal/testing-go-live#linked-paypal-testing for details on linking your PayPal sandbox with Braintree.\",\n  },\n  PAYPAL_ACCOUNT_TOKENIZATION_FAILED: {\n    type: BraintreeError.types.NETWORK,\n    code: \"PAYPAL_ACCOUNT_TOKENIZATION_FAILED\",\n    message: \"Could not tokenize user's PayPal account.\",\n  },\n  PAYPAL_FLOW_FAILED: {\n    type: BraintreeError.types.NETWORK,\n    code: \"PAYPAL_FLOW_FAILED\",\n    message: \"Could not initialize PayPal flow.\",\n  },\n  PAYPAL_FLOW_OPTION_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_FLOW_OPTION_REQUIRED\",\n    message: \"PayPal flow property is invalid or missing.\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED: {\n    type: BraintreeError.types.NETWORK,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED\",\n    message: \"Something went wrong when setting up the checkout workflow.\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED\",\n    message:\n      \"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action.\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED\",\n    message: \"Customer closed PayPal popup before authorizing.\",\n  },\n  PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS\",\n    message: \"Vault initiated checkout already in progress.\",\n  },\n  PAYPAL_INVALID_PAYMENT_OPTION: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_INVALID_PAYMENT_OPTION\",\n    message: \"PayPal payment options are invalid.\",\n  },\n  PAYPAL_MISSING_REQUIRED_OPTION: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"PAYPAL_MISSING_REQUIRED_OPTION\",\n    message: \"Missing required option.\",\n  },\n};\n\n},{\"../lib/braintree-error\":51}],77:[function(_dereq_,module,exports){\n\"use strict\";\n/**\n * @module braintree-web/paypal-checkout\n * @description A component to integrate with the [PayPal JS SDK](https://github.com/paypal/paypal-checkout-components).\n */\n\nvar basicComponentVerification = _dereq_(\"../lib/basic-component-verification\");\nvar wrapPromise = _dereq_(\"@braintree/wrap-promise\");\nvar PayPalCheckout = _dereq_(\"./paypal-checkout\");\nvar VERSION = \"3.94.0\";\n\n/**\n * @static\n * @function create\n * @description There are two ways to integrate the PayPal Checkout component. See the [PayPal Checkout constructor documentation](PayPalCheckout.html#PayPalCheckout) for more information and examples.\n *\n * @param {object} options Creation options:\n * @param {Client} [options.client] A {@link Client} instance.\n * @param {string} [options.authorization] A tokenizationKey or clientToken. Can be used in place of `options.client`.\n * @param {string} [options.merchantAccountId] A non-default merchant account ID to use for tokenization.\n * @param {boolean} [options.autoSetDataUserIdToken=false] Whether or not to render the PayPal SDK button with a customer's vaulted PayPal account. Must be used in conjunction with a Client Token generated with a customer id.\n * @param {callback} [callback] The second argument, `data`, is the {@link PayPalCheckout} instance.\n * @example\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   // set up the PayPal JS SDK\n * }).catch(function (err) {\n *   console.error('Error!', err);\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nfunction create(options) {\n  var name = \"PayPal Checkout\";\n\n  return basicComponentVerification\n    .verify({\n      name: name,\n      client: options.client,\n      authorization: options.authorization,\n    })\n    .then(function () {\n      var instance = new PayPalCheckout(options);\n\n      return instance._initialize(options);\n    });\n}\n\n/**\n * @static\n * @function isSupported\n * @description Returns true if PayPal Checkout [supports this browser](index.html#browser-support-webviews).\n * @deprecated Previously, this method checked for Popup support in the browser. The PayPal JS SDK now falls back to a modal if popups are not supported.\n * @returns {Boolean} Returns true if PayPal Checkout supports this browser.\n */\nfunction isSupported() {\n  return true;\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  isSupported: isSupported,\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n\n},{\"../lib/basic-component-verification\":50,\"./paypal-checkout\":78,\"@braintree/wrap-promise\":29}],78:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar analytics = _dereq_(\"../lib/analytics\");\nvar assign = _dereq_(\"../lib/assign\").assign;\nvar createDeferredClient = _dereq_(\"../lib/create-deferred-client\");\nvar createAssetsUrl = _dereq_(\"../lib/create-assets-url\");\nvar ExtendedPromise = _dereq_(\"@braintree/extended-promise\");\nvar wrapPromise = _dereq_(\"@braintree/wrap-promise\");\nvar BraintreeError = _dereq_(\"../lib/braintree-error\");\nvar convertToBraintreeError = _dereq_(\"../lib/convert-to-braintree-error\");\nvar errors = _dereq_(\"./errors\");\nvar constants = _dereq_(\"../paypal/shared/constants\");\nvar frameService = _dereq_(\"../lib/frame-service/external\");\nvar createAuthorizationData = _dereq_(\"../lib/create-authorization-data\");\nvar methods = _dereq_(\"../lib/methods\");\nvar useMin = _dereq_(\"../lib/use-min\");\nvar convertMethodsToError = _dereq_(\"../lib/convert-methods-to-error\");\nvar querystring = _dereq_(\"../lib/querystring\");\nvar VERSION = \"3.94.0\";\nvar INTEGRATION_TIMEOUT_MS = _dereq_(\"../lib/constants\").INTEGRATION_TIMEOUT_MS;\n\nvar REQUIRED_PARAMS_FOR_START_VAULT_INITIATED_CHECKOUT = [\n  \"amount\",\n  \"currency\",\n  \"vaultInitiatedCheckoutPaymentMethodToken\",\n];\n\nvar PAYPAL_SDK_PRELOAD_URL =\n  \"https://www.{ENV}paypal.com/smart/buttons/preload\";\n\nExtendedPromise.suppressUnhandledPromiseMessage = true;\n\n/**\n * PayPal Checkout tokenized payload. Returned in {@link PayPalCheckout#tokenizePayment}'s callback as the second argument, `data`.\n * @typedef {object} PayPalCheckout~tokenizePayload\n * @property {string} nonce The payment method nonce.\n * @property {string} type The payment method type, always `PayPalAccount`.\n * @property {object} details Additional PayPal account details.\n * @property {string} details.email User's email address.\n * @property {string} details.payerId User's payer ID, the unique identifier for each PayPal account.\n * @property {string} details.firstName User's given name.\n * @property {string} details.lastName User's surname.\n * @property {?string} details.countryCode User's 2 character country code.\n * @property {?string} details.phone User's phone number (e.g. 555-867-5309).\n * @property {?object} details.shippingAddress User's shipping address details, only available if shipping address is enabled.\n * @property {string} details.shippingAddress.recipientName Recipient of postage.\n * @property {string} details.shippingAddress.line1 Street number and name.\n * @property {string} details.shippingAddress.line2 Extended address.\n * @property {string} details.shippingAddress.city City or locality.\n * @property {string} details.shippingAddress.state State or region.\n * @property {string} details.shippingAddress.postalCode Postal code.\n * @property {string} details.shippingAddress.countryCode 2 character country code (e.g. US).\n * @property {?object} details.billingAddress User's billing address details.\n * Not available to all merchants; [contact support](https://developer.paypal.com/braintree/help) for details on eligibility and enabling this feature.\n * Alternatively, see `shippingAddress` above as an available client option.\n * @property {string} details.billingAddress.line1 Street number and name.\n * @property {string} details.billingAddress.line2 Extended address.\n * @property {string} details.billingAddress.city City or locality.\n * @property {string} details.billingAddress.state State or region.\n * @property {string} details.billingAddress.postalCode Postal code.\n * @property {string} details.billingAddress.countryCode 2 character country code (e.g. US).\n * @property {?object} creditFinancingOffered This property will only be present when the customer pays with PayPal Credit.\n * @property {object} creditFinancingOffered.totalCost This is the estimated total payment amount including interest and fees the user will pay during the lifetime of the loan.\n * @property {string} creditFinancingOffered.totalCost.value An amount defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm) for the given currency.\n * @property {string} creditFinancingOffered.totalCost.currency 3 letter currency code as defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm).\n * @property {number} creditFinancingOffered.term Length of financing terms in months.\n * @property {object} creditFinancingOffered.monthlyPayment This is the estimated amount per month that the customer will need to pay including fees and interest.\n * @property {string} creditFinancingOffered.monthlyPayment.value An amount defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm) for the given currency.\n * @property {string} creditFinancingOffered.monthlyPayment.currency 3 letter currency code as defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm).\n * @property {object} creditFinancingOffered.totalInterest Estimated interest or fees amount the payer will have to pay during the lifetime of the loan.\n * @property {string} creditFinancingOffered.totalInterest.value An amount defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm) for the given currency.\n * @property {string} creditFinancingOffered.totalInterest.currency 3 letter currency code as defined by [ISO 4217](https://www.iso.org/iso/home/standards/currency_codes.htm).\n * @property {boolean} creditFinancingOffered.payerAcceptance Status of whether the customer ultimately was approved for and chose to make the payment using the approved installment credit.\n * @property {boolean} creditFinancingOffered.cartAmountImmutable Indicates whether the cart amount is editable after payer's acceptance on PayPal side.\n */\n\n/**\n * @class\n * @param {object} options see {@link module:braintree-web/paypal-checkout.create|paypal-checkout.create}\n * @classdesc This class represents a PayPal Checkout component that coordinates with the {@link https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page|PayPal SDK}. Instances of this class can generate payment data and tokenize authorized payments.\n *\n * All UI (such as preventing actions on the parent page while authentication is in progress) is managed by the {@link https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page|PayPal SDK}. You must provide your PayPal `client-id` as a query parameter. You can [retrieve this value from the PayPal Dashboard](https://developer.paypal.com/docs/checkout/integrate/#1-get-paypal-rest-api-credentials).\n * @description <strong>Do not use this constructor directly. Use {@link module:braintree-web/paypal-checkout.create|braintree-web.paypal-checkout.create} instead.</strong>\n *\n * #### Integrate Checkout Flow with PayPal SDK\n *\n * You must have [PayPal's script, configured with various query parameters](https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page), loaded on your page:\n *\n * ```html\n * <script src=\"https://www.paypal.com/sdk/js?client-id=your-sandbox-or-prod-client-id\"></script>\n * <div id=\"paypal-button\"></div>\n * ```\n *\n * When passing values in the `createPayment` method, make sure they match the [corresponding parameters in the query parameters for the PayPal SDK script](https://developer.paypal.com/docs/checkout/reference/customize-sdk/).\n *\n * ```javascript\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   return paypal.Buttons({\n *     createOrder: function () {\n *       return paypalCheckoutInstance.createPayment({\n *         flow: 'checkout',\n *         currency: 'USD',\n *         amount: '10.00',\n *         intent: 'capture' // this value must either be `capture` or match the intent passed into the PayPal SDK intent query parameter\n *         // your other createPayment options here\n *       });\n *     },\n *\n *     onApprove: function (data, actions) {\n *       // some logic here before tokenization happens below\n *       return paypalCheckoutInstance.tokenizePayment(data).then(function (payload) {\n *         // Submit payload.nonce to your server\n *       });\n *     },\n *\n *     onCancel: function () {\n *       // handle case where user cancels\n *     },\n *\n *     onError: function (err) {\n *       // handle case where error occurs\n *     }\n *   }).render('#paypal-button');\n * }).catch(function (err) {\n *  console.error('Error!', err);\n * });\n * ```\n *\n * #### Integrate Vault Flow with PayPal SDK\n *\n * You must have [PayPal's script, configured with various query parameters](https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page), loaded on your page:\n *\n * ```html\n * <script src=\"https://www.paypal.com/sdk/js?client-id=your-sandbox-or-prod-client-id&vault=true\"></script>\n * <div id=\"paypal-button\"></div>\n * ```\n *\n * When passing values in the `createPayment` method, make sure they match the [corresponding parameters in the query parameters for the PayPal SDK script](https://developer.paypal.com/docs/checkout/reference/customize-sdk/).\n *\n * ```javascript\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   return paypal.Buttons({\n *     createBillingAgreement: function () {\n *       return paypalCheckoutInstance.createPayment({\n *         flow: 'vault'\n *         // your other createPayment options here\n *       });\n *     },\n *\n *     onApprove: function (data, actions) {\n *       // some logic here before tokenization happens below\n *       return paypalCheckoutInstance.tokenizePayment(data).then(function (payload) {\n *         // Submit payload.nonce to your server\n *       });\n *     },\n *\n *     onCancel: function () {\n *       // handle case where user cancels\n *     },\n *\n *     onError: function (err) {\n *       // handle case where error occurs\n *     }\n *   }).render('#paypal-button');\n * }).catch(function (err) {\n *  console.error('Error!', err);\n * });\n * ```\n *\n * #### Integrate with Checkout.js (deprecated PayPal SDK)\n *\n * If you are creating a new PayPal integration, please follow the previous integration guide to use the current version of the PayPal SDK. Use this integration guide only as a reference if you are already integrated with Checkout.js.\n *\n * You must have PayPal's Checkout.js script loaded on your page.\n *\n * ```html\n * <script src=\"https://www.paypalobjects.com/api/checkout.js\" data-version-4 log-level=\"warn\"></script>\n * ```\n *\n * ```javascript\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   return paypal.Button.render({\n *     env: 'production', // or 'sandbox'\n *\n *     payment: function () {\n *       return paypalCheckoutInstance.createPayment({\n *         // your createPayment options here\n *       });\n *     },\n *\n *     onAuthorize: function (data, actions) {\n *       // some logic here before tokenization happens below\n *       return paypalCheckoutInstance.tokenizePayment(data).then(function (payload) {\n *         // Submit payload.nonce to your server\n *       });\n *     }\n *   }, '#paypal-button');\n * }).catch(function (err) {\n *  console.error('Error!', err);\n * });\n * ```\n */\nfunction PayPalCheckout(options) {\n  this._merchantAccountId = options.merchantAccountId;\n  // TODO remove this requirement for it to be opt in.\n  // This feature is not yet GA, so we're intentionally making\n  // it opt in and not publicly documenting it yet. Once it's\n  // GA, we can remove the requirement to opt in to it\n  this._autoSetDataUserIdToken = Boolean(options.autoSetDataUserIdToken);\n}\n\nPayPalCheckout.prototype._initialize = function (options) {\n  var config;\n\n  if (options.client) {\n    config = options.client.getConfiguration();\n    this._authorizationInformation = {\n      fingerprint: config.authorizationFingerprint,\n      environment: config.gatewayConfiguration.environment,\n    };\n  } else {\n    config = createAuthorizationData(options.authorization);\n    this._authorizationInformation = {\n      fingerprint: config.attrs.authorizationFingerprint,\n      environment: config.environment,\n    };\n  }\n\n  this._clientPromise = createDeferredClient\n    .create({\n      authorization: options.authorization,\n      client: options.client,\n      debug: options.debug,\n      assetsUrl: createAssetsUrl.create(options.authorization),\n      name: \"PayPal Checkout\",\n    })\n    .then(\n      function (client) {\n        this._configuration = client.getConfiguration();\n\n        // we skip these checks if a merchant account id is\n        // passed in, because the default merchant account\n        // may not have paypal enabled\n        if (!this._merchantAccountId) {\n          if (!this._configuration.gatewayConfiguration.paypalEnabled) {\n            this._setupError = new BraintreeError(errors.PAYPAL_NOT_ENABLED);\n          } else if (\n            this._configuration.gatewayConfiguration.paypal\n              .environmentNoNetwork === true\n          ) {\n            this._setupError = new BraintreeError(\n              errors.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED\n            );\n          }\n        }\n\n        if (this._setupError) {\n          return Promise.reject(this._setupError);\n        }\n\n        analytics.sendEvent(client, \"paypal-checkout.initialized\");\n        this._frameServicePromise = this._setupFrameService(client);\n\n        return client;\n      }.bind(this)\n    );\n\n  // if client was passed in, let config checks happen before\n  // resolving the instance. Otherwise, just resolve the instance\n  if (options.client) {\n    return this._clientPromise.then(\n      function () {\n        return this;\n      }.bind(this)\n    );\n  }\n\n  return Promise.resolve(this);\n};\n\nPayPalCheckout.prototype._setupFrameService = function (client) {\n  var frameServicePromise = new ExtendedPromise();\n  var config = client.getConfiguration();\n  var timeoutRef = setTimeout(function () {\n    analytics.sendEvent(client, \"paypal-checkout.frame-service.timed-out\");\n    frameServicePromise.reject(\n      new BraintreeError(\n        errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED\n      )\n    );\n  }, INTEGRATION_TIMEOUT_MS);\n\n  this._assetsUrl =\n    config.gatewayConfiguration.paypal.assetsUrl + \"/web/\" + VERSION;\n  this._isDebug = config.isDebug;\n  // Note: this is using the static landing frame that the deprecated PayPal component builds and uses\n  this._loadingFrameUrl =\n    this._assetsUrl +\n    \"/html/paypal-landing-frame\" +\n    useMin(this._isDebug) +\n    \".html\";\n\n  frameService.create(\n    {\n      name: \"braintreepaypallanding\",\n      dispatchFrameUrl:\n        this._assetsUrl +\n        \"/html/dispatch-frame\" +\n        useMin(this._isDebug) +\n        \".html\",\n      openFrameUrl: this._loadingFrameUrl,\n    },\n    function (service) {\n      this._frameService = service;\n      clearTimeout(timeoutRef);\n\n      frameServicePromise.resolve();\n    }.bind(this)\n  );\n\n  return frameServicePromise;\n};\n\n/**\n * @typedef {object} PayPalCheckout~lineItem\n * @property {string} quantity Number of units of the item purchased. This value must be a whole number and can't be negative or zero.\n * @property {string} unitAmount Per-unit price of the item. Can include up to 2 decimal places. This value can't be negative or zero.\n * @property {string} name Item name. Maximum 127 characters.\n * @property {string} kind Indicates whether the line item is a debit (sale) or credit (refund) to the customer. Accepted values: `debit` and `credit`.\n * @property {?string} unitTaxAmount Per-unit tax price of the item. Can include up to 2 decimal places. This value can't be negative or zero.\n * @property {?string} description Item description. Maximum 127 characters.\n * @property {?string} productCode Product or UPC code for the item. Maximum 127 characters.\n * @property {?string} url The URL to product information.\n */\n\n/**\n * @typedef {object} PayPalCheckout~shippingOption\n * @property {string} id A unique ID that identifies a payer-selected shipping option.\n * @property {string} label A description that the payer sees, which helps them choose an appropriate shipping option. For example, `Free Shipping`, `USPS Priority Shipping`, `Expédition prioritaire USPS`, or `USPS yōuxiān fā huò`. Localize this description to the payer's locale.\n * @property {boolean} selected If `selected = true` is specified as part of the API request it represents the shipping option that the payee/merchant expects to be pre-selected for the payer when they first view the shipping options within the PayPal checkout experience. As part of the response if a shipping option has `selected = true` it represents the shipping option that the payer selected during the course of checkout with PayPal. Only 1 `shippingOption` can be set to `selected = true`.\n * @property {string} type The method by which the payer wants to get their items. The possible values are:\n * * `SHIPPING` - The payer intends to receive the items at a specified address.\n * * `PICKUP` - The payer intends to pick up the items at a specified address. For example, a store address.\n * @property {object} amount The shipping cost for the selected option.\n * @property {string} amount.currency The three-character ISO-4217 currency code. PayPal does not support all currencies.\n * @property {string} amount.value The amount the shipping option will cost. Includes the specified number of digits after decimal separator for the ISO-4217 currency code.\n */\n\n/**\n * Creates a PayPal payment ID or billing token using the given options. This is meant to be passed to the PayPal JS SDK.\n * When a {@link callback} is defined, the function returns undefined and invokes the callback with the id to be used with the PayPal JS SDK. Otherwise, it returns a Promise that resolves with the id.\n * @public\n * @param {object} options All options for the PayPalCheckout component.\n * @param {string} options.flow Set to 'checkout' for one-time payment flow, or 'vault' for Vault flow. If 'vault' is used with a client token generated with a customer ID, the PayPal account will be added to that customer as a saved payment method.\n * @param {string} [options.intent=authorize]\n * * `authorize` - Submits the transaction for authorization but not settlement.\n * * `order` - Validates the transaction without an authorization (i.e. without holding funds). Useful for authorizing and capturing funds up to 90 days after the order has been placed. Only available for Checkout flow.\n * * `capture` - Payment will be immediately submitted for settlement upon creating a transaction. `sale` can be used as an alias for this value.\n * @param {boolean} [options.offerCredit=false] Offers PayPal Credit as the default funding instrument for the transaction. If the customer isn't pre-approved for PayPal Credit, they will be prompted to apply for it.\n * @param {(string|number)} [options.amount] The amount of the transaction. Required when using the Checkout flow. Should not include shipping cost.\n * * Supports up to 2 digits after the decimal point\n * @param {string} [options.currency] The currency code of the amount, such as 'USD'. Required when using the Checkout flow.\n * @param {string} [options.displayName] The merchant name displayed inside of the PayPal lightbox; defaults to the company name on your Braintree account\n * @param {boolean} [options.requestBillingAgreement] If `true` and `flow = checkout`, the customer will be prompted to consent to a billing agreement during the checkout flow. This value is ignored when `flow = vault`.\n * @param {object} [options.billingAgreementDetails] When `requestBillingAgreement = true`, allows for details to be set for the billing agreement portion of the flow.\n * @param {string} [options.billingAgreementDetails.description] Description of the billing agreement to display to the customer.\n * @param {string} [options.vaultInitiatedCheckoutPaymentMethodToken] Use the payment method nonce representing a PayPal account with a Billing Agreement ID to create the payment and redirect the customer to select a new financial instrument. This option is only applicable to the `checkout` flow.\n * @param {shippingOption[]} [options.shippingOptions] List of shipping options offered by the payee or merchant to the payer to ship or pick up their items.\n * @param {boolean} [options.enableShippingAddress=false] Returns a shipping address object in {@link PayPal#tokenize}.\n * @param {object} [options.shippingAddressOverride] Allows you to pass a shipping address you have already collected into the PayPal payment flow.\n * @param {string} options.shippingAddressOverride.line1 Street address.\n * @param {string} [options.shippingAddressOverride.line2] Street address (extended).\n * @param {string} options.shippingAddressOverride.city City.\n * @param {string} options.shippingAddressOverride.state State.\n * @param {string} options.shippingAddressOverride.postalCode Postal code.\n * @param {string} options.shippingAddressOverride.countryCode Country.\n * @param {string} [options.shippingAddressOverride.phone] Phone number.\n * @param {string} [options.shippingAddressOverride.recipientName] Recipient's name.\n * @param {boolean} [options.shippingAddressEditable=true] Set to false to disable user editing of the shipping address.\n * @param {string} [options.billingAgreementDescription] Use this option to set the description of the preapproved payment agreement visible to customers in their PayPal profile during Vault flows. Max 255 characters.\n * @param {string} [options.landingPageType] Use this option to specify the PayPal page to display when a user lands on the PayPal site to complete the payment.\n * * `login` - A PayPal account login page is used.\n * * `billing` - A non-PayPal account landing page is used.\n * @param {lineItem[]} [options.lineItems] The {@link PayPalCheckout~lineItem|line items} for this transaction. It can include up to 249 line items.\n * @param {callback} [callback] The second argument is a PayPal `paymentId` or `billingToken` string, depending on whether `options.flow` is `checkout` or `vault`. This is also what is resolved by the promise if no callback is provided.\n * @example\n * // this paypal object is created by the PayPal JS SDK\n * // see https://github.com/paypal/paypal-checkout-components\n * paypal.Buttons({\n *   createOrder: function () {\n *     // when createPayment resolves, it is automatically passed to the PayPal JS SDK\n *     return paypalCheckoutInstance.createPayment({\n *       flow: 'checkout',\n *       amount: '10.00',\n *       currency: 'USD',\n *       intent: 'capture' // this value must either be `capture` or match the intent passed into the PayPal SDK intent query parameter\n *     });\n *   },\n *   // Add other options, e.g. onApproved, onCancel, onError\n * }).render('#paypal-button');\n *\n * @example\n * // shippingOptions are passed to createPayment. You can review the result from onAuthorize to determine which shipping option id was selected.\n * ```javascript\n * braintree.client.create({\n *   authorization: 'authorization'\n * }).then(function (clientInstance) {\n *   return braintree.paypalCheckout.create({\n *     client: clientInstance\n *   });\n * }).then(function (paypalCheckoutInstance) {\n *   return paypal.Button.render({\n *     env: 'production'\n *\n *     payment: function () {\n *       return paypalCheckoutInstance.createPayment({\n *         flow: 'checkout',\n *         amount: '10.00',\n *         currency: 'USD',\n *         shippingOptions: [\n *           {\n *             id: 'UUID-9',\n *             type: 'PICKUP',\n *             label: 'Store Location Five',\n *             selected: true,\n *             amount: {\n *               value: '1.00',\n *               currency: 'USD'\n *             }\n *           },\n *           {\n *             id: 'shipping-speed-fast',\n *             type: 'SHIPPING',\n *             label: 'Fast Shipping',\n *             selected: false,\n *             amount: {\n *               value: '1.00',\n *               currency: 'USD'\n *             }\n *           },\n *           {\n *             id: 'shipping-speed-slow',\n *             type: 'SHIPPING',\n *             label: 'Slow Shipping',\n *             selected: false,\n *             amount: {\n *               value: '1.00',\n *               currency: 'USD'\n *             }\n *           }\n *         ]\n *       });\n *     },\n *\n *     onAuthorize: function (data, actions) {\n *       return paypalCheckoutInstance.tokenizePayment(data).then(function (payload) {\n *         // Submit payload.nonce to your server\n *       });\n *     }\n *   }, '#paypal-button');\n * }).catch(function (err) {\n *  console.error('Error!', err);\n * });\n * ```\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.createPayment = function (options) {\n  if (!options || !constants.FLOW_ENDPOINTS.hasOwnProperty(options.flow)) {\n    return Promise.reject(\n      new BraintreeError(errors.PAYPAL_FLOW_OPTION_REQUIRED)\n    );\n  }\n\n  analytics.sendEvent(this._clientPromise, \"paypal-checkout.createPayment\");\n\n  return this._createPaymentResource(options).then(function (response) {\n    var flowToken;\n\n    if (options.flow === \"checkout\") {\n      flowToken = response.paymentResource.redirectUrl.match(/EC-\\w+/)[0];\n    } else {\n      flowToken = response.agreementSetup.tokenId;\n    }\n\n    return flowToken;\n  });\n};\n\nPayPalCheckout.prototype._createPaymentResource = function (options, config) {\n  var self = this;\n  var endpoint = \"paypal_hermes/\" + constants.FLOW_ENDPOINTS[options.flow];\n\n  delete this.intentFromCreatePayment;\n\n  config = config || {};\n\n  if (options.offerCredit === true) {\n    analytics.sendEvent(this._clientPromise, \"paypal-checkout.credit.offered\");\n  }\n\n  return this._clientPromise\n    .then(function (client) {\n      return client\n        .request({\n          endpoint: endpoint,\n          method: \"post\",\n          data: self._formatPaymentResourceData(options, config),\n        })\n        .then(function (data) {\n          self.intentFromCreatePayment = options.intent;\n\n          return data;\n        });\n    })\n    .catch(function (err) {\n      var status;\n\n      if (self._setupError) {\n        return Promise.reject(self._setupError);\n      }\n\n      status = err.details && err.details.httpStatus;\n\n      if (status === 422) {\n        return Promise.reject(\n          new BraintreeError({\n            type: errors.PAYPAL_INVALID_PAYMENT_OPTION.type,\n            code: errors.PAYPAL_INVALID_PAYMENT_OPTION.code,\n            message: errors.PAYPAL_INVALID_PAYMENT_OPTION.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      }\n\n      return Promise.reject(\n        convertToBraintreeError(err, {\n          type: errors.PAYPAL_FLOW_FAILED.type,\n          code: errors.PAYPAL_FLOW_FAILED.code,\n          message: errors.PAYPAL_FLOW_FAILED.message,\n        })\n      );\n    });\n};\n\n/**\n * Use this function to update {@link PayPalCheckout~lineItem|line items} and/or {@link PayPalCheckout~shippingOption|shipping options} associated with a PayPalCheckout flow (`paymentId`).\n * When a {@link callback} is defined, this function returns undefined and invokes the callback. The second callback argument, <code>data</code>, is the returned server data. If no callback is provided, `updatePayment` returns a promise that resolves with the server data.\n * @public\n * @param {object} options All options for the PayPalCheckout component.\n * @param {string} options.paymentId This should be PayPal `paymentId`.\n * @param {(string|number)} [options.amount] The amount of the transaction, including the amount of the selected shipping option.\n * * Supports up to 2 decimal digits.\n * @param {string} options.currency The currency code of the amount, such as 'USD'. Required when using the Checkout flow.\n * @param {shippingOption[]} [options.shippingOptions] List of {@link PayPalCheckout~shippingOption|shipping options} offered by the payee or merchant to the payer to ship or pick up their items.\n * @param {lineItem[]} [options.lineItems] The {@link PayPalCheckout~lineItem|line items} for this transaction. It can include up to 249 line items.\n * @param {callback} [callback] The second argument is a PayPal `paymentId` or `billingToken` string, depending on whether `options.flow` is `checkout` or `vault`. This is also what is resolved by the promise if no callback is provided.\n * @example\n * // this paypal object is created by the PayPal JS SDK\n * // see https://github.com/paypal/paypal-checkout-components\n * paypal.Buttons({\n *   createOrder: function () {\n *     // when createPayment resolves, it is automatically passed to the PayPal JS SDK\n *     return paypalCheckoutInstance.createPayment({\n *       //\n *     });\n *   },\n *   onShippingChange: function (data) {\n *     // Examine data and determine if the payment needs to be updated.\n *     // when updatePayment resolves, it is automatically passed to the PayPal JS SDK\n *     return paypalCheckoutInstance.updatePayment({\n *         paymentId: data.paymentId,\n *         amount: '15.00',\n *         currency: 'USD',\n *         shippingOptions: [\n *           {\n *             id: 'shipping-speed-fast',\n *             type: 'SHIPPING',\n *             label: 'Fast Shipping',\n *             selected: true,\n *             amount: {\n *               value: '5.00',\n *               currency: 'USD'\n *             }\n *           },\n *           {\n *             id: 'shipping-speed-slow',\n *             type: 'SHIPPING',\n *             label: 'Slow Shipping',\n *             selected: false,\n *             amount: {\n *               value: '1.00',\n *               currency: 'USD'\n *             }\n *           }\n *         ]\n *     });\n *   }\n *   // Add other options, e.g. onApproved, onCancel, onError\n * }).render('#paypal-button');\n *\n * ```\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.updatePayment = function (options) {\n  var self = this;\n  var endpoint = \"paypal_hermes/patch_payment_resource\";\n\n  if (!options || this._hasMissingOption(options, constants.REQUIRED_OPTIONS)) {\n    analytics.sendEvent(\n      self._clientPromise,\n      \"paypal-checkout.updatePayment.missing-options\"\n    );\n\n    return Promise.reject(\n      new BraintreeError(errors.PAYPAL_MISSING_REQUIRED_OPTION)\n    );\n  }\n\n  if (!this._verifyConsistentCurrency(options)) {\n    analytics.sendEvent(\n      self._clientPromise,\n      \"paypal-checkout.updatePayment.inconsistent-currencies\"\n    );\n\n    return Promise.reject(\n      new BraintreeError({\n        type: errors.PAYPAL_INVALID_PAYMENT_OPTION.type,\n        code: errors.PAYPAL_INVALID_PAYMENT_OPTION.code,\n        message: errors.PAYPAL_INVALID_PAYMENT_OPTION.message,\n        details: {\n          originalError: new Error(\n            \"One or more shipping option currencies differ from checkout currency.\"\n          ),\n        },\n      })\n    );\n  }\n\n  analytics.sendEvent(this._clientPromise, \"paypal-checkout.updatePayment\");\n\n  return this._clientPromise\n    .then(function (client) {\n      return client.request({\n        endpoint: endpoint,\n        method: \"post\",\n        data: self._formatUpdatePaymentData(options),\n      });\n    })\n    .catch(function (err) {\n      var status = err.details && err.details.httpStatus;\n\n      if (status === 422) {\n        analytics.sendEvent(\n          self._clientPromise,\n          \"paypal-checkout.updatePayment.invalid\"\n        );\n\n        return Promise.reject(\n          new BraintreeError({\n            type: errors.PAYPAL_INVALID_PAYMENT_OPTION.type,\n            code: errors.PAYPAL_INVALID_PAYMENT_OPTION.code,\n            message: errors.PAYPAL_INVALID_PAYMENT_OPTION.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      }\n\n      analytics.sendEvent(\n        self._clientPromise,\n        \"paypal-checkout.updatePayment.\" + errors.PAYPAL_FLOW_FAILED.code\n      );\n\n      return Promise.reject(\n        convertToBraintreeError(err, {\n          type: errors.PAYPAL_FLOW_FAILED.type,\n          code: errors.PAYPAL_FLOW_FAILED.code,\n          message: errors.PAYPAL_FLOW_FAILED.message,\n        })\n      );\n    });\n};\n\n/**\n * Initializes the PayPal checkout flow with a payment method nonce that represents a vaulted PayPal account.\n * When a {@link callback} is defined, the function returns undefined and invokes the callback with the id to be used with the PayPal JS SDK. Otherwise, it returns a Promise that resolves with the id.\n * @public\n * @ignore\n * @param {object} options These options are identical to the {@link PayPalCheckout#createPayment|options for creating a payment resource}, except for the following:\n * * `flow` cannot be set (will always be `'checkout'`)\n * * `amount`, `currency`, and `vaultInitiatedCheckoutPaymentMethodToken` are required instead of optional\n * * Additional configuration is available (listed below)\n * @param {boolean} [options.optOutOfModalBackdrop=false] By default, the webpage will darken and become unusable while the PayPal window is open. For full control of the UI, pass `true` for this option.\n * @param {callback} [callback] The second argument, <code>payload</code>, is a {@link PayPalCheckout~tokenizePayload|tokenizePayload}. If no callback is provided, the promise resolves with a {@link PayPalCheckout~tokenizePayload|tokenizePayload}.\n * @example\n * paypalCheckoutInstance.startVaultInitiatedCheckout({\n *   vaultInitiatedCheckoutPaymentMethodToken: 'nonce-that-represents-a-vaulted-paypal-account',\n *   amount: '10.00',\n *   currency: 'USD'\n * }).then(function (payload) {\n *   // send payload.nonce to your server\n * }).catch(function (err) {\n *   if (err.code === 'PAYPAL_POPUP_CLOSED') {\n *     // indicates that customer canceled by\n *     // manually closing the PayPal popup\n *   }\n *\n *   // handle other errors\n * });\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.startVaultInitiatedCheckout = function (options) {\n  var missingRequiredParam;\n  var self = this;\n\n  if (this._vaultInitiatedCheckoutInProgress) {\n    analytics.sendEvent(\n      this._clientPromise,\n      \"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress\"\n    );\n\n    return Promise.reject(\n      new BraintreeError(\n        errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS\n      )\n    );\n  }\n\n  REQUIRED_PARAMS_FOR_START_VAULT_INITIATED_CHECKOUT.forEach(function (param) {\n    if (!options.hasOwnProperty(param)) {\n      missingRequiredParam = param;\n    }\n  });\n\n  if (missingRequiredParam) {\n    return Promise.reject(\n      new BraintreeError({\n        type: errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,\n        code: errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,\n        message: \"Required param \" + missingRequiredParam + \" is missing.\",\n      })\n    );\n  }\n\n  this._vaultInitiatedCheckoutInProgress = true;\n  this._addModalBackdrop(options);\n\n  options = assign({}, options, {\n    flow: \"checkout\",\n  });\n\n  analytics.sendEvent(\n    this._clientPromise,\n    \"paypal-checkout.startVaultInitiatedCheckout.started\"\n  );\n\n  return this._waitForVaultInitiatedCheckoutDependencies()\n    .then(function () {\n      var frameCommunicationPromise = new ExtendedPromise();\n      var startVaultInitiatedCheckoutPromise = self\n        ._createPaymentResource(options, {\n          returnUrl: self._constructVaultCheckutUrl(\"redirect-frame\"),\n          cancelUrl: self._constructVaultCheckutUrl(\"cancel-frame\"),\n        })\n        .then(function (response) {\n          var redirectUrl = response.paymentResource.redirectUrl;\n\n          self._frameService.redirect(redirectUrl);\n\n          return frameCommunicationPromise;\n        });\n\n      self._frameService.open(\n        {},\n        self._createFrameServiceCallback(frameCommunicationPromise)\n      );\n\n      return startVaultInitiatedCheckoutPromise;\n    })\n    .catch(function (err) {\n      self._vaultInitiatedCheckoutInProgress = false;\n      self._removeModalBackdrop();\n\n      if (err.code === \"FRAME_SERVICE_FRAME_CLOSED\") {\n        analytics.sendEvent(\n          self._clientPromise,\n          \"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer\"\n        );\n\n        return Promise.reject(\n          new BraintreeError(\n            errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED\n          )\n        );\n      }\n\n      if (self._frameService) {\n        self._frameService.close();\n      }\n\n      if (\n        err.code &&\n        err.code.indexOf(\"FRAME_SERVICE_FRAME_OPEN_FAILED\") > -1\n      ) {\n        analytics.sendEvent(\n          self._clientPromise,\n          \"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened\"\n        );\n\n        return Promise.reject(\n          new BraintreeError({\n            code: errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED\n              .code,\n            type: errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED\n              .type,\n            message:\n              errors.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED\n                .message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      }\n\n      return Promise.reject(err);\n    })\n    .then(function (response) {\n      self._frameService.close();\n      self._vaultInitiatedCheckoutInProgress = false;\n      self._removeModalBackdrop();\n      analytics.sendEvent(\n        self._clientPromise,\n        \"paypal-checkout.startVaultInitiatedCheckout.succeeded\"\n      );\n\n      return Promise.resolve(response);\n    });\n};\n\nPayPalCheckout.prototype._addModalBackdrop = function (options) {\n  if (options.optOutOfModalBackdrop) {\n    return;\n  }\n\n  if (!this._modalBackdrop) {\n    this._modalBackdrop = document.createElement(\"div\");\n    this._modalBackdrop.setAttribute(\n      \"data-braintree-paypal-vault-initiated-checkout-modal\",\n      true\n    );\n    this._modalBackdrop.style.position = \"fixed\";\n    this._modalBackdrop.style.top = 0;\n    this._modalBackdrop.style.bottom = 0;\n    this._modalBackdrop.style.left = 0;\n    this._modalBackdrop.style.right = 0;\n    this._modalBackdrop.style.zIndex = 9999;\n    this._modalBackdrop.style.background = \"black\";\n    this._modalBackdrop.style.opacity = \"0.7\";\n    this._modalBackdrop.addEventListener(\n      \"click\",\n      function () {\n        this.focusVaultInitiatedCheckoutWindow();\n      }.bind(this)\n    );\n  }\n\n  document.body.appendChild(this._modalBackdrop);\n};\n\nPayPalCheckout.prototype._removeModalBackdrop = function () {\n  if (!(this._modalBackdrop && this._modalBackdrop.parentNode)) {\n    return;\n  }\n\n  this._modalBackdrop.parentNode.removeChild(this._modalBackdrop);\n};\n\n/**\n * Closes the PayPal window if it is opened via `startVaultInitiatedCheckout`.\n * @public\n * @ignore\n * @param {callback} [callback] Gets called when window is closed.\n * @example\n * paypalCheckoutInstance.closeVaultInitiatedCheckoutWindow();\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.closeVaultInitiatedCheckoutWindow = function () {\n  if (this._vaultInitiatedCheckoutInProgress) {\n    analytics.sendEvent(\n      this._clientPromise,\n      \"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant\"\n    );\n  }\n\n  return this._waitForVaultInitiatedCheckoutDependencies().then(\n    function () {\n      this._frameService.close();\n    }.bind(this)\n  );\n};\n\n/**\n * Focuses the PayPal window if it is opened via `startVaultInitiatedCheckout`.\n * @public\n * @ignore\n * @param {callback} [callback] Gets called when window is focused.\n * @example\n * paypalCheckoutInstance.focusVaultInitiatedCheckoutWindow();\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.focusVaultInitiatedCheckoutWindow = function () {\n  return this._waitForVaultInitiatedCheckoutDependencies().then(\n    function () {\n      this._frameService.focus();\n    }.bind(this)\n  );\n};\n\nPayPalCheckout.prototype._createFrameServiceCallback = function (\n  frameCommunicationPromise\n) {\n  var self = this;\n\n  // TODO when a merchant integrates an iOS or Android integration\n  // with a webview using the web SDK, we will have to add popupbridge\n  // support\n  return function (err, payload) {\n    if (err) {\n      frameCommunicationPromise.reject(err);\n    } else if (payload) {\n      self._frameService.redirect(self._loadingFrameUrl);\n      self\n        .tokenizePayment({\n          paymentToken: payload.token,\n          payerID: payload.PayerID,\n          paymentID: payload.paymentId,\n        })\n        .then(function (res) {\n          frameCommunicationPromise.resolve(res);\n        })\n        .catch(function (tokenizationError) {\n          frameCommunicationPromise.reject(tokenizationError);\n        });\n    }\n  };\n};\n\nPayPalCheckout.prototype._waitForVaultInitiatedCheckoutDependencies =\n  function () {\n    var self = this;\n\n    return this._clientPromise.then(function () {\n      return self._frameServicePromise;\n    });\n  };\n\nPayPalCheckout.prototype._constructVaultCheckutUrl = function (frameName) {\n  var serviceId = this._frameService._serviceId;\n\n  return (\n    this._assetsUrl +\n    \"/html/\" +\n    frameName +\n    useMin(this._isDebug) +\n    \".html?channel=\" +\n    serviceId\n  );\n};\n\n/**\n * Tokenizes the authorize data from the PayPal JS SDK when completing a buyer approval flow.\n * When a {@link callback} is defined, invokes the callback with {@link PayPalCheckout~tokenizePayload|tokenizePayload} and returns undefined. Otherwise, returns a Promise that resolves with a {@link PayPalCheckout~tokenizePayload|tokenizePayload}.\n * @public\n * @param {object} tokenizeOptions Tokens and IDs required to tokenize the payment.\n * @param {string} tokenizeOptions.payerId Payer ID returned by PayPal `onApproved` callback.\n * @param {string} [tokenizeOptions.paymentId] Payment ID returned by PayPal `onApproved` callback.\n * @param {string} [tokenizeOptions.billingToken] Billing Token returned by PayPal `onApproved` callback.\n * @param {boolean} [tokenizeOptions.vault=true] Whether or not to vault the resulting PayPal account (if using a client token generated with a customer id and the vault flow).\n * @param {callback} [callback] The second argument, <code>payload</code>, is a {@link PayPalCheckout~tokenizePayload|tokenizePayload}. If no callback is provided, the promise resolves with a {@link PayPalCheckout~tokenizePayload|tokenizePayload}.\n * @example <caption>Opt out of auto-vaulting behavior</caption>\n * // create the paypalCheckoutInstance with a client token generated with a customer id\n * paypal.Buttons({\n *   createBillingAgreement: function () {\n *     return paypalCheckoutInstance.createPayment({\n *       flow: 'vault'\n *       // your other createPayment options here\n *     });\n *   },\n *   onApproved: function (data) {\n *     data.vault = false;\n *\n *     return paypalCheckoutInstance.tokenizePayment(data);\n *   },\n *   // Add other options, e.g. onCancel, onError\n * }).render('#paypal-button');\n *\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.tokenizePayment = function (tokenizeOptions) {\n  var self = this;\n  var shouldVault = true;\n  var payload;\n  var options = {\n    flow:\n      tokenizeOptions.billingToken && !tokenizeOptions.paymentID\n        ? \"vault\"\n        : \"checkout\",\n    intent: tokenizeOptions.intent || this.intentFromCreatePayment,\n  };\n  var params = {\n    // The paymentToken provided by the PayPal JS SDK is the EC Token\n    ecToken: tokenizeOptions.paymentToken,\n    billingToken: tokenizeOptions.billingToken,\n    payerId: tokenizeOptions.payerID,\n    paymentId: tokenizeOptions.paymentID,\n    shippingOptionsId: tokenizeOptions.shippingOptionsId,\n  };\n\n  if (tokenizeOptions.hasOwnProperty(\"vault\")) {\n    shouldVault = tokenizeOptions.vault;\n  }\n\n  options.vault = shouldVault;\n\n  analytics.sendEvent(\n    this._clientPromise,\n    \"paypal-checkout.tokenization.started\"\n  );\n\n  return this._clientPromise\n    .then(function (client) {\n      return client.request({\n        endpoint: \"payment_methods/paypal_accounts\",\n        method: \"post\",\n        data: self._formatTokenizeData(options, params),\n      });\n    })\n    .then(function (response) {\n      payload = self._formatTokenizePayload(response);\n\n      analytics.sendEvent(\n        self._clientPromise,\n        \"paypal-checkout.tokenization.success\"\n      );\n      if (payload.creditFinancingOffered) {\n        analytics.sendEvent(\n          self._clientPromise,\n          \"paypal-checkout.credit.accepted\"\n        );\n      }\n\n      return payload;\n    })\n    .catch(function (err) {\n      if (self._setupError) {\n        return Promise.reject(self._setupError);\n      }\n\n      analytics.sendEvent(\n        self._clientPromise,\n        \"paypal-checkout.tokenization.failed\"\n      );\n\n      return Promise.reject(\n        convertToBraintreeError(err, {\n          type: errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,\n          code: errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,\n          message: errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message,\n        })\n      );\n    });\n};\n\n/**\n * Resolves with the PayPal client id to be used when loading the PayPal SDK.\n * @public\n * @param {callback} [callback] The second argument, <code>id</code>, is a the PayPal client id. If no callback is provided, the promise resolves with the PayPal client id.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * paypalCheckoutInstance.getClientId().then(function (id) {\n *  var script = document.createElement('script');\n *\n *  script.src = 'https://www.paypal.com/sdk/js?client-id=' + id;\n *  script.onload = function () {\n *    // setup the PayPal SDK\n *  };\n *\n *  document.body.appendChild(script);\n * });\n */\nPayPalCheckout.prototype.getClientId = function () {\n  return this._clientPromise.then(function (client) {\n    return client.getConfiguration().gatewayConfiguration.paypal.clientId;\n  });\n};\n\n/**\n * Resolves when the PayPal SDK has been successfully loaded onto the page.\n * @public\n * @param {object} [options] A configuration object to modify the query params and data-attributes on the PayPal SDK. A subset of the parameters are listed below. For a full list of query params, see the [PayPal docs](https://developer.paypal.com/docs/checkout/reference/customize-sdk/?mark=query#query-parameters).\n * @param {string} [options.client-id] By default, this will be the client id associated with the authorization used to create the Braintree component. When used in conjunction with passing `authorization` when creating the PayPal Checkout component, you can speed up the loading of the PayPal SDK.\n * @param {string} [options.intent=\"authorize\"] By default, the PayPal SDK defaults to an intent of `capture`. Since the default intent when calling {@link PayPalCheckout#createPayment|`createPayment`} is `authorize`, the PayPal SDK will be loaded with `intent=authorize`. If you wish to use a different intent when calling {@link PayPalCheckout#createPayment|`createPayment`}, make sure it matches here. If `sale` is used, it will be converted to `capture` for the PayPal SDK. If the `vault: true` param is used, `tokenize` will be passed as the default intent.\n * @param {string} [options.locale=en_US] Use this option to change the language, links, and terminology used in the PayPal flow. This locale will be used unless the buyer has set a preferred locale for their account. If an unsupported locale is supplied, a fallback locale (determined by buyer preference or browser data) will be used and no error will be thrown.\n *\n * Supported locales are:\n * `da_DK`,\n * `de_DE`,\n * `en_AU`,\n * `en_GB`,\n * `en_US`,\n * `es_ES`,\n * `fr_CA`,\n * `fr_FR`,\n * `id_ID`,\n * `it_IT`,\n * `ja_JP`,\n * `ko_KR`,\n * `nl_NL`,\n * `no_NO`,\n * `pl_PL`,\n * `pt_BR`,\n * `pt_PT`,\n * `ru_RU`,\n * `sv_SE`,\n * `th_TH`,\n * `zh_CN`,\n * `zh_HK`,\n * and `zh_TW`.\n *\n * @param {string} [options.currency=\"USD\"] If a currency is passed in {@link PayPalCheckout#createPayment|`createPayment`}, it must match the currency passed here.\n * @param {boolean} [options.vault] Must be `true` when using `flow: vault` in {@link PayPalCheckout#createPayment|`createPayment`}.\n * @param {string} [options.components=buttons] By default, the Braintree SDK will only load the PayPal smart buttons component. If you would like to load just the [messages component](https://developer.paypal.com/docs/business/checkout/add-capabilities/credit-messaging/), pass `messages`. If you would like to load both, pass `buttons,messages`\n * @param {object} [options.dataAttributes] The data attributes to apply to the script. Any data attribute can be passed. A subset of the parameters are listed below. For a full list of data attributes, see the [PayPal docs](https://developer.paypal.com/docs/checkout/reference/customize-sdk/#script-parameters).\n * @param {string} [options.dataAttributes.client-token] The client token to use in the script. (usually not needed)\n * @param {string} [options.dataAttributes.csp-nonce] See the [PayPal docs about content security nonces](https://developer.paypal.com/docs/checkout/reference/customize-sdk/#csp-nonce).\n * @param {callback} [callback] Called when the PayPal SDK has been loaded onto the page. The second argument is the PayPal Checkout instance. If no callback is provided, the promise resolves with the PayPal Checkout instance when the PayPal SDK has been loaded onto the page.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example <caption>Without options</caption>\n * paypalCheckoutInstance.loadPayPalSDK().then(function () {\n *   // window.paypal.Buttons is now available to use\n * });\n * @example <caption>With options</caption>\n * paypalCheckoutInstance.loadPayPalSDK({\n *   'client-id': 'PayPal Client Id', // Can speed up rendering time to hardcode this value\n *\n *   intent: 'capture', // Make sure this value matches the value in createPayment\n *   currency: 'USD', // Make sure this value matches the value in createPayment\n * }).then(function () {\n *   // window.paypal.Buttons is now available to use\n * });\n * @example <caption>With Vaulting</caption>\n * paypalCheckoutInstance.loadPayPalSDK({\n *   vault: true\n * }).then(function () {\n *   // window.paypal.Buttons is now available to use\n * });\n */\nPayPalCheckout.prototype.loadPayPalSDK = function (options) {\n  var idPromise, src;\n  var loadPromise = new ExtendedPromise();\n  var dataAttributes = (options && options.dataAttributes) || {};\n  var userIdToken =\n    dataAttributes[\"user-id-token\"] || dataAttributes[\"data-user-id-token\"];\n\n  if (!userIdToken) {\n    userIdToken =\n      this._authorizationInformation.fingerprint &&\n      this._authorizationInformation.fingerprint.split(\"?\")[0];\n  }\n\n  this._paypalScript = document.createElement(\"script\");\n\n  // NEXT_MAJOR_VERSION\n  // this options object should have 2 properties:\n  // * queryParams\n  // * dataAttributes\n  // should make organizing this better than squashing\n  // all the query params at the top level and extracting\n  // the data attributes\n  options = assign(\n    {},\n    {\n      components: \"buttons\",\n    },\n    options\n  );\n  delete options.dataAttributes;\n\n  // NEXT_MAJOR_VERSION if merchant passes an explicit intent,\n  // currency, amount, etc, save those for use in createPayment\n  // if no explicit param of that type is passed in when calling\n  // createPayment to reduce the number of items that need to be\n  // duplicated here and in createPayment\n  if (options.vault) {\n    options.intent = options.intent || \"tokenize\";\n  } else {\n    options.intent = options.intent || \"authorize\";\n    options.currency = options.currency || \"USD\";\n  }\n\n  src = \"https://www.paypal.com/sdk/js?\";\n  this._paypalScript.onload = function () {\n    loadPromise.resolve();\n  };\n\n  Object.keys(dataAttributes).forEach(\n    function (attribute) {\n      this._paypalScript.setAttribute(\n        \"data-\" + attribute.replace(/^data\\-/, \"\"),\n        dataAttributes[attribute]\n      );\n    }.bind(this)\n  );\n\n  if (options[\"client-id\"]) {\n    idPromise = Promise.resolve(options[\"client-id\"]);\n  } else {\n    idPromise = this.getClientId();\n  }\n\n  idPromise.then(\n    function (id) {\n      options[\"client-id\"] = id;\n\n      if (this._autoSetDataUserIdToken && userIdToken) {\n        this._paypalScript.setAttribute(\"data-user-id-token\", userIdToken);\n\n        // preloading improves the rendering time of the PayPal button\n        this._attachPreloadPixel({\n          id: id,\n          userIdToken: userIdToken,\n          amount: dataAttributes.amount,\n          currency: options.currency,\n          merchantId: options[\"merchant-id\"],\n        });\n      }\n\n      this._paypalScript.src = querystring.queryify(src, options);\n      document.head.insertBefore(\n        this._paypalScript,\n        document.head.firstElementChild\n      );\n    }.bind(this)\n  );\n\n  return loadPromise.then(\n    function () {\n      return this;\n    }.bind(this)\n  );\n};\n\nPayPalCheckout.prototype._attachPreloadPixel = function (options) {\n  var request;\n  var id = options.id;\n  var userIdToken = options.userIdToken;\n  var env = this._authorizationInformation.environment;\n  var subdomain = env === \"production\" ? \"\" : \"sandbox.\";\n  var url = PAYPAL_SDK_PRELOAD_URL.replace(\"{ENV}\", subdomain);\n  var preloadOptions = {\n    \"client-id\": id,\n    \"user-id-token\": userIdToken,\n  };\n\n  if (options.amount) {\n    preloadOptions.amount = options.amount;\n  }\n  if (options.currency) {\n    preloadOptions.currency = options.currency;\n  }\n  if (options.merchantId) {\n    preloadOptions[\"merchant-id\"] = options.merchantId;\n  }\n\n  request = new XMLHttpRequest();\n  request.open(\"GET\", querystring.queryify(url, preloadOptions));\n  request.send();\n};\n\nPayPalCheckout.prototype._formatPaymentResourceData = function (\n  options,\n  config\n) {\n  var key;\n  var gatewayConfiguration = this._configuration.gatewayConfiguration;\n  // NEXT_MAJOR_VERSION default value for intent in PayPal SDK is capture\n  // but our integrations default value is authorize. Default this to capture\n  // in the next major version.\n  var intent = options.intent;\n  var paymentResource = {\n    // returnUrl and cancelUrl are required in hermes create_payment_resource route\n    // but are not used by the PayPal sdk, except to redirect to an error page\n    returnUrl: config.returnUrl || \"https://www.paypal.com/checkoutnow/error\",\n    cancelUrl: config.cancelUrl || \"https://www.paypal.com/checkoutnow/error\",\n    offerPaypalCredit: options.offerCredit === true,\n    merchantAccountId: this._merchantAccountId,\n    experienceProfile: {\n      brandName: options.displayName || gatewayConfiguration.paypal.displayName,\n      localeCode: options.locale,\n      noShipping: (!options.enableShippingAddress).toString(),\n      addressOverride: options.shippingAddressEditable === false,\n      landingPageType: options.landingPageType,\n    },\n    shippingOptions: options.shippingOptions,\n  };\n\n  if (options.flow === \"checkout\") {\n    paymentResource.amount = options.amount;\n    paymentResource.currencyIsoCode = options.currency;\n    paymentResource.requestBillingAgreement = options.requestBillingAgreement;\n\n    if (intent) {\n      // 'sale' has been changed to 'capture' in PayPal's backend, but\n      // we use an old version with 'sale'. We provide capture as an alias\n      // to match the PayPal SDK\n      if (intent === \"capture\") {\n        intent = \"sale\";\n      }\n      paymentResource.intent = intent;\n    }\n\n    if (options.hasOwnProperty(\"lineItems\")) {\n      paymentResource.lineItems = options.lineItems;\n    }\n\n    if (options.hasOwnProperty(\"vaultInitiatedCheckoutPaymentMethodToken\")) {\n      paymentResource.vaultInitiatedCheckoutPaymentMethodToken =\n        options.vaultInitiatedCheckoutPaymentMethodToken;\n    }\n\n    if (options.hasOwnProperty(\"shippingOptions\")) {\n      paymentResource.shippingOptions = options.shippingOptions;\n    }\n\n    for (key in options.shippingAddressOverride) {\n      if (options.shippingAddressOverride.hasOwnProperty(key)) {\n        paymentResource[key] = options.shippingAddressOverride[key];\n      }\n    }\n\n    if (options.hasOwnProperty(\"billingAgreementDetails\")) {\n      paymentResource.billingAgreementDetails = options.billingAgreementDetails;\n    }\n  } else {\n    paymentResource.shippingAddress = options.shippingAddressOverride;\n\n    if (options.billingAgreementDescription) {\n      paymentResource.description = options.billingAgreementDescription;\n    }\n  }\n\n  // this needs to be set outside of the block where add it to the\n  // payment request so that a follow up tokenization call can use it,\n  // but if a second create payment resource call is made without\n  // the correlation id, we want to reset it to undefined so that the\n  // tokenization call does not use a stale correlation id\n  this._riskCorrelationId = options.riskCorrelationId;\n  if (options.riskCorrelationId) {\n    paymentResource.correlationId = this._riskCorrelationId;\n  }\n\n  return paymentResource;\n};\n\n/**\n * @ignore\n * @static\n * @function _verifyConsistentCurrency\n * Verifies that `options.currency` and the currencies for each `shippingOption` the same.\n * @param {object} options `options` provided for `updatePayment`.\n * @returns {boolean} true is currencies match (or no shipping options); false if currencies do not match.\n */\n\nPayPalCheckout.prototype._verifyConsistentCurrency = function (options) {\n  if (\n    options.currency &&\n    options.hasOwnProperty(\"shippingOptions\") &&\n    Array.isArray(options.shippingOptions)\n  ) {\n    return options.shippingOptions.every(function (item) {\n      return (\n        item.amount &&\n        item.amount.currency &&\n        options.currency.toLowerCase() === item.amount.currency.toLowerCase()\n      );\n    });\n  }\n\n  return true;\n};\n\n/**\n * @ignore\n * @static\n * @function _hasMissingOption\n * @param {object} options All options provided for intiating the PayPal flow.\n * @param {array} required A list of required inputs that must be include as part of the options.\n * @returns {boolean} Returns a boolean.\n */\n\nPayPalCheckout.prototype._hasMissingOption = function (options, required) {\n  var i, option;\n\n  required = required || [];\n\n  if (\n    !options.hasOwnProperty(\"amount\") &&\n    !options.hasOwnProperty(\"lineItems\")\n  ) {\n    return true;\n  }\n\n  for (i = 0; i < required.length; i++) {\n    option = required[i];\n\n    if (!options.hasOwnProperty(option)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nPayPalCheckout.prototype._formatUpdatePaymentData = function (options) {\n  var self = this;\n  var paymentResource = {\n    merchantAccountId: this._merchantAccountId,\n    paymentId: options.paymentId,\n    currencyIsoCode: options.currency,\n  };\n\n  if (options.hasOwnProperty(\"amount\")) {\n    paymentResource.amount = options.amount;\n  }\n\n  if (options.hasOwnProperty(\"lineItems\")) {\n    paymentResource.lineItems = options.lineItems;\n  }\n\n  if (options.hasOwnProperty(\"shippingOptions\")) {\n    paymentResource.shippingOptions = options.shippingOptions;\n  }\n\n  /* shippingAddress not supported yet */\n  if (options.hasOwnProperty(\"shippingAddress\")) {\n    analytics.sendEvent(\n      self._clientPromise,\n      \"paypal-checkout.updatePayment.shippingAddress.provided.by-the-merchant\"\n    );\n\n    paymentResource.line1 = options.shippingAddress.line1;\n\n    if (options.shippingAddress.hasOwnProperty(\"line2\")) {\n      paymentResource.line2 = options.shippingAddress.line2;\n    }\n\n    paymentResource.city = options.shippingAddress.city;\n    paymentResource.state = options.shippingAddress.state;\n    paymentResource.postalCode = options.shippingAddress.postalCode;\n    paymentResource.countryCode = options.shippingAddress.countryCode;\n\n    if (options.shippingAddress.hasOwnProperty(\"phone\")) {\n      paymentResource.phone = options.shippingAddress.phone;\n    }\n\n    if (options.shippingAddress.hasOwnProperty(\"recipientName\")) {\n      paymentResource.recipientName = options.shippingAddress.recipientName;\n    }\n  }\n\n  return paymentResource;\n};\n\nPayPalCheckout.prototype._formatTokenizeData = function (options, params) {\n  var clientConfiguration = this._configuration;\n  var gatewayConfiguration = clientConfiguration.gatewayConfiguration;\n  var isTokenizationKey =\n    clientConfiguration.authorizationType === \"TOKENIZATION_KEY\";\n  var isVaultFlow = options.flow === \"vault\";\n  var correlationId =\n    this._riskCorrelationId || params.billingToken || params.ecToken;\n  var data = {\n    paypalAccount: {\n      correlationId: correlationId,\n      options: {\n        validate: isVaultFlow && !isTokenizationKey && options.vault,\n      },\n    },\n  };\n\n  if (isVaultFlow) {\n    data.paypalAccount.billingAgreementToken = params.billingToken;\n  } else {\n    data.paypalAccount.paymentToken = params.paymentId;\n    data.paypalAccount.payerId = params.payerId;\n    data.paypalAccount.unilateral =\n      gatewayConfiguration.paypal.unvettedMerchant;\n\n    if (options.intent) {\n      data.paypalAccount.intent = options.intent;\n    }\n  }\n\n  if (this._merchantAccountId) {\n    data.merchantAccountId = this._merchantAccountId;\n  }\n\n  return data;\n};\n\nPayPalCheckout.prototype._formatTokenizePayload = function (response) {\n  var payload;\n  var account = {};\n\n  if (response.paypalAccounts) {\n    account = response.paypalAccounts[0];\n  }\n\n  payload = {\n    nonce: account.nonce,\n    details: {},\n    type: account.type,\n  };\n\n  if (account.details && account.details.payerInfo) {\n    payload.details = account.details.payerInfo;\n  }\n\n  if (account.details && account.details.creditFinancingOffered) {\n    payload.creditFinancingOffered = account.details.creditFinancingOffered;\n  }\n\n  if (account.details && account.details.shippingOptionId) {\n    payload.shippingOptionId = account.details.shippingOptionId;\n  }\n\n  if (account.details && account.details.cobrandedCardLabel) {\n    payload.cobrandedCardLabel = account.details.cobrandedCardLabel;\n  }\n\n  return payload;\n};\n\n/**\n * Cleanly tear down anything set up by {@link module:braintree-web/paypal-checkout.create|create}.\n * @public\n * @param {callback} [callback] Called once teardown is complete. No data is returned if teardown completes successfully.\n * @example\n * paypalCheckoutInstance.teardown();\n * @example <caption>With callback</caption>\n * paypalCheckoutInstance.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nPayPalCheckout.prototype.teardown = function () {\n  var self = this;\n\n  convertMethodsToError(this, methods(PayPalCheckout.prototype));\n\n  if (this._paypalScript && this._paypalScript.parentNode) {\n    this._paypalScript.parentNode.removeChild(this._paypalScript);\n  }\n\n  return this._frameServicePromise\n    .catch(function () {\n      // no need to error in teardown for an error setting up the frame service\n    })\n    .then(function () {\n      if (!self._frameService) {\n        return Promise.resolve();\n      }\n\n      return self._frameService.teardown();\n    });\n};\n\nmodule.exports = wrapPromise.wrapPrototype(PayPalCheckout);\n\n},{\"../lib/analytics\":47,\"../lib/assign\":49,\"../lib/braintree-error\":51,\"../lib/constants\":52,\"../lib/convert-methods-to-error\":53,\"../lib/convert-to-braintree-error\":54,\"../lib/create-assets-url\":55,\"../lib/create-authorization-data\":56,\"../lib/create-deferred-client\":57,\"../lib/frame-service/external\":61,\"../lib/methods\":72,\"../lib/querystring\":73,\"../lib/use-min\":74,\"../paypal/shared/constants\":79,\"./errors\":76,\"@braintree/extended-promise\":20,\"@braintree/wrap-promise\":29}],79:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = {\n  LANDING_FRAME_NAME: \"braintreepaypallanding\",\n  FLOW_ENDPOINTS: {\n    checkout: \"create_payment_resource\",\n    vault: \"setup_billing_agreement\",\n  },\n  REQUIRED_OPTIONS: [\"paymentId\", \"currency\"],\n};\n\n},{}]},{},[77])(77)\n});\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}(g.braintree || (g.braintree = {})).usBankAccount = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PromiseGlobal = void 0;\nvar promise_polyfill_1 = __importDefault(_dereq_(\"promise-polyfill\"));\nvar PromiseGlobal = \n// eslint-disable-next-line no-undef\ntypeof Promise !== \"undefined\" ? Promise : promise_polyfill_1.default;\nexports.PromiseGlobal = PromiseGlobal;\n\n},{\"promise-polyfill\":8}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar promise_1 = _dereq_(\"./lib/promise\");\nvar scriptPromiseCache = {};\nfunction loadScript(options) {\n    var scriptLoadPromise;\n    var stringifiedOptions = JSON.stringify(options);\n    if (!options.forceScriptReload) {\n        scriptLoadPromise = scriptPromiseCache[stringifiedOptions];\n        if (scriptLoadPromise) {\n            return scriptLoadPromise;\n        }\n    }\n    var script = document.createElement(\"script\");\n    var attrs = options.dataAttributes || {};\n    var container = options.container || document.head;\n    script.src = options.src;\n    script.id = options.id || \"\";\n    script.async = true;\n    if (options.crossorigin) {\n        script.setAttribute(\"crossorigin\", \"\" + options.crossorigin);\n    }\n    Object.keys(attrs).forEach(function (key) {\n        script.setAttribute(\"data-\" + key, \"\" + attrs[key]);\n    });\n    scriptLoadPromise = new promise_1.PromiseGlobal(function (resolve, reject) {\n        script.addEventListener(\"load\", function () {\n            resolve(script);\n        });\n        script.addEventListener(\"error\", function () {\n            reject(new Error(options.src + \" failed to load.\"));\n        });\n        script.addEventListener(\"abort\", function () {\n            reject(new Error(options.src + \" has aborted.\"));\n        });\n        container.appendChild(script);\n    });\n    scriptPromiseCache[stringifiedOptions] = scriptLoadPromise;\n    return scriptLoadPromise;\n}\nloadScript.clearCache = function () {\n    scriptPromiseCache = {};\n};\nmodule.exports = loadScript;\n\n},{\"./lib/promise\":1}],3:[function(_dereq_,module,exports){\nmodule.exports = _dereq_(\"./dist/load-script\");\n\n},{\"./dist/load-script\":2}],4:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction deferred(fn) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        setTimeout(function () {\n            try {\n                fn.apply(void 0, args);\n            }\n            catch (err) {\n                /* eslint-disable no-console */\n                console.log(\"Error in callback function\");\n                console.log(err);\n                /* eslint-enable no-console */\n            }\n        }, 1);\n    };\n}\nexports.deferred = deferred;\n\n},{}],5:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction once(fn) {\n    var called = false;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!called) {\n            called = true;\n            fn.apply(void 0, args);\n        }\n    };\n}\nexports.once = once;\n\n},{}],6:[function(_dereq_,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable consistent-return */\nfunction promiseOrCallback(promise, callback) {\n    if (!callback) {\n        return promise;\n    }\n    promise.then(function (data) { return callback(null, data); }).catch(function (err) { return callback(err); });\n}\nexports.promiseOrCallback = promiseOrCallback;\n\n},{}],7:[function(_dereq_,module,exports){\n\"use strict\";\nvar deferred_1 = _dereq_(\"./lib/deferred\");\nvar once_1 = _dereq_(\"./lib/once\");\nvar promise_or_callback_1 = _dereq_(\"./lib/promise-or-callback\");\nfunction wrapPromise(fn) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callback;\n        var lastArg = args[args.length - 1];\n        if (typeof lastArg === \"function\") {\n            callback = args.pop();\n            callback = once_1.once(deferred_1.deferred(callback));\n        }\n        // I know, I know, this looks bad. But it's a quirk of the library that\n        // we need to allow passing the this context to the original function\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore: this has an implicit any\n        return promise_or_callback_1.promiseOrCallback(fn.apply(this, args), callback); // eslint-disable-line no-invalid-this\n    };\n}\nwrapPromise.wrapPrototype = function (target, options) {\n    if (options === void 0) { options = {}; }\n    var ignoreMethods = options.ignoreMethods || [];\n    var includePrivateMethods = options.transformPrivateMethods === true;\n    var methods = Object.getOwnPropertyNames(target.prototype).filter(function (method) {\n        var isNotPrivateMethod;\n        var isNonConstructorFunction = method !== \"constructor\" &&\n            typeof target.prototype[method] === \"function\";\n        var isNotAnIgnoredMethod = ignoreMethods.indexOf(method) === -1;\n        if (includePrivateMethods) {\n            isNotPrivateMethod = true;\n        }\n        else {\n            isNotPrivateMethod = method.charAt(0) !== \"_\";\n        }\n        return (isNonConstructorFunction && isNotPrivateMethod && isNotAnIgnoredMethod);\n    });\n    methods.forEach(function (method) {\n        var original = target.prototype[method];\n        target.prototype[method] = wrapPromise(original);\n    });\n    return target;\n};\nmodule.exports = wrapPromise;\n\n},{\"./lib/deferred\":4,\"./lib/once\":5,\"./lib/promise-or-callback\":6}],8:[function(_dereq_,module,exports){\n'use strict';\n\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nfunction allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nmodule.exports = Promise;\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar createAuthorizationData = _dereq_(\"./create-authorization-data\");\nvar jsonClone = _dereq_(\"./json-clone\");\nvar constants = _dereq_(\"./constants\");\n\nfunction addMetadata(configuration, data) {\n  var key;\n  var attrs = data ? jsonClone(data) : {};\n  var authAttrs = createAuthorizationData(configuration.authorization).attrs;\n  var _meta = jsonClone(configuration.analyticsMetadata);\n\n  attrs.braintreeLibraryVersion = constants.BRAINTREE_LIBRARY_VERSION;\n\n  for (key in attrs._meta) {\n    if (attrs._meta.hasOwnProperty(key)) {\n      _meta[key] = attrs._meta[key];\n    }\n  }\n\n  attrs._meta = _meta;\n\n  if (authAttrs.tokenizationKey) {\n    attrs.tokenizationKey = authAttrs.tokenizationKey;\n  } else {\n    attrs.authorizationFingerprint = authAttrs.authorizationFingerprint;\n  }\n\n  return attrs;\n}\n\nmodule.exports = addMetadata;\n\n},{\"./constants\":14,\"./create-authorization-data\":17,\"./json-clone\":21}],10:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar constants = _dereq_(\"./constants\");\nvar addMetadata = _dereq_(\"./add-metadata\");\n\nfunction sendAnalyticsEvent(clientInstanceOrPromise, kind, callback) {\n  var timestamp = Date.now(); // milliseconds\n\n  return Promise.resolve(clientInstanceOrPromise)\n    .then(function (client) {\n      var timestampInPromise = Date.now();\n      var configuration = client.getConfiguration();\n      var request = client._request;\n      var url = configuration.gatewayConfiguration.analytics.url;\n      var data = {\n        analytics: [\n          {\n            kind: constants.ANALYTICS_PREFIX + kind,\n            isAsync:\n              Math.floor(timestampInPromise / 1000) !==\n              Math.floor(timestamp / 1000),\n            timestamp: timestamp,\n          },\n        ],\n      };\n\n      request(\n        {\n          url: url,\n          method: \"post\",\n          data: addMetadata(configuration, data),\n          timeout: constants.ANALYTICS_REQUEST_TIMEOUT_MS,\n        },\n        callback\n      );\n    })\n    .catch(function (err) {\n      // for all non-test cases, we don't provide a callback,\n      // so this error will always be swallowed. In this case,\n      // that's fine, it should only error when the deferred\n      // client fails to set up, in which case we don't want\n      // that error to report over and over again via these\n      // deferred analytics events\n      if (callback) {\n        callback(err);\n      }\n    });\n}\n\nmodule.exports = {\n  sendEvent: sendAnalyticsEvent,\n};\n\n},{\"./add-metadata\":9,\"./constants\":14}],11:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar loadScript = _dereq_(\"@braintree/asset-loader/load-script\");\n\nmodule.exports = {\n  loadScript: loadScript,\n};\n\n},{\"@braintree/asset-loader/load-script\":3}],12:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\nvar sharedErrors = _dereq_(\"./errors\");\nvar VERSION = \"3.94.0\";\n\nfunction basicComponentVerification(options) {\n  var client, authorization, name;\n\n  if (!options) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.type,\n        code: sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.code,\n        message:\n          \"Options must be passed to basicComponentVerification function.\",\n      })\n    );\n  }\n\n  name = options.name;\n  client = options.client;\n  authorization = options.authorization;\n\n  if (!client && !authorization) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,\n        code: sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,\n        // NEXT_MAJOR_VERSION in major version, we expose passing in authorization for all components\n        // instead of passing in a client instance. Leave this a silent feature for now.\n        message: \"options.client is required when instantiating \" + name + \".\",\n      })\n    );\n  }\n\n  if (!authorization && client.getVersion() !== VERSION) {\n    return Promise.reject(\n      new BraintreeError({\n        type: sharedErrors.INCOMPATIBLE_VERSIONS.type,\n        code: sharedErrors.INCOMPATIBLE_VERSIONS.code,\n        message:\n          \"Client (version \" +\n          client.getVersion() +\n          \") and \" +\n          name +\n          \" (version \" +\n          VERSION +\n          \") components must be from the same SDK version.\",\n      })\n    );\n  }\n\n  return Promise.resolve();\n}\n\nmodule.exports = {\n  verify: basicComponentVerification,\n};\n\n},{\"./braintree-error\":13,\"./errors\":20}],13:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar enumerate = _dereq_(\"./enumerate\");\n\n/**\n * @class\n * @global\n * @param {object} options Construction options\n * @classdesc This class is used to report error conditions, frequently as the first parameter to callbacks throughout the Braintree SDK.\n * @description <strong>You cannot use this constructor directly. Interact with instances of this class through {@link callback callbacks}.</strong>\n */\nfunction BraintreeError(options) {\n  if (!BraintreeError.types.hasOwnProperty(options.type)) {\n    throw new Error(options.type + \" is not a valid type.\");\n  }\n\n  if (!options.code) {\n    throw new Error(\"Error code required.\");\n  }\n\n  if (!options.message) {\n    throw new Error(\"Error message required.\");\n  }\n\n  this.name = \"BraintreeError\";\n\n  /**\n   * @type {string}\n   * @description A code that corresponds to specific errors.\n   */\n  this.code = options.code;\n\n  /**\n   * @type {string}\n   * @description A short description of the error.\n   */\n  this.message = options.message;\n\n  /**\n   * @type {BraintreeError.types}\n   * @description The type of error.\n   */\n  this.type = options.type;\n\n  /**\n   * @type {object=}\n   * @description Additional information about the error, such as an underlying network error response.\n   */\n  this.details = options.details;\n}\n\nBraintreeError.prototype = Object.create(Error.prototype);\nBraintreeError.prototype.constructor = BraintreeError;\n\n/**\n * Enum for {@link BraintreeError} types.\n * @name BraintreeError.types\n * @enum\n * @readonly\n * @memberof BraintreeError\n * @property {string} CUSTOMER An error caused by the customer.\n * @property {string} MERCHANT An error that is actionable by the merchant.\n * @property {string} NETWORK An error due to a network problem.\n * @property {string} INTERNAL An error caused by Braintree code.\n * @property {string} UNKNOWN An error where the origin is unknown.\n */\nBraintreeError.types = enumerate([\n  \"CUSTOMER\",\n  \"MERCHANT\",\n  \"NETWORK\",\n  \"INTERNAL\",\n  \"UNKNOWN\",\n]);\n\nBraintreeError.findRootError = function (err) {\n  if (\n    err instanceof BraintreeError &&\n    err.details &&\n    err.details.originalError\n  ) {\n    return BraintreeError.findRootError(err.details.originalError);\n  }\n\n  return err;\n};\n\nmodule.exports = BraintreeError;\n\n},{\"./enumerate\":19}],14:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar VERSION = \"3.94.0\";\nvar PLATFORM = \"web\";\n\nvar CLIENT_API_URLS = {\n  production: \"https://api.braintreegateway.com:443\",\n  sandbox: \"https://api.sandbox.braintreegateway.com:443\",\n};\n\nvar ASSETS_URLS = {\n  production: \"https://assets.braintreegateway.com\",\n  sandbox: \"https://assets.braintreegateway.com\",\n};\n\nvar GRAPHQL_URLS = {\n  production: \"https://payments.braintree-api.com/graphql\",\n  sandbox: \"https://payments.sandbox.braintree-api.com/graphql\",\n};\n\n// endRemoveIf(production)\n\nmodule.exports = {\n  ANALYTICS_PREFIX: PLATFORM + \".\",\n  ANALYTICS_REQUEST_TIMEOUT_MS: 2000,\n  ASSETS_URLS: ASSETS_URLS,\n  CLIENT_API_URLS: CLIENT_API_URLS,\n  FRAUDNET_SOURCE: \"BRAINTREE_SIGNIN\",\n  FRAUDNET_FNCLS: \"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99\",\n  FRAUDNET_URL: \"https://c.paypal.com/da/r/fb.js\",\n  BUS_CONFIGURATION_REQUEST_EVENT: \"BUS_CONFIGURATION_REQUEST\",\n  GRAPHQL_URLS: GRAPHQL_URLS,\n  INTEGRATION_TIMEOUT_MS: 60000,\n  VERSION: VERSION,\n  INTEGRATION: \"custom\",\n  SOURCE: \"client\",\n  PLATFORM: PLATFORM,\n  BRAINTREE_LIBRARY_VERSION: \"braintree/\" + PLATFORM + \"/\" + VERSION,\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\nvar sharedErrors = _dereq_(\"./errors\");\n\nmodule.exports = function (instance, methodNames) {\n  methodNames.forEach(function (methodName) {\n    instance[methodName] = function () {\n      throw new BraintreeError({\n        type: sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.type,\n        code: sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.code,\n        message: methodName + \" cannot be called after teardown.\",\n      });\n    };\n  });\n};\n\n},{\"./braintree-error\":13,\"./errors\":20}],16:[function(_dereq_,module,exports){\n\"use strict\";\n\n// endRemoveIf(production)\nvar ASSETS_URLS = _dereq_(\"./constants\").ASSETS_URLS;\n\nfunction createAssetsUrl(authorization) {\n  // endRemoveIf(production)\n\n  return ASSETS_URLS.production;\n}\n/* eslint-enable */\n\nmodule.exports = {\n  create: createAssetsUrl,\n};\n\n},{\"./constants\":14}],17:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar atob = _dereq_(\"../lib/vendor/polyfill\").atob;\nvar CLIENT_API_URLS = _dereq_(\"../lib/constants\").CLIENT_API_URLS;\n\nfunction _isTokenizationKey(str) {\n  return /^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(str);\n}\n\nfunction _parseTokenizationKey(tokenizationKey) {\n  var tokens = tokenizationKey.split(\"_\");\n  var environment = tokens[0];\n  var merchantId = tokens.slice(2).join(\"_\");\n\n  return {\n    merchantId: merchantId,\n    environment: environment,\n  };\n}\n\nfunction createAuthorizationData(authorization) {\n  var parsedClientToken, parsedTokenizationKey;\n  var data = {\n    attrs: {},\n    configUrl: \"\",\n  };\n\n  if (_isTokenizationKey(authorization)) {\n    parsedTokenizationKey = _parseTokenizationKey(authorization);\n    data.environment = parsedTokenizationKey.environment;\n    data.attrs.tokenizationKey = authorization;\n    data.configUrl =\n      CLIENT_API_URLS[parsedTokenizationKey.environment] +\n      \"/merchants/\" +\n      parsedTokenizationKey.merchantId +\n      \"/client_api/v1/configuration\";\n  } else {\n    parsedClientToken = JSON.parse(atob(authorization));\n    data.environment = parsedClientToken.environment;\n    data.attrs.authorizationFingerprint =\n      parsedClientToken.authorizationFingerprint;\n    data.configUrl = parsedClientToken.configUrl;\n    data.graphQL = parsedClientToken.graphQL;\n  }\n\n  return data;\n}\n\nmodule.exports = createAuthorizationData;\n\n},{\"../lib/constants\":14,\"../lib/vendor/polyfill\":24}],18:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\nvar assets = _dereq_(\"./assets\");\nvar sharedErrors = _dereq_(\"./errors\");\n\nvar VERSION = \"3.94.0\";\n\nfunction createDeferredClient(options) {\n  var promise = Promise.resolve();\n\n  if (options.client) {\n    return Promise.resolve(options.client);\n  }\n\n  if (!(window.braintree && window.braintree.client)) {\n    promise = assets\n      .loadScript({\n        src: options.assetsUrl + \"/web/\" + VERSION + \"/js/client.min.js\",\n      })\n      .catch(function (err) {\n        return Promise.reject(\n          new BraintreeError({\n            type: sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.type,\n            code: sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.code,\n            message: sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.message,\n            details: {\n              originalError: err,\n            },\n          })\n        );\n      });\n  }\n\n  return promise.then(function () {\n    if (window.braintree.client.VERSION !== VERSION) {\n      return Promise.reject(\n        new BraintreeError({\n          type: sharedErrors.INCOMPATIBLE_VERSIONS.type,\n          code: sharedErrors.INCOMPATIBLE_VERSIONS.code,\n          message:\n            \"Client (version \" +\n            window.braintree.client.VERSION +\n            \") and \" +\n            options.name +\n            \" (version \" +\n            VERSION +\n            \") components must be from the same SDK version.\",\n        })\n      );\n    }\n\n    return window.braintree.client.create({\n      authorization: options.authorization,\n      debug: options.debug,\n    });\n  });\n}\n\nmodule.exports = {\n  create: createDeferredClient,\n};\n\n},{\"./assets\":11,\"./braintree-error\":13,\"./errors\":20}],19:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction enumerate(values, prefix) {\n  prefix = prefix == null ? \"\" : prefix;\n\n  return values.reduce(function (enumeration, value) {\n    enumeration[value] = prefix + value;\n\n    return enumeration;\n  }, {});\n}\n\nmodule.exports = enumerate;\n\n},{}],20:[function(_dereq_,module,exports){\n\"use strict\";\n\n/**\n * @name BraintreeError.Shared Internal Error Codes\n * @ignore\n * @description These codes should never be experienced by the merchant directly.\n * @property {INTERNAL} INVALID_USE_OF_INTERNAL_FUNCTION Occurs when the client is created without a gateway configuration. Should never happen.\n */\n\n/**\n * @name BraintreeError.Shared Errors - Component Creation Error Codes\n * @description Errors that occur when creating components.\n * @property {MERCHANT} INSTANTIATION_OPTION_REQUIRED Occurs when a component is created that is missing a required option.\n * @property {MERCHANT} INCOMPATIBLE_VERSIONS Occurs when a component is created with a client with a different version than the component.\n * @property {NETWORK} CLIENT_SCRIPT_FAILED_TO_LOAD Occurs when a component attempts to load the Braintree client script, but the request fails.\n */\n\n/**\n * @name BraintreeError.Shared Errors - Component Instance Error Codes\n * @description Errors that occur when using instances of components.\n * @property {MERCHANT} METHOD_CALLED_AFTER_TEARDOWN Occurs when a method is called on a component instance after it has been torn down.\n */\n\nvar BraintreeError = _dereq_(\"./braintree-error\");\n\nmodule.exports = {\n  INVALID_USE_OF_INTERNAL_FUNCTION: {\n    type: BraintreeError.types.INTERNAL,\n    code: \"INVALID_USE_OF_INTERNAL_FUNCTION\",\n  },\n  INSTANTIATION_OPTION_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"INSTANTIATION_OPTION_REQUIRED\",\n  },\n  INCOMPATIBLE_VERSIONS: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"INCOMPATIBLE_VERSIONS\",\n  },\n  CLIENT_SCRIPT_FAILED_TO_LOAD: {\n    type: BraintreeError.types.NETWORK,\n    code: \"CLIENT_SCRIPT_FAILED_TO_LOAD\",\n    message: \"Braintree client script could not be loaded.\",\n  },\n  METHOD_CALLED_AFTER_TEARDOWN: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"METHOD_CALLED_AFTER_TEARDOWN\",\n  },\n};\n\n},{\"./braintree-error\":13}],21:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (value) {\n  return JSON.parse(JSON.stringify(value));\n};\n\n},{}],22:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = function (obj) {\n  return Object.keys(obj).filter(function (key) {\n    return typeof obj[key] === \"function\";\n  });\n};\n\n},{}],23:[function(_dereq_,module,exports){\n\"use strict\";\n\nfunction once(fn) {\n  var called = false;\n\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(null, arguments);\n    }\n  };\n}\n\nmodule.exports = once;\n\n},{}],24:[function(_dereq_,module,exports){\n\"use strict\";\n\n// NEXT_MAJOR_VERSION old versions of IE don't have atob, in the\n// next major version, we're dropping support for those versions\n// so we can eliminate the need to have this atob polyfill\nvar atobNormalized = typeof atob === \"function\" ? atob : atobPolyfill;\n\nfunction atobPolyfill(base64String) {\n  var a, b, c, b1, b2, b3, b4, i;\n  var base64Matcher = new RegExp(\n    \"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$\"\n  );\n  var characters =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  var result = \"\";\n\n  if (!base64Matcher.test(base64String)) {\n    throw new Error(\"Non base64 encoded input passed to window.atob polyfill\");\n  }\n\n  i = 0;\n  do {\n    b1 = characters.indexOf(base64String.charAt(i++));\n    b2 = characters.indexOf(base64String.charAt(i++));\n    b3 = characters.indexOf(base64String.charAt(i++));\n    b4 = characters.indexOf(base64String.charAt(i++));\n\n    a = ((b1 & 0x3f) << 2) | ((b2 >> 4) & 0x3);\n    b = ((b2 & 0xf) << 4) | ((b3 >> 2) & 0xf);\n    c = ((b3 & 0x3) << 6) | (b4 & 0x3f);\n\n    result +=\n      String.fromCharCode(a) +\n      (b ? String.fromCharCode(b) : \"\") +\n      (c ? String.fromCharCode(c) : \"\");\n  } while (i < base64String.length);\n\n  return result;\n}\n\nmodule.exports = {\n  atob: function (base64String) {\n    return atobNormalized.call(window, base64String);\n  },\n  _atob: atobPolyfill,\n};\n\n},{}],25:[function(_dereq_,module,exports){\n\"use strict\";\n\nmodule.exports = {\n  PLAID_LINK_JS: \"https://cdn.plaid.com/link/v2/stable/link-initialize.js\",\n};\n\n},{}],26:[function(_dereq_,module,exports){\n\"use strict\";\n\n/**\n * @name BraintreeError.Us Bank Account - Creation Error Codes\n * @description Errors that occur when [creating the Us Bank Account component](./module-braintree-web_us-bank-account.html#.create).\n * @property {MERCHANT} US_BANK_ACCOUNT_NOT_ENABLED Occurs when US Bank Account is not enabled in the Braintree control panel.\n */\n\n/**\n * @name BraintreeError.Us Bank Account - tokenize Error Codes\n * @description Errors that occur when using the [`tokenize` method](./UsBankAccount.html#tokenize).\n * @property {MERCHANT} US_BANK_ACCOUNT_OPTION_REQUIRED Occurs when a required option is not passed.\n * @property {MERCHANT} US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS Occurs when 1 or more incompatible options are passed.\n * @property {NETWORK} US_BANK_ACCOUNT_LOGIN_LOAD_FAILED Occurs when bank login flow fails.\n * @property {CUSTOMER} US_BANK_ACCOUNT_LOGIN_CLOSED Occurs when bank login window is closed.\n * @property {MERCHANT} US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE Occurs when a bank login flow is already active.\n * @property {NETWORK} US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR Occurs when payment details could not be tokenized.\n * @property {CUSTOMER} US_BANK_ACCOUNT_FAILED_TOKENIZATION Occurs when payment details failed to be tokenized.\n * @property {MERCHANT} US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED Occurs when bank login flow is not enabled in the Braintree control panel.\n */\n\nvar BraintreeError = _dereq_(\"../lib/braintree-error\");\n\nmodule.exports = {\n  US_BANK_ACCOUNT_OPTION_REQUIRED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"US_BANK_ACCOUNT_OPTION_REQUIRED\",\n  },\n  US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS\",\n  },\n  US_BANK_ACCOUNT_LOGIN_LOAD_FAILED: {\n    type: BraintreeError.types.NETWORK,\n    code: \"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED\",\n    message: \"Bank login flow failed to load.\",\n  },\n  US_BANK_ACCOUNT_LOGIN_CLOSED: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"US_BANK_ACCOUNT_LOGIN_CLOSED\",\n    message: \"Customer closed bank login flow before authorizing.\",\n  },\n  US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE\",\n    message: \"Another bank login tokenization request is active.\",\n  },\n  US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR: {\n    type: BraintreeError.types.NETWORK,\n    code: \"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR\",\n    message: \"A tokenization network error occurred.\",\n  },\n  US_BANK_ACCOUNT_FAILED_TOKENIZATION: {\n    type: BraintreeError.types.CUSTOMER,\n    code: \"US_BANK_ACCOUNT_FAILED_TOKENIZATION\",\n    message: \"The supplied data failed tokenization.\",\n  },\n  US_BANK_ACCOUNT_NOT_ENABLED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"US_BANK_ACCOUNT_NOT_ENABLED\",\n    message: \"US bank account is not enabled.\",\n  },\n  US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED: {\n    type: BraintreeError.types.MERCHANT,\n    code: \"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED\",\n    message: \"Bank login is not enabled.\",\n  },\n};\n\n},{\"../lib/braintree-error\":13}],27:[function(_dereq_,module,exports){\n\"use strict\";\n/**\n * @module braintree-web/us-bank-account\n * @description This module is for accepting payments of US bank accounts.\n */\n\nvar basicComponentVerification = _dereq_(\"../lib/basic-component-verification\");\nvar BraintreeError = _dereq_(\"../lib/braintree-error\");\nvar createDeferredClient = _dereq_(\"../lib/create-deferred-client\");\nvar createAssetsUrl = _dereq_(\"../lib/create-assets-url\");\nvar errors = _dereq_(\"./errors\");\nvar USBankAccount = _dereq_(\"./us-bank-account\");\nvar VERSION = \"3.94.0\";\nvar wrapPromise = _dereq_(\"@braintree/wrap-promise\");\n\n/**\n * @static\n * @function create\n * @param {object} options Creation options:\n * @param {Client} [options.client] A {@link Client} instance.\n * @param {string} [options.authorization] A tokenizationKey or clientToken. Can be used in place of `options.client`.\n * @param {callback} [callback] The second argument, `data`, is the {@link USBankAccount} instance. If no callback is provided, `create` returns a promise that resolves with the {@link USBankAccount} instance.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nfunction create(options) {\n  var name = \"US Bank Account\";\n\n  return basicComponentVerification\n    .verify({\n      name: name,\n      client: options.client,\n      authorization: options.authorization,\n    })\n    .then(function () {\n      return createDeferredClient.create({\n        authorization: options.authorization,\n        client: options.client,\n        debug: options.debug,\n        assetsUrl: createAssetsUrl.create(options.authorization),\n        name: name,\n      });\n    })\n    .then(function (client) {\n      var usBankAccount;\n\n      options.client = client;\n\n      usBankAccount =\n        options.client.getConfiguration().gatewayConfiguration.usBankAccount;\n      if (!usBankAccount) {\n        return Promise.reject(\n          new BraintreeError(errors.US_BANK_ACCOUNT_NOT_ENABLED)\n        );\n      }\n\n      return new USBankAccount(options);\n    });\n}\n\nmodule.exports = {\n  create: wrapPromise(create),\n  /**\n   * @description The current version of the SDK, i.e. `{@pkg version}`.\n   * @type {string}\n   */\n  VERSION: VERSION,\n};\n\n},{\"../lib/basic-component-verification\":12,\"../lib/braintree-error\":13,\"../lib/create-assets-url\":16,\"../lib/create-deferred-client\":18,\"./errors\":26,\"./us-bank-account\":28,\"@braintree/wrap-promise\":7}],28:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar BraintreeError = _dereq_(\"../lib/braintree-error\");\nvar constants = _dereq_(\"./constants\");\nvar errors = _dereq_(\"./errors\");\nvar sharedErrors = _dereq_(\"../lib/errors\");\nvar analytics = _dereq_(\"../lib/analytics\");\nvar once = _dereq_(\"../lib/once\");\nvar convertMethodsToError = _dereq_(\"../lib/convert-methods-to-error\");\nvar methods = _dereq_(\"../lib/methods\");\nvar wrapPromise = _dereq_(\"@braintree/wrap-promise\");\n\nvar TOKENIZE_BANK_DETAILS_MUTATION = createGraphQLMutation(\"UsBankAccount\");\nvar TOKENIZE_BANK_LOGIN_MUTATION = createGraphQLMutation(\"UsBankLogin\");\n\n/**\n * @typedef {object} USBankAccount~tokenizePayload\n * @property {string} nonce The payment method nonce.\n * @property {string} type The payment method type, always `us_bank_account`.\n * @property {object} details Additional account details. Currently empty.\n */\n\n/**\n * @class\n * @param {object} options See {@link module:braintree-web/us-bank-account.create|us-bank-account.create}.\n * @classdesc This class represents a US Bank Account component. Instances of this class can tokenize raw bank details or present a bank login. <strong>You cannot use this constructor directly. Use {@link module:braintree-web/us-bank-account.create|braintree.us-bank-account.create} instead.</strong>\n */\nfunction USBankAccount(options) {\n  this._client = options.client;\n\n  this._isTokenizingBankLogin = false;\n\n  analytics.sendEvent(this._client, \"usbankaccount.initialized\");\n}\n\n/**\n * Tokenizes bank information to return a payment method nonce. You can tokenize bank details by providing information like account and routing numbers. You can also tokenize with a bank login UI that prompts the customer to log into their bank account.\n * @public\n * @param {object} options All tokenization options for the US Bank Account component.\n * @param {string} options.mandateText A string for proof of customer authorization. For example, `'I authorize Braintree to debit my bank account on behalf of My Online Store.'`.\n * @param {object} [options.bankDetails] Bank detail information (such as account and routing numbers). `bankDetails` or `bankLogin` option must be provided.\n * @param {string} options.bankDetails.routingNumber The customer's bank routing number, such as `'307075259'`.\n * @param {string} options.bankDetails.accountNumber The customer's bank account number, such as `'999999999'`.\n * @param {string} options.bankDetails.accountType The customer's bank account type. Must be `'checking'` or `'savings'`.\n * @param {string} options.bankDetails.ownershipType The customer's bank account ownership type. Must be `'personal'` or `'business'`.\n * @param {string} [options.bankDetails.firstName] The customer's first name. Required when account ownership type is `personal`.\n * @param {string} [options.bankDetails.lastName] The customer's last name. Required when account ownership type is `personal`.\n * @param {string} [options.bankDetails.businessName] The customer's business name. Required when account ownership type is `business`.\n * @param {object} options.bankDetails.billingAddress The customer's billing address.\n * @param {string} options.bankDetails.billingAddress.streetAddress The street address for the customer's billing address, such as `'123 Fake St'`.\n * @param {string} [options.bankDetails.billingAddress.extendedAddress] The extended street address for the customer's billing address, such as `'Apartment B'`.\n * @param {string} options.bankDetails.billingAddress.locality The locality for the customer's billing address. This is typically a city, such as `'San Francisco'`.\n * @param {string} options.bankDetails.billingAddress.region The region for the customer's billing address. This is typically a state, such as `'CA'`.\n * @param {string} options.bankDetails.billingAddress.postalCode The postal code for the customer's billing address. This is typically a ZIP code, such as `'94119'`.\n * @param {object} [options.bankLogin] Bank login information. `bankLogin` or `bankDetails` option must be provided.\n * @param {string} options.bankLogin.displayName Display name for the bank login UI, such as `'My Store'`.\n * @param {string} options.bankLogin.ownershipType The customer's bank account ownership type. Must be `'personal'` or `'business'`.\n * @param {string} [options.bankLogin.firstName] The customer's first name. Required when account ownership type is `personal`.\n * @param {string} [options.bankLogin.lastName] The customer's last name. Required when account ownership type is `personal`.\n * @param {string} [options.bankLogin.businessName] The customer's business name. Required when account ownership type is `business`.\n * @param {object} options.bankLogin.billingAddress The customer's billing address.\n * @param {string} options.bankLogin.billingAddress.streetAddress The street address for the customer's billing address, such as `'123 Fake St'`.\n * @param {string} [options.bankLogin.billingAddress.extendedAddress] The extended street address for the customer's billing address, such as `'Apartment B'`.\n * @param {string} options.bankLogin.billingAddress.locality The locality for the customer's billing address. This is typically a city, such as `'San Francisco'`.\n * @param {string} options.bankLogin.billingAddress.region The region for the customer's billing address. This is typically a state, such as `'CA'`.\n * @param {string} options.bankLogin.billingAddress.postalCode The postal code for the customer's billing address. This is typically a ZIP code, such as `'94119'`.\n * @param {callback} [callback] The second argument, <code>data</code>, is a {@link USBankAccount~tokenizePayload|tokenizePayload}. If no callback is provided, `tokenize` returns a promise that resolves with {@link USBankAccount~tokenizePayload|tokenizePayload}.\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n * @example\n * <caption>Tokenizing raw bank details</caption>\n * var routingNumberInput = document.querySelector('input[name=\"routing-number\"]');\n * var accountNumberInput = document.querySelector('input[name=\"account-number\"]');\n * var accountTypeInput = document.querySelector('input[name=\"account-type\"]:checked');\n * var ownershipTypeInput = document.querySelector('input[name=\"ownership-type\"]:checked');\n * var firstNameInput = document.querySelector('input[name=\"first-name\"]');\n * var lastNameInput = document.querySelector('input[name=\"last-name\"]');\n * var businessNameInput = document.querySelector('input[name=\"business-name\"]');\n * var billingAddressStreetInput = document.querySelector('input[name=\"street-address\"]');\n * var billingAddressExtendedInput = document.querySelector('input[name=\"extended-address\"]');\n * var billingAddressLocalityInput = document.querySelector('input[name=\"locality\"]');\n * var billingAddressRegionSelect = document.querySelector('select[name=\"region\"]');\n * var billingAddressPostalInput = document.querySelector('input[name=\"postal-code\"]');\n *\n * submitButton.addEventListener('click', function (event) {\n *   var bankDetails = {\n *     routingNumber: routingNumberInput.value,\n *     accountNumber: accountNumberInput.value,\n *     accountType: accountTypeInput.value,\n *     ownershipType: ownershipTypeInput.value,\n *     billingAddress: {\n *       streetAddress: billingAddressStreetInput.value,\n *       extendedAddress: billingAddressExtendedInput.value,\n *       locality: billingAddressLocalityInput.value,\n *       region: billingAddressRegionSelect.value,\n *       postalCode: billingAddressPostalInput.value\n *     }\n *   };\n *\n *   if (bankDetails.ownershipType === 'personal') {\n *     bankDetails.firstName = firstNameInput.value;\n *     bankDetails.lastName = lastNameInput.value;\n *   } else {\n *     bankDetails.businessName = businessNameInput.value;\n *   }\n *\n *   event.preventDefault();\n *\n *   usBankAccountInstance.tokenize({\n *     bankDetails: bankDetails,\n *     mandateText: 'I authorize Braintree to debit my bank account on behalf of My Online Store.'\n *   }, function (tokenizeErr, tokenizedPayload) {\n *     if (tokenizeErr) {\n *       console.error('There was an error tokenizing the bank details.');\n *       return;\n *     }\n *\n *     // Send tokenizePayload.nonce to your server here!\n *   });\n * });\n * @example\n * <caption>Tokenizing with bank login UI</caption>\n * var ownershipTypeInput = document.querySelector('input[name=\"ownership-type\"]:checked');\n * var firstNameInput = document.querySelector('input[name=\"first-name\"]');\n * var lastNameInput = document.querySelector('input[name=\"last-name\"]');\n * var businessNameInput = document.querySelector('input[name=\"business-name\"]');\n * var billingAddressStreetInput = document.querySelector('input[name=\"street-address\"]');\n * var billingAddressExtendedInput = document.querySelector('input[name=\"extended-address\"]');\n * var billingAddressLocalityInput = document.querySelector('input[name=\"locality\"]');\n * var billingAddressRegionSelect = document.querySelector('select[name=\"region\"]');\n * var billingAddressPostalInput = document.querySelector('input[name=\"postal-code\"]');\n *\n * bankLoginButton.addEventListener('click', function (event) {\n *   var bankLogin = {\n *     displayName: 'My Online Store',\n *     ownershipType: ownershipTypeInput.value,\n *     billingAddress: {\n *       streetAddress: billingAddressStreetInput.value,\n *       extendedAddress: billingAddressExtendedInput.value,\n *       locality: billingAddressLocalityInput.value,\n *       region: billingAddressRegionSelect.value,\n *       postalCode: billingAddressPostalInput.value\n *     }\n *   }\n *   event.preventDefault();\n *\n *   if (bankLogin.ownershipType === 'personal') {\n *     bankLogin.firstName = firstNameInput.value;\n *     bankLogin.lastName = lastNameInput.value;\n *   } else {\n *     bankLogin.businessName = businessNameInput.value;\n *   }\n *\n *   usBankAccountInstance.tokenize({\n *     bankLogin: bankLogin,\n *     mandateText: 'I authorize Braintree to debit my bank account on behalf of My Online Store.'\n *   }, function (tokenizeErr, tokenizedPayload) {\n *     if (tokenizeErr) {\n *       console.error('There was an error tokenizing the bank details.');\n *       return;\n *     }\n *\n *     // Send tokenizePayload.nonce to your server here!\n *   });\n * });\n */\nUSBankAccount.prototype.tokenize = function (options) {\n  options = options || {};\n\n  if (!options.mandateText) {\n    return Promise.reject(\n      new BraintreeError({\n        type: errors.US_BANK_ACCOUNT_OPTION_REQUIRED.type,\n        code: errors.US_BANK_ACCOUNT_OPTION_REQUIRED.code,\n        message: \"mandateText property is required.\",\n      })\n    );\n  }\n\n  if (options.bankDetails && options.bankLogin) {\n    return Promise.reject(\n      new BraintreeError({\n        type: errors.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,\n        code: errors.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,\n        message:\n          \"tokenize must be called with bankDetails or bankLogin, not both.\",\n      })\n    );\n  } else if (options.bankDetails) {\n    return this._tokenizeBankDetails(options);\n  } else if (options.bankLogin) {\n    return this._tokenizeBankLogin(options);\n  }\n\n  return Promise.reject(\n    new BraintreeError({\n      type: errors.US_BANK_ACCOUNT_OPTION_REQUIRED.type,\n      code: errors.US_BANK_ACCOUNT_OPTION_REQUIRED.code,\n      message: \"tokenize must be called with bankDetails or bankLogin.\",\n    })\n  );\n};\n\nUSBankAccount.prototype._tokenizeBankDetails = function (options) {\n  var client = this._client;\n  var bankDetails = options.bankDetails;\n  var data = {\n    achMandate: options.mandateText,\n    routingNumber: bankDetails.routingNumber,\n    accountNumber: bankDetails.accountNumber,\n    accountType: bankDetails.accountType.toUpperCase(),\n    billingAddress: formatBillingAddressForGraphQL(\n      bankDetails.billingAddress || {}\n    ),\n  };\n\n  formatDataForOwnershipType(data, bankDetails);\n\n  return client\n    .request({\n      api: \"graphQLApi\",\n      data: {\n        query: TOKENIZE_BANK_DETAILS_MUTATION,\n        variables: {\n          input: {\n            usBankAccount: data,\n          },\n        },\n      },\n    })\n    .then(function (response) {\n      analytics.sendEvent(\n        client,\n        \"usbankaccount.bankdetails.tokenization.succeeded\"\n      );\n\n      return Promise.resolve(\n        formatTokenizeResponseFromGraphQL(response, \"tokenizeUsBankAccount\")\n      );\n    })\n    .catch(function (err) {\n      var error = errorFrom(err);\n\n      analytics.sendEvent(\n        client,\n        \"usbankaccount.bankdetails.tokenization.failed\"\n      );\n\n      return Promise.reject(error);\n    });\n};\n\nUSBankAccount.prototype._tokenizeBankLogin = function (options) {\n  var self = this;\n  var client = this._client;\n  var gatewayConfiguration = client.getConfiguration().gatewayConfiguration;\n  var isProduction = gatewayConfiguration.environment === \"production\";\n  var plaidConfig = gatewayConfiguration.usBankAccount.plaid;\n\n  if (!options.bankLogin.displayName) {\n    return Promise.reject(\n      new BraintreeError({\n        type: errors.US_BANK_ACCOUNT_OPTION_REQUIRED.type,\n        code: errors.US_BANK_ACCOUNT_OPTION_REQUIRED.code,\n        message: \"displayName property is required when using bankLogin.\",\n      })\n    );\n  }\n\n  if (!plaidConfig) {\n    return Promise.reject(\n      new BraintreeError(errors.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)\n    );\n  }\n\n  if (this._isTokenizingBankLogin) {\n    return Promise.reject(\n      new BraintreeError(errors.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)\n    );\n  }\n  this._isTokenizingBankLogin = true;\n\n  return new Promise(function (resolve, reject) {\n    self._loadPlaid(function (plaidLoadErr, plaid) {\n      if (plaidLoadErr) {\n        reject(plaidLoadErr);\n\n        return;\n      }\n\n      plaid\n        .create({\n          clientName: options.bankLogin.displayName,\n          apiVersion: \"v2\",\n          env: isProduction ? \"production\" : \"sandbox\",\n          key: plaidConfig.publicKey,\n          product: \"auth\",\n          selectAccount: true,\n          onExit: function () {\n            self._isTokenizingBankLogin = false;\n\n            analytics.sendEvent(\n              client,\n              \"usbankaccount.banklogin.tokenization.closed.by-user\"\n            );\n\n            reject(new BraintreeError(errors.US_BANK_ACCOUNT_LOGIN_CLOSED));\n          },\n          onSuccess: function (publicToken, metadata) {\n            var bankLogin = options.bankLogin;\n            var data = {\n              publicToken: publicToken,\n              accountId: isProduction\n                ? metadata.account_id\n                : \"plaid_account_id\",\n              accountType: metadata.account.subtype.toUpperCase(),\n              achMandate: options.mandateText,\n              billingAddress: formatBillingAddressForGraphQL(\n                bankLogin.billingAddress || {}\n              ),\n            };\n\n            formatDataForOwnershipType(data, bankLogin);\n\n            client\n              .request({\n                api: \"graphQLApi\",\n                data: {\n                  query: TOKENIZE_BANK_LOGIN_MUTATION,\n                  variables: {\n                    input: {\n                      usBankLogin: data,\n                    },\n                  },\n                },\n              })\n              .then(function (response) {\n                self._isTokenizingBankLogin = false;\n\n                analytics.sendEvent(\n                  client,\n                  \"usbankaccount.banklogin.tokenization.succeeded\"\n                );\n\n                resolve(\n                  formatTokenizeResponseFromGraphQL(\n                    response,\n                    \"tokenizeUsBankLogin\"\n                  )\n                );\n              })\n              .catch(function (tokenizeErr) {\n                var error;\n\n                self._isTokenizingBankLogin = false;\n                error = errorFrom(tokenizeErr);\n\n                analytics.sendEvent(\n                  client,\n                  \"usbankaccount.banklogin.tokenization.failed\"\n                );\n\n                reject(error);\n              });\n          },\n        })\n        .open();\n\n      analytics.sendEvent(\n        client,\n        \"usbankaccount.banklogin.tokenization.started\"\n      );\n    });\n  });\n};\n\nfunction errorFrom(err) {\n  var error;\n  var status = err.details && err.details.httpStatus;\n\n  if (status === 401) {\n    error = new BraintreeError(sharedErrors.BRAINTREE_API_ACCESS_RESTRICTED);\n  } else if (status < 500) {\n    error = new BraintreeError(errors.US_BANK_ACCOUNT_FAILED_TOKENIZATION);\n  } else {\n    error = new BraintreeError(\n      errors.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR\n    );\n  }\n  error.details = { originalError: err };\n\n  return error;\n}\n\nfunction formatTokenizeResponseFromGraphQL(response, type) {\n  var data = response.data[type].paymentMethod;\n  var last4 = data.details.last4;\n  var description = \"US bank account ending in - \" + last4;\n\n  return {\n    nonce: data.id,\n    details: {},\n    description: description,\n    type: \"us_bank_account\",\n  };\n}\n\nUSBankAccount.prototype._loadPlaid = function (callback) {\n  var existingScript, script;\n\n  callback = once(callback);\n\n  if (window.Plaid) {\n    callback(null, window.Plaid);\n\n    return;\n  }\n\n  existingScript = document.querySelector(\n    'script[src=\"' + constants.PLAID_LINK_JS + '\"]'\n  );\n\n  if (existingScript) {\n    addLoadListeners(existingScript, callback);\n  } else {\n    script = document.createElement(\"script\");\n\n    script.src = constants.PLAID_LINK_JS;\n    script.async = true;\n\n    addLoadListeners(script, callback);\n\n    document.body.appendChild(script);\n\n    this._plaidScript = script;\n  }\n};\n\nfunction addLoadListeners(script, callback) {\n  function loadHandler() {\n    var readyState = this.readyState; // eslint-disable-line no-invalid-this\n\n    if (!readyState || readyState === \"loaded\" || readyState === \"complete\") {\n      removeLoadListeners();\n      callback(null, window.Plaid);\n    }\n  }\n\n  function errorHandler() {\n    script.parentNode.removeChild(script);\n\n    callback(new BraintreeError(errors.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED));\n  }\n\n  function removeLoadListeners() {\n    script.removeEventListener(\"error\", errorHandler);\n    script.removeEventListener(\"load\", loadHandler);\n    script.removeEventListener(\"readystatechange\", loadHandler);\n  }\n\n  script.addEventListener(\"error\", errorHandler);\n  script.addEventListener(\"load\", loadHandler);\n  script.addEventListener(\"readystatechange\", loadHandler);\n}\n\nfunction formatBillingAddressForGraphQL(address) {\n  return {\n    streetAddress: address.streetAddress,\n    extendedAddress: address.extendedAddress,\n    city: address.locality,\n    state: address.region,\n    zipCode: address.postalCode,\n  };\n}\n\nfunction formatDataForOwnershipType(data, details) {\n  if (details.ownershipType === \"personal\") {\n    data.individualOwner = {\n      firstName: details.firstName,\n      lastName: details.lastName,\n    };\n  } else if (details.ownershipType === \"business\") {\n    data.businessOwner = {\n      businessName: details.businessName,\n    };\n  }\n}\n\nfunction createGraphQLMutation(type) {\n  return (\n    \"\" +\n    \"mutation Tokenize\" +\n    type +\n    \"($input: Tokenize\" +\n    type +\n    \"Input!) {\" +\n    \"  tokenize\" +\n    type +\n    \"(input: $input) {\" +\n    \"    paymentMethod {\" +\n    \"      id\" +\n    \"      details {\" +\n    \"        ... on UsBankAccountDetails {\" +\n    \"          last4\" +\n    \"        }\" +\n    \"      }\" +\n    \"    }\" +\n    \"  }\" +\n    \"}\"\n  );\n}\n\n/**\n * Cleanly tear down anything set up by {@link module:braintree-web/us-bank-account.create|create}.\n * @public\n * @param {callback} [callback] Called once teardown is complete. No data is returned if teardown completes successfully.\n * @example\n * usBankAccountInstance.teardown();\n * @example <caption>With callback</caption>\n * usBankAccountInstance.teardown(function () {\n *   // teardown is complete\n * });\n * @returns {(Promise|void)} Returns a promise if no callback is provided.\n */\nUSBankAccount.prototype.teardown = function () {\n  if (this._plaidScript) {\n    document.body.removeChild(this._plaidScript);\n  }\n\n  convertMethodsToError(this, methods(USBankAccount.prototype));\n\n  return Promise.resolve();\n};\n\nmodule.exports = wrapPromise.wrapPrototype(USBankAccount);\n\n},{\"../lib/analytics\":10,\"../lib/braintree-error\":13,\"../lib/convert-methods-to-error\":15,\"../lib/errors\":20,\"../lib/methods\":22,\"../lib/once\":23,\"./constants\":25,\"./errors\":26,\"@braintree/wrap-promise\":7}]},{},[27])(27)\n});\n","import createLoggers from './logger.utils.jsx'\n\nconst { log, error } = createLoggers('http.utils.jsx')\n\nconst jsonRequest = {\n    _request: async (url, method, body, headers) => {\n        const options = {\n            method,\n            headers: {\n                'Content-Type': 'application/json',\n                ...headers,\n            },\n            body: JSON.stringify(body),\n            redirect: 'follow',\n        }\n\n        const response = await fetch(url, options)\n        if (!response.ok) {\n            error({ url, method, response })\n            throw new Error('HTTP Fetch Failed', { cause: response })\n        }\n        log(url, method, response)\n        return response.json()\n    },\n\n    get: (url, body = undefined, headers = {}) => jsonRequest._request(url, 'GET', body, headers),\n    post: (url, body = undefined, headers = {}) => jsonRequest._request(url, 'POST', body, headers),\n    patch: (url, body = undefined, headers = {}) => jsonRequest._request(url, 'PATCH', body, headers),\n    delete: (url, body = undefined, headers = {}) => jsonRequest._request(url, 'DELETE', body, headers),\n}\n\nexport { jsonRequest }\n","import BTClient from 'braintree-web/client'\nimport BTPayPalCheckout from 'braintree-web/paypal-checkout'\nimport BTUSBankAccount from 'braintree-web/us-bank-account'\nimport createLoggers from '../../../../utils/logger.utils.jsx'\nimport { jsonRequest } from '../../../../utils/http.utils'\n\nconst { error } = createLoggers('http.utils.jsx')\n\nconst _clientMapping = {\n    Client: BTClient,\n    PayPalCheckout: BTPayPalCheckout,\n    USBankAccount: BTUSBankAccount,\n}\n\nconst clientInterface = async (className, options) => {\n    if (!Object.hasOwn(_clientMapping, className)) {\n        error('Braintree client SDK class for ' + className + ' not setup')\n        return undefined\n    }\n    return _clientMapping[className].create(options)\n}\n\nconst serverInterface = async (resource, operation, args = [], params = []) => {\n    const url = '/api/braintree/sdk/interface'\n    const headers = localStorage.getItem('authHeader')\n        ? {\n              authorization: 'Basic ' + localStorage.getItem('authHeader'),\n          }\n        : {}\n    const postData = {\n        resource: resource,\n        operation: operation,\n        args: args,\n        params: params,\n    }\n\n    return await jsonRequest.post(url, postData, headers)\n}\n\nexport { clientInterface, serverInterface }\n"],"names":["getTimePrefix","dateObj","createLoggers","label","args","f","module","g","define","exports","e","n","t","o","i","c","require","u","a","p","r","_dereq_","__importDefault","mod","promise_polyfill_1","PromiseGlobal","promise_1","scriptPromiseCache","loadScript","options","scriptLoadPromise","stringifiedOptions","script","attrs","container","key","resolve","reject","uuid","v","deferred","fn","_i","err","once","called","promiseOrCallback","promise","callback","data","deferred_1","once_1","promise_or_callback_1","wrapPromise","lastArg","target","ignoreMethods","includePrivateMethods","methods","method","isNotPrivateMethod","isNonConstructorFunction","isNotAnIgnoredMethod","original","finallyConstructor","constructor","value","reason","allSettled","arr","P","remaining","res","val","then","setTimeoutFunc","isArray","x","noop","bind","thisArg","Promise","doResolve","handle","self","cb","ret","newValue","finale","len","Handler","onFulfilled","onRejected","done","ex","prom","BRAINTREE_VERSION","GraphQL","request","isVerifiedDomain","BraintreeError","convertToBraintreeError","getGatewayConfiguration","createAuthorizationData","addMetadata","assign","analytics","errors","VERSION","GRAPHQL_URLS","convertMethodsToError","assets","FRAUDNET_FNCLS","FRAUDNET_SOURCE","FRAUDNET_URL","cachedClients","Client","configuration","configurationJSON","gatewayConfiguration","property","clientInstance","authData","client","clientMetadataId","el","config","additionalData","authorizationFingerprint","parameters","pieces","component","requestPromise","optionName","api","baseUrl","requestOptions","shouldCollectData","getAuthorizationHeadersForGraphQL","kind","status","resolvedData","requestError","formatRequestError","response","token","constants","isDateStringBeforeOrOn","getConfiguration","configUrl","reqOptions","sessionId","analyticsMetadata","errorTemplate","sharedErrors","create","querystring","prepBody","parseBody","xhr","isXHRAvailable","GraphQLRequest","DefaultRequest","MAX_TCP_RETRYCOUNT","TCP_PRECONNECT_BUG_STATUS_CODE","requestShouldRetry","graphQLRequestShouldRetryWithClientApi","body","errorClass","_requestWithRetry","tcpRetryCount","resBody","ajaxRequest","headers","parsedBody","url","graphQL","timeout","req","isGraphQLRequest","requestOpenError","headerKey","errorResponseAdapter","cardTypeTransforms","configurationResponseAdapter","responseBody","ctx","adaptedResponse","adaptConfigurationResponseBody","feature","mapCardTypes","challenge","cardTypes","cardTypeTransformMap","acc","type","CARD_BRAND_MAP","BIN_DATA_MAP","AUTHENTICATION_INSIGHT_MAP","creditCardTokenizationResponseAdapter","adaptTokenizeCreditCardResponseBody","creditCard","lastTwo","binData","regulationEnvironment","userErrorResponseAdapter","errorWithClassResponseAdapter","fieldErrors","buildFieldErrors","getLegacyMessage","error","addFieldError","inputPath","errorDetail","fieldError","legacyCode","inputField","candidate","legacyMessages","field","CONFIGURATION_QUERY","createMutation","hasAuthenticationInsight","mutation","createCreditCardTokenizationBody","cc","billingAddress","expDate","expirationMonth","expirationYear","variables","addValidationRule","input","validate","creditCardTokenization","features","disallowedInputPaths","featureEnabled","path","containsDisallowedlistedKeys","clientApiPrefix","pathParts","keys","accumulator","snakeCaseToCamelCase","creditCardTokenizationBodyGenerator","configurationBodyGenerator","generators","adapters","clientApiPath","formattedBody","formatBodyKeys","generatedBody","authorization","httpStatus","parsedResponse","isGraphQLError","originalBody","camelCaseKey","AJAXDriver","getRequestObject","jsonClone","authAttrs","_meta","sendAnalyticsEvent","clientInstanceOrPromise","timestamp","timestampInPromise","assignNormalized","assignPolyfill","destination","source","enumerate","PLATFORM","CLIENT_API_URLS","ASSETS_URLS","instance","methodNames","methodName","originalErr","btErrorObject","atob","_isTokenizationKey","str","_parseTokenizationKey","tokenizationKey","tokens","environment","merchantId","parsedClientToken","parsedTokenizationKey","values","prefix","enumeration","convertDateStringToDate","dateString","splitDate","firstDate","secondDate","parser","legalHosts","stripSubdomains","domain","mainDomain","obj","_notEmpty","_isArray","hasQueryParams","parse","query","params","toReturn","keyValue","parts","stringify","namespace","k","queryify","snakeString","match","atobNormalized","atobPolyfill","base64String","b","b1","b2","b3","b4","base64Matcher","characters","result","ua","isEdge","isSamsung","isDuckDuckGo","isOpera","isSilk","isIos","isGoogleSearchApp","isIosGoogleSearchApp","isIosWebview","statusBarVisible","MINIMUM_SUPPORTED_CHROME_IOS_VERSION","isAndroid","isIosFirefox","isChrome","isSamsungBrowser","isUnsupportedIosChrome","version","isOperaMini","isAndroidWebview","androidWebviewRegExp","isOldSamsungBrowserOrSamsungWebview","GlobalPromise","ExtendedPromise","_this","PromiseClass","arg","_a","argForResolveFunction","set_attributes_1","default_attributes_1","assign_1","iframe","objs","setAttributes","element","attributes","is_not_string_1","subscription_args_invalid_1","broadcast_1","package_payload_1","send_message_1","constants_1","DefaultPromise","Framebus","frame","childWindow","eventName","reply","origin","payload","didAttachListener","originalHandler","handler","listener","subscriberList","win","matchingFrame","postMessageOrigin","merchantHost","merchantOrigin","attach_1","framebus_1","message_1","isAttached","attach","detach","broadcastToChildWindows","has_opener_1","broadcast","frameToBroadcastTo","dispatch","event","hasOpener","isntString","unpack_payload_1","dispatch_1","broadcast_to_child_windows_1","onmessage","subscribe_replier_1","packagePayload","packaged","sendMessage","uuid_1","subscribeReplier","replier","replyOriginHandler","subscriptionArgsInvalid","unpackPayload","replyOrigin_1","replySource_1","replyEvent_1","replyData","replyPayload","basicComponentVerification","name","createAssetsUrl","createDeferredClient","Popup","PopupBridge","Modal","Bus","events","iFramer","browserDetection","BUS_CONFIGURATION_REQUEST_EVENT","REQUIRED_CONFIG_KEYS","_validateFrameConfiguration","FrameService","dispatchFrameReadyHandler","frameName","frameSrc","usePopup","popupBridgeExists","initOptions","frameService","ELEMENT_STYLES","iframerConfig","redirectUrl","doc","popupDismissed","position","calculatePosition","userDefinedPosition","size","height","width","top","left","composeOptions","windowHeight","windowTop","center","windowWidth","windowLeft","windowMetric","popupMetric","offset","useMin","isDebug","PayPalCheckout","isSupported","INTEGRATION_TIMEOUT_MS","REQUIRED_PARAMS_FOR_START_VAULT_INITIATED_CHECKOUT","PAYPAL_SDK_PRELOAD_URL","frameServicePromise","timeoutRef","service","flowToken","endpoint","missingRequiredParam","param","frameCommunicationPromise","startVaultInitiatedCheckoutPromise","tokenizationError","serviceId","tokenizeOptions","shouldVault","idPromise","src","loadPromise","dataAttributes","userIdToken","attribute","id","env","subdomain","preloadOptions","intent","paymentResource","item","required","option","clientConfiguration","isTokenizationKey","isVaultFlow","correlationId","account","USBankAccount","usBankAccount","TOKENIZE_BANK_DETAILS_MUTATION","createGraphQLMutation","TOKENIZE_BANK_LOGIN_MUTATION","bankDetails","formatBillingAddressForGraphQL","formatDataForOwnershipType","formatTokenizeResponseFromGraphQL","errorFrom","isProduction","plaidConfig","plaidLoadErr","plaid","publicToken","metadata","bankLogin","tokenizeErr","last4","description","existingScript","addLoadListeners","loadHandler","readyState","removeLoadListeners","errorHandler","address","details","log","jsonRequest","_clientMapping","BTClient","BTPayPalCheckout","BTUSBankAccount","clientInterface","className","serverInterface","resource","operation","postData"],"mappings":"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","x_google_ignoreList":[1,2,3]}