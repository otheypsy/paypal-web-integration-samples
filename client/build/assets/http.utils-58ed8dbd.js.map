{"version":3,"file":"http.utils-58ed8dbd.js","sources":["../../src/utils/http.utils.jsx"],"sourcesContent":["import createLoggers from './logger.utils.jsx'\n\nconst { log, error } = createLoggers('http.utils.jsx')\n\nconst jsonRequest = {\n    _request: async (url, method, body, headers) => {\n        const options = {\n            method,\n            headers: {\n                'Content-Type': 'application/json',\n                ...headers,\n            },\n            body: JSON.stringify(body),\n            redirect: 'follow',\n        }\n\n        const response = await fetch(url, options)\n        if (!response.ok) {\n            error({ url, method, response })\n            throw new Error('HTTP Fetch Failed', { cause: response })\n        }\n        log(url, method, response)\n        return response.json()\n    },\n\n    get: (url, body = undefined, headers = {}) => jsonRequest._request(url, 'GET', body, headers),\n    post: (url, body = undefined, headers = {}) => jsonRequest._request(url, 'POST', body, headers),\n    patch: (url, body = undefined, headers = {}) => jsonRequest._request(url, 'PATCH', body, headers),\n    delete: (url, body = undefined, headers = {}) => jsonRequest._request(url, 'DELETE', body, headers),\n}\n\nexport { jsonRequest }\n"],"names":["log","error","createLoggers","jsonRequest","url","method","body","headers","options","response"],"mappings":"0CAEA,KAAM,CAAE,IAAAA,EAAK,MAAAC,CAAM,EAAIC,EAAc,gBAAgB,EAE/CC,EAAc,CAChB,SAAU,MAAOC,EAAKC,EAAQC,EAAMC,IAAY,CAC5C,MAAMC,EAAU,CACZ,OAAAH,EACA,QAAS,CACL,eAAgB,mBAChB,GAAGE,CACP,EACA,KAAM,KAAK,UAAUD,CAAI,EACzB,SAAU,QAAA,EAGRG,EAAW,MAAM,MAAML,EAAKI,CAAO,EACrC,GAAA,CAACC,EAAS,GACV,MAAAR,EAAM,CAAE,IAAAG,EAAK,OAAAC,EAAQ,SAAAI,CAAU,CAAA,EACzB,IAAI,MAAM,oBAAqB,CAAE,MAAOA,CAAU,CAAA,EAExD,OAAAT,EAAAI,EAAKC,EAAQI,CAAQ,EAClBA,EAAS,MACpB,EAEA,IAAK,CAACL,EAAKE,EAAO,OAAWC,EAAU,KAAOJ,EAAY,SAASC,EAAK,MAAOE,EAAMC,CAAO,EAC5F,KAAM,CAACH,EAAKE,EAAO,OAAWC,EAAU,KAAOJ,EAAY,SAASC,EAAK,OAAQE,EAAMC,CAAO,EAC9F,MAAO,CAACH,EAAKE,EAAO,OAAWC,EAAU,KAAOJ,EAAY,SAASC,EAAK,QAASE,EAAMC,CAAO,EAChG,OAAQ,CAACH,EAAKE,EAAO,OAAWC,EAAU,KAAOJ,EAAY,SAASC,EAAK,SAAUE,EAAMC,CAAO,CACtG"}