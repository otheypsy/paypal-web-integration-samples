{"version":3,"file":"AppLayout.component-e6d389e3.js","sources":["../../src/components/AppLink.component.jsx","../../src/components/TagPill.component.jsx","../../src/layouts/AppLayout.component.jsx"],"sourcesContent":["import { useMatch, useResolvedPath } from 'react-router-dom';\n\nconst AppLink = (props) => {\n\n    const resolved = useResolvedPath(props.to);\n    const match = useMatch({ path: resolved.pathname, end: false, caseSensitive: false });\n\n    const onClick = () => props.onClick(props.to);\n\n    return (props.isVisible || match)\n        ? (\n            <button\n                className={'list-group-item list-group-item-action ' + (match ? 'active' : 'text-secondary')}\n                onClick={onClick}>\n                <p className=\"my-1\">{props.label}</p>\n            </button>\n        )\n        : null\n};\n\nexport default AppLink;\n","const TagPill = (props) => {\n\n    const onClick = () => props.onClick(props.label);\n\n    return (\n        <button\n            type=\"button\"\n            className={'btn btn-sm m-1 px-3 badge-pill btn-' + props.btnColor}\n            onClick={onClick}>\n            {props.label}\n        </button>\n    );\n};\n\nexport default TagPill;\n","import { useState, useEffect } from 'react'\nimport { Outlet, useNavigate } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport InputText from '../lib/components/form/InputText/InputText.component.jsx'\nimport AppLink from '../components/AppLink.component.jsx'\nimport TagPill from '../components/TagPill.component.jsx'\n\nconst FilterGroup = (props) => {\n    return (\n        <>\n            <InputText label={'-- search --'} value={props.text} onChange={props.onTextChange} />\n            <TagPill key={'clearAll'} label={'X'} onClick={props.reset} btnColor={'danger'}></TagPill>\n            {Object.keys(props.tags).map((tag) => {\n                const color = props.tags[tag] ? 'primary' : 'secondary'\n                return <TagPill key={tag} label={tag} onClick={props.onTagClick} btnColor={color}></TagPill>\n            })}\n        </>\n    )\n}\n\nconst AppLayout = (props) => {\n    const navigate = useNavigate()\n    const [labelFilter, setLabelFilter] = useState('')\n    const [tagFilter, setTagFilter] = useState([])\n\n    // Initialize Filters\n    useEffect(() => {\n        const tagFilter = {}\n        props.links.forEach((link) => {\n            link.data?.tags.forEach((tag) => {\n                tagFilter[tag] = false\n            })\n        })\n        setLabelFilter('')\n        setTagFilter(tagFilter)\n    }, [props.links])\n\n    const resetFilters = () => {\n        const newTagFilter = {}\n        for (const tag in tagFilter) {\n            newTagFilter[tag] = false\n        }\n        setTagFilter(newTagFilter)\n    }\n\n    const filterTags = (tags) => {\n        return Object.keys(tagFilter).every((tag) => {\n            return !(tagFilter[tag] && !tags.includes(tag))\n        })\n    }\n\n    const filterLabel = (label) => {\n        return label?.toLowerCase()?.includes(labelFilter.toLocaleLowerCase())\n    }\n\n    const onLinkClick = (to) => navigate(to)\n\n    const onTagClick = (label) => {\n        setTagFilter({\n            ...tagFilter,\n            [label]: !tagFilter[label],\n        })\n    }\n\n    return (\n        <>\n            <div className=\"row\">\n                <div className=\"col-3\">\n                    <FilterGroup\n                        tags={tagFilter}\n                        onTagClick={onTagClick}\n                        text={labelFilter}\n                        onTextChange={setLabelFilter}\n                        reset={resetFilters}\n                    />\n                    <br />\n                    <br />\n                    <div className=\"list-group p-2\">\n                        {props.links.map((link) => {\n                            const isVisible = filterTags(link.data?.tags || []) && filterLabel(link.label)\n                            return (\n                                <AppLink\n                                    key={link.path}\n                                    to={link.path}\n                                    label={link.label}\n                                    isVisible={isVisible}\n                                    onClick={onLinkClick}\n                                />\n                            )\n                        })}\n                    </div>\n                </div>\n                <div className=\"col-9\">\n                    <Outlet />\n                </div>\n            </div>\n        </>\n    )\n}\n\nAppLayout.propTypes = {\n    links: PropTypes.array.isRequired,\n}\n\nexport default AppLayout\n"],"names":["AppLink","props","resolved","useResolvedPath","match","useMatch","onClick","jsx","TagPill","FilterGroup","jsxs","Fragment","InputText","tag","color","AppLayout","navigate","useNavigate","labelFilter","setLabelFilter","useState","tagFilter","setTagFilter","useEffect","link","resetFilters","newTagFilter","filterTags","tags","filterLabel","label","onLinkClick","to","isVisible","Outlet","PropTypes"],"mappings":"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"}