{"version":3,"file":"AppLayout.component-5dafe0c6.js","sources":["../../src/components/AppLink.component.jsx","../../src/components/TagPill.component.jsx","../../src/layouts/AppLayout.component.jsx"],"sourcesContent":["import { useMatch, useResolvedPath } from 'react-router-dom'\n\nconst icons = {\n    gql: <i className=\"fa-solid fa-diagram-project mx-3\" />,\n    server: <i className=\"fa-solid fa-box-open mx-3\"></i>,\n    client: <i className=\"fa-solid fa-computer mx-3\" />,\n}\n\nconst AppLink = (props) => {\n    const resolved = useResolvedPath(props.to)\n    const match = useMatch({ path: resolved.pathname, end: false, caseSensitive: false })\n\n    const onClick = () => props.onClick(props.to)\n\n    return props.isVisible || match ? (\n        <button\n            className={'list-group-item list-group-item-action ' + (match ? 'active' : 'text-secondary')}\n            onClick={onClick}\n        >\n            <p className=\"my-2\">\n                {icons[props.tag]}\n                {props.label}\n            </p>\n        </button>\n    ) : null\n}\n\nexport default AppLink\n","const TagPill = (props) => {\n\n    const onClick = () => props.onClick(props.label);\n\n    return (\n        <button\n            type=\"button\"\n            className={'btn btn-sm m-1 px-3 badge-pill btn-' + props.btnColor}\n            onClick={onClick}>\n            {props.label}\n        </button>\n    );\n};\n\nexport default TagPill;\n","import { useState, useEffect } from 'react'\nimport { Outlet, useNavigate } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport InputText from '../lib/components/form/InputText/InputText.component.jsx'\nimport AppLink from '../components/AppLink.component.jsx'\nimport TagPill from '../components/TagPill.component.jsx'\n\nconst FilterGroup = (props) => {\n    return (\n        <>\n            <InputText label={'-- search --'} value={props.text} onChange={props.onTextChange} />\n            <TagPill key={'clearAll'} label={'X'} onClick={props.reset} btnColor={'danger'}></TagPill>\n            {Object.keys(props.tags).map((tag) => {\n                const color = props.tags[tag] ? 'primary' : 'secondary'\n                return <TagPill key={tag} label={tag} onClick={props.onTagClick} btnColor={color}></TagPill>\n            })}\n        </>\n    )\n}\n\nconst AppLayout = (props) => {\n    const navigate = useNavigate()\n    const [labelFilter, setLabelFilter] = useState('')\n    const [tagFilter, setTagFilter] = useState([])\n\n    // Initialize Filters\n    useEffect(() => {\n        const tagFilter = {}\n        props.links.forEach((link) => {\n            if (link.tag) tagFilter[link.tag] = false\n        })\n        setLabelFilter('')\n        setTagFilter(tagFilter)\n    }, [props.links])\n\n    const resetFilters = () => {\n        const newTagFilter = {}\n        for (const tag in tagFilter) {\n            newTagFilter[tag] = false\n        }\n        setTagFilter(newTagFilter)\n    }\n\n    const filterTag = (routeTag) => {\n        return Object.keys(tagFilter).every((tag) => {\n            return !(tagFilter[tag] && routeTag !== tag)\n        })\n    }\n\n    const filterLabel = (label) => {\n        return label?.toLowerCase()?.includes(labelFilter.toLocaleLowerCase())\n    }\n\n    const onLinkClick = (to) => navigate(to)\n\n    const onTagClick = (clickedTag) => {\n        const newTagFilter = {}\n        for (const tag in tagFilter) {\n            newTagFilter[tag] = tag === clickedTag\n        }\n        setTagFilter(newTagFilter)\n    }\n\n    return (\n        <>\n            <div className=\"row\">\n                <div className=\"col-3\">\n                    <FilterGroup\n                        tags={tagFilter}\n                        onTagClick={onTagClick}\n                        text={labelFilter}\n                        onTextChange={setLabelFilter}\n                        reset={resetFilters}\n                    />\n                    <br />\n                    <br />\n                    <div className=\"list-group p-2\">\n                        {props.links.map((link) => {\n                            const isVisible = filterTag(link.tag) && filterLabel(link.label)\n                            return (\n                                <AppLink\n                                    key={link.path}\n                                    to={link.path}\n                                    label={link.label}\n                                    isVisible={isVisible}\n                                    tag={link.tag}\n                                    onClick={onLinkClick}\n                                />\n                            )\n                        })}\n                    </div>\n                </div>\n                <div className=\"col-9\">\n                    <Outlet />\n                </div>\n            </div>\n        </>\n    )\n}\n\nAppLayout.propTypes = {\n    links: PropTypes.array.isRequired,\n}\n\nexport default AppLayout\n"],"names":["icons","jsx","AppLink","props","resolved","useResolvedPath","match","useMatch","onClick","jsxs","TagPill","FilterGroup","Fragment","InputText","tag","color","AppLayout","navigate","useNavigate","labelFilter","setLabelFilter","useState","tagFilter","setTagFilter","useEffect","link","resetFilters","newTagFilter","filterTag","routeTag","filterLabel","label","onLinkClick","to","clickedTag","isVisible","Outlet","PropTypes"],"mappings":"sJAEA,MAAMA,EAAQ,CACV,IAAKC,EAAC,IAAE,CAAA,UAAU,kCAAmC,CAAA,EACrD,OAAQA,EAAC,IAAE,CAAA,UAAU,2BAA4B,CAAA,EACjD,OAAQA,EAAC,IAAE,CAAA,UAAU,2BAA4B,CAAA,CACrD,EAEMC,EAAWC,GAAU,CACjB,MAAAC,EAAWC,EAAgBF,EAAM,EAAE,EACnCG,EAAQC,EAAS,CAAE,KAAMH,EAAS,SAAU,IAAK,GAAO,cAAe,EAAO,CAAA,EAE9EI,EAAU,IAAML,EAAM,QAAQA,EAAM,EAAE,EAErC,OAAAA,EAAM,WAAaG,EACtBL,EAAC,SAAA,CACG,UAAW,2CAA6CK,EAAQ,SAAW,kBAC3E,QAAAE,EAEA,SAAAC,EAAC,IAAE,CAAA,UAAU,OACR,SAAA,CAAAT,EAAMG,EAAM,GAAG,EACfA,EAAM,KAAA,EACX,CAAA,CAEJ,EAAA,IACR,ECzBMO,EAAWP,GAAU,CAEvB,MAAMK,EAAU,IAAML,EAAM,QAAQA,EAAM,KAAK,EAG3C,OAAAF,EAAC,SAAA,CACG,KAAK,SACL,UAAW,sCAAwCE,EAAM,SACzD,QAAAK,EACC,SAAML,EAAA,KAAA,CAAA,CAGnB,ECLMQ,EAAeR,GAGTM,EAAAG,EAAA,CAAA,SAAA,CAACX,EAAAY,EAAA,CAAU,MAAO,eAAgB,MAAOV,EAAM,KAAM,SAAUA,EAAM,YAAc,CAAA,EACnFF,EAACS,GAAyB,MAAO,IAAK,QAASP,EAAM,MAAO,SAAU,QAAA,EAAxD,UAAkE,EAC/E,OAAO,KAAKA,EAAM,IAAI,EAAE,IAAKW,GAAQ,CAClC,MAAMC,EAAQZ,EAAM,KAAKW,CAAG,EAAI,UAAY,YACrC,OAAAb,EAACS,GAAkB,MAAOI,EAAK,QAASX,EAAM,WAAY,SAAUY,CAAA,EAAtDD,CAA6D,CAAA,CACrF,CACL,CAAA,CAAA,EAIFE,EAAab,GAAU,CACzB,MAAMc,EAAWC,IACX,CAACC,EAAaC,CAAc,EAAIC,WAAS,EAAE,EAC3C,CAACC,EAAWC,CAAY,EAAIF,EAAA,SAAS,CAAE,CAAA,EAG7CG,EAAAA,UAAU,IAAM,CACZ,MAAMF,EAAY,CAAA,EACZnB,EAAA,MAAM,QAASsB,GAAS,CACtBA,EAAK,MAAKH,EAAUG,EAAK,GAAG,EAAI,GAAA,CACvC,EACDL,EAAe,EAAE,EACjBG,EAAaD,CAAS,CAAA,EACvB,CAACnB,EAAM,KAAK,CAAC,EAEhB,MAAMuB,EAAe,IAAM,CACvB,MAAMC,EAAe,CAAA,EACrB,UAAWb,KAAOQ,EACdK,EAAab,CAAG,EAAI,GAExBS,EAAaI,CAAY,CAAA,EAGvBC,EAAaC,GACR,OAAO,KAAKP,CAAS,EAAE,MAAOR,GAC1B,EAAEQ,EAAUR,CAAG,GAAKe,IAAaf,EAC3C,EAGCgB,EAAeC,GACVA,GAAO,YAAY,GAAG,SAASZ,EAAY,mBAAmB,EAGnEa,EAAeC,GAAOhB,EAASgB,CAAE,EAUvC,OAEQhC,EAAAW,EAAA,CAAA,SAAAH,EAAC,MAAI,CAAA,UAAU,MACX,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,QACX,SAAA,CAAAR,EAACU,EAAA,CACG,KAAMW,EACN,WAdAY,GAAe,CAC/B,MAAMP,EAAe,CAAA,EACrB,UAAWb,KAAOQ,EACDK,EAAAb,CAAG,EAAIA,IAAQoB,EAEhCX,EAAaI,CAAY,CAAA,EAUT,KAAMR,EACN,aAAcC,EACd,MAAOM,CAAA,CACX,IACC,KAAG,EAAA,IACH,KAAG,EAAA,EACJzB,EAAC,OAAI,UAAU,iBACV,WAAM,MAAM,IAAKwB,GAAS,CACvB,MAAMU,EAAYP,EAAUH,EAAK,GAAG,GAAKK,EAAYL,EAAK,KAAK,EAE3D,OAAAxB,EAACC,EAAA,CAEG,GAAIuB,EAAK,KACT,MAAOA,EAAK,MACZ,UAAAU,EACA,IAAKV,EAAK,IACV,QAASO,CAAA,EALJP,EAAK,IAAA,CAQrB,CAAA,EACL,CAAA,EACJ,IACC,MAAI,CAAA,UAAU,QACX,SAAAxB,EAACmC,GAAO,CAAA,EACZ,CAAA,CACJ,CAAA,CACJ,CAAA,CAER,EAEApB,EAAU,UAAY,CAClB,MAAOqB,EAAU,MAAM,UAC3B"}