{"version":3,"file":"MerchantInitiated-a9101fd0.js","sources":["../../src/app/braintree/pages/client/BTPwPPCheckoutVault/sections/MerchantInitiated.jsx"],"sourcesContent":["import PropTypes from 'prop-types'\nimport withOperations from '../../../../../../layouts/withOperations.component.jsx'\nimport { useAddBusy, useRemoveBusy } from '../../../../../../states/Busy/busy.hooks.jsx'\nimport { useAddOutput } from '../../../../../../states/Output/output.hooks.jsx'\nimport { useSetError } from '../../../../../../states/Error/error.hooks.jsx'\nimport { log, danger } from '../../../../../../integrations/services/LoggerService.jsx'\nimport { serverInterface } from '../../../../../../services/bt.service.jsx'\n\nconst _operations = {\n    transactionSale: {\n        label: 'gateway.transaction.sale()',\n        type: 'server',\n        data: {\n            parameters: {\n                paymentMethodToken: '4srmdjtc',\n                merchantAccountId: 'odesai_USD',\n                amount: '100.00',\n                transactionSource: 'unscheduled',\n                options: {\n                    submitForSettlement: 'true',\n                },\n            },\n        },\n    },\n}\n\nconst MerchantInitiated = (props) => {\n    const addBusy = useAddBusy()\n    const removeBusy = useRemoveBusy()\n    const addOutput = useAddOutput()\n    const setError = useSetError()\n\n    const createTransaction = async () => {\n        addBusy()\n        try {\n            const response = await serverInterface(\n                'transaction',\n                'sale',\n                [],\n                props.operations.transactionSale.data.parameters,\n            )\n            log('MerchantInitiated: createTransaction', response)\n            addOutput('MerchantInitiated', response)\n        } catch (error) {\n            setError()\n            danger('Transaction: createTransaction', error)\n        }\n        removeBusy()\n    }\n\n    return (\n        <button className=\"btn btn-outline-success\" onClick={createTransaction}>\n            Create Transaction\n        </button>\n    )\n}\n\nMerchantInitiated.propTypes = {\n    operations: PropTypes.object,\n}\n\nexport default withOperations(MerchantInitiated, _operations)\n"],"names":["_operations","MerchantInitiated","props","addBusy","useAddBusy","removeBusy","useRemoveBusy","addOutput","useAddOutput","setError","useSetError","response","serverInterface","log","error","danger","PropTypes","MerchantInitiated$1","withOperations"],"mappings":"wVAQA,MAAMA,EAAc,CAChB,gBAAiB,CACb,MAAO,6BACP,KAAM,SACN,KAAM,CACF,WAAY,CACR,mBAAoB,WACpB,kBAAmB,aACnB,OAAQ,SACR,kBAAmB,cACnB,QAAS,CACL,oBAAqB,MACzB,CACJ,CACJ,CACJ,CACJ,EAEMC,EAAqBC,GAAU,CACjC,MAAMC,EAAUC,IACVC,EAAaC,IACbC,EAAYC,IACZC,EAAWC,IAoBjB,SACK,SAAO,CAAA,UAAU,0BAA0B,QAnBtB,SAAY,CAC1BP,IACJ,GAAA,CACA,MAAMQ,EAAW,MAAMC,EACnB,cACA,OACA,CAAC,EACDV,EAAM,WAAW,gBAAgB,KAAK,UAAA,EAE1CW,EAAI,uCAAwCF,CAAQ,EACpDJ,EAAU,oBAAqBI,CAAQ,QAClCG,GACIL,IACTM,EAAO,iCAAkCD,CAAK,CAClD,CACWT,GAAA,EAI6D,SAExE,oBAAA,CAAA,CAER,EAEAJ,EAAkB,UAAY,CAC1B,WAAYe,EAAU,MAC1B,EAEA,MAAAC,EAAeC,EAAejB,EAAmBD,CAAW"}