import{r as y,c as h,d as I,e as S,f,i as w,P as A}from"./index-20ef1387.js";import{B as v,s as D}from"./BraintreeInterface-817e415d.js";import{w as B}from"./withSDKOperations-5fb6bbf0.js";import{l as r,d as c}from"./LoggerService-5538c8b6.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./InputText.component-6208ec5e.js";const T={paypalCheckoutCreate:{label:"braintree-web.paypalCheckout.create(options, callback)",type:"client",data:{options:{client:"CLIENT_INSTANCE_HERE",autoSetDataUserIdToken:!0}}},loadPayPalSDK:{label:"paypalCheckoutInstance.loadPayPalSDK(options, callback)",type:"client",data:{options:{currency:"USD",intent:"capture","disable-funding":"card",dataAttributes:{amount:"100.00",commit:!0}}}},renderPayPalButtons:{label:"window.paypal.Buttons(config).render",type:"client",data:{config:{style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal",tagline:!1}}}},createPayment:{label:"paypalCheckoutInstance.createPayment(options, callback)",type:"client",data:{options:{flow:"checkout",intent:"capture",amount:"100.00",currency:"USD",enableShippingAddress:!0,shippingAddressEditable:!0}}},tokenizePayment:{label:"paypalCheckoutInstance.tokenizePayment(tokenizeOptions, callback)",type:"client",data:{tokenizeOptions:{}}},transactionSale:{label:"gateway.transaction.sale(parameters, callback)",type:"server",data:{parameters:{amount:"100.00",merchantAccountId:"odesai_USD",paymentMethodNonce:"NONCE_HERE",deviceData:"DEVICE_DATA_HERE",options:{submitForSettlement:!0}}}}},N={Component:()=>null},m=t=>{const s=y.useRef(),[l,P]=y.useState(void 0),a=h(),n=I(),i=S(),d=f(),C=w(),b=async()=>{a();try{const e=await v.create({...t.operations.paypalCheckoutCreate.data.options,client:C.clientInstance});r("ReturningCustomer: createPayPalInstance",e),P(e)}catch(e){d(),c("ReturningCustomer: createPayPalInstance",e)}n()},E=async()=>{a(),await l.loadPayPalSDK(t.operations.loadPayPalSDK.data.options),n()},k=async()=>{a(),await window.paypal.Buttons({...t.operations.renderPayPalButtons.data.config,createOrder:u,onApprove:p,onClick:()=>console.log("PayPalCheckout: onClick"),onInit:()=>console.log("PayPalCheckout: onInit"),onCancel:e=>console.error("PayPalCheckout: onCancel",e),onError:e=>console.error("PayPalCheckout: onError",e)}).render(s.current),n()},u=async()=>{let e;a();try{e=await l.createPayment(t.operations.createPayment.data.options),r("ReturningCustomer: createOrder",e)}catch(o){c("ReturningCustomer: onApprove",o)}return n(),e},p=async e=>{a();try{const o=await l.tokenizePayment(e);r("ReturningCustomer: onApprove",o),i("Payload",o)}catch(o){c("ReturningCustomer: onApprove",o)}n()},R={...t.operations.renderPayPalButtons.data.config,createOrder:u,onApprove:p,onClick:()=>console.log("PayPalCheckout: onClick"),onInit:()=>console.log("PayPalCheckout: onInit"),onCancel:e=>console.error("PayPalCheckout: onCancel",e),onError:e=>console.error("PayPalCheckout: onError",e)},g=async()=>{a();try{const e=await D("transaction","sale",[],t.operations.transactionSale.data.parameters);r("ReturningCustomer: createTransaction",e),i("Transaction",e)}catch(e){c("ReturningCustomer: onApprove",e)}n()};return React.createElement(React.Fragment,null,React.createElement("button",{className:"btn btn-outline-success",onClick:b},"Create PayPal Instance"),React.createElement("br",null),React.createElement("br",null),React.createElement("button",{className:"btn btn-outline-success",onClick:E},"Load PayPal JS SDK"),React.createElement("br",null),React.createElement("br",null),React.createElement("button",{className:"btn btn-outline-success",onClick:k},"Render PayPal Buttons"),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{ref:s}),React.createElement("br",null),React.createElement("br",null),React.createElement("button",{className:"btn btn-outline-success",onClick:g},"Create Transaction"),React.createElement("br",null),React.createElement("br",null),React.createElement(N.Component,{...R}))};m.propTypes={operations:A.object};const H=B(m,T);export{H as default};
