import{c as S,d as f,e as R,f as I,i as g,r as u,P as N}from"./index-20ef1387.js";import{B,s as v}from"./BraintreeInterface-817e415d.js";import{w as A}from"./withSDKOperations-5fb6bbf0.js";import{l as a,d as c,w as D}from"./LoggerService-5538c8b6.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./InputText.component-6208ec5e.js";const T={paypalCheckoutCreate:{label:"braintree-web.paypalCheckout.create(options, callback)",type:"client",data:{options:{client:"CLIENT_INSTANCE_HERE"}}},loadPayPalSDK:{label:"paypalCheckoutInstance.loadPayPalSDK(options, callback)",type:"client",data:{options:{currency:"USD",intent:"capture","disable-funding":"card"}}},renderPayPalButtons:{label:"window.paypal.Buttons(config).render",type:"client",data:{config:{style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal",tagline:!1}}}},createPayment:{label:"paypalCheckoutInstance.createPayment(options, callback)",type:"client",data:{options:{flow:"checkout",intent:"capture",amount:"100.00",currency:"USD",enableShippingAddress:!0,shippingAddressEditable:!0}}},tokenizePayment:{label:"paypalCheckoutInstance.tokenizePayment(tokenizeOptions, callback)",type:"client",data:{tokenizeOptions:{}}},transactionSale:{label:"gateway.transaction.sale(parameters, callback)",type:"server",data:{parameters:{amount:"100.00",merchantAccountId:"odesai_USD",paymentMethodNonce:"NONCE_HERE",options:{submitForSettlement:!0}}}}},O=["clientInstance"],y=s=>{const n=S(),o=f(),p=R(),r=I(),P=g(),l=u.useRef(),[i,d]=u.useState(void 0),[m,C]=u.useState(void 0),b=async()=>{n();try{const e=await B.create({client:P.clientInstance});a("Checkout: createPayPalInstance",e),d(e)}catch(e){r(),c("NewCustomer: createPayPalInstance",e)}o()},k=async()=>{n(),await i.loadPayPalSDK(s.operations.loadPayPalSDK.data.options),o()},h=async()=>{var e;n();try{if(!((e=window==null?void 0:window.paypal)!=null&&e.Buttons))throw Error("PayPal JS SDK not found");const t=E();l.current.innerHTML=null,await window.paypal.Buttons(t).render(l.current)}catch(t){r(),c("NewCustomer: renderPayPalButtons",t)}o()},E=()=>({...s.operations.renderPayPalButtons.data.config,fundingSource:window.paypal.FUNDING.PAYPAL,createOrder:async()=>{n();let e;try{e=await i.createPayment(s.operations.createPayment.data.options),a("PayPalCheckout: createOrder",e)}catch(t){r(),c("PayPalCheckout: createOrder",t)}return o(),e},onApprove:async e=>{n();try{a("PayPalCheckout: onApprove",e);const t=await i.tokenizePayment(e);a("PayPalCheckout: tokenizePayment",t),p("TokenizePayment",t),C(t.nonce)}catch(t){r(),c("PayPalCheckout: onApprove",t)}o()},onClick:(...e)=>a("PayPalCheckout: onClick",{...e}),onInit:(...e)=>a("PayPalCheckout: onInit",{...e}),onCancel:e=>D("PayPalCheckout: onCancel",e),onError:e=>c("PayPalCheckout: onError",e)}),w=async()=>{n();try{const e={...s.operations.transactionSale.data.parameters,paymentMethodNonce:m},t=await v("transaction","sale",[],e);a("Checkout: createTransaction",t),p("TransactionSale",t)}catch(e){r(),c("Checkout: createTransaction",e)}o()};return React.createElement(React.Fragment,null,React.createElement("button",{className:"btn btn-outline-success",onClick:b},"Create PayPal Instance"),React.createElement("br",null),React.createElement("br",null),React.createElement("button",{className:"btn btn-outline-success",onClick:k},"Load PayPal JS SDK"),React.createElement("br",null),React.createElement("br",null),React.createElement("button",{className:"btn btn-outline-success",onClick:h},"Render PayPal Buttons"),React.createElement("br",null),React.createElement("br",null),React.createElement("div",{ref:l}),React.createElement("br",null),React.createElement("br",null),React.createElement("button",{className:"btn btn-outline-success",onClick:w},"Create Transaction"))};y.propTypes={operations:N.object};const F=A(y,T,O);export{F as default};
